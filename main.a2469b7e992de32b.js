"use strict";(self.webpackChunkportfolio_rico=self.webpackChunkportfolio_rico||[]).push([[792],{257:(uo,Vi,_t)=>{_t.d(Vi,{$:()=>uD,A:()=>Oe,G:()=>an,K:()=>Eb,L:()=>xl,N:()=>$s,P:()=>f0,R:()=>h0,U:()=>jt,V:()=>xb,W:()=>cD,X:()=>zP,Y:()=>lD,Z:()=>Ol,_:()=>zh,a:()=>Xh,a0:()=>WP,a1:()=>Uu,a2:()=>Nc,a3:()=>dg,a4:()=>pa,a5:()=>ii,a6:()=>KP,a7:()=>mD,a8:()=>Kh,a9:()=>gD,aA:()=>_b,aB:()=>_n,aC:()=>Re,aD:()=>y0,aE:()=>Se,aF:()=>Me,aG:()=>qu,aH:()=>ae,aI:()=>g0,aJ:()=>Nn,aN:()=>Jh,aQ:()=>kl,aa:()=>Tt,ab:()=>Ao,ac:()=>YP,ad:()=>QP,ae:()=>Ga,af:()=>XP,ag:()=>JP,ah:()=>eF,ak:()=>tF,al:()=>nF,am:()=>iF,ap:()=>hD,aq:()=>mg,as:()=>_g,at:()=>sF,au:()=>On,av:()=>at,aw:()=>Rl,ax:()=>Yt,ay:()=>Hg,az:()=>Ka,b:()=>rn,c:()=>AD,d:()=>xD,e:()=>RD,f:()=>Xi,g:()=>hf,h:()=>Vr,i:()=>Ul,j:()=>Wu,k:()=>ri,l:()=>Cg,m:()=>Wi,p:()=>zn,r:()=>sf,s:()=>ws,u:()=>Dg});var L=_t(467),Ne=_t(852),V=_t(76),it=_t(41),Tn=_t(635),rt=_t(362);const zn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Oe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const an=function tt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},bi=function Nt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tn=new V.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ct=new it.Vy("@firebase/auth");function di(m,...d){Ct.logLevel<=it.$b.ERROR&&Ct.error(`Auth (${Ne.SDK_VERSION}): ${m}`,...d)}function Yt(m,...d){throw ni(m,...d)}function _n(m,...d){return ni(m,...d)}function Bi(m,d,h){const g=Object.assign(Object.assign({},bi()),{[d]:h});return new V.FA("auth","Firebase",g).create(d,{appName:m.name})}function En(m){return Bi(m,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gt(m,d,h){if(!(d instanceof h))throw h.name!==d.constructor.name&&Yt(m,"argument-error"),Bi(m,"argument-error",`Type of ${d.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ni(m,...d){if("string"!=typeof m){const h=d[0],g=[...d.slice(1)];return g[0]&&(g[0].appName=m.name),m._errorFactory.create(h,...g)}return tn.create(m,...d)}function Re(m,d,...h){if(!m)throw ni(d,...h)}function Mn(m){const d="INTERNAL ASSERTION FAILED: "+m;throw di(d),new Error(d)}function On(m,d){m||Mn(d)}function Ai(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function Fr(){return"http:"===qo()||"https:"===qo()}function qo(){var m;return typeof self<"u"&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Ko{constructor(d,h){this.shortDelay=d,this.longDelay=h,On(h>d,"Short delay should be less than long delay!"),this.isMobile=(0,V.jZ)()||(0,V.lV)()}get(){return function wi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Fr()||(0,V.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function re(m,d){On(m.emulator,"Emulator should always be set here");const{url:h}=m.emulator;return d?`${h}${d.startsWith("/")?d.slice(1):d}`:h}class ue{static initialize(d,h,g){this.fetchImpl=d,h&&(this.headersImpl=h),g&&(this.responseImpl=g)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const be={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ye=new Ko(3e4,6e4);function Te(m,d){return m.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:m.tenantId}):d}function ve(m,d,h,g){return ut.apply(this,arguments)}function ut(){return(ut=(0,L.A)(function*(m,d,h,g,w={}){return nn(m,w,(0,L.A)(function*(){let T={},W={};g&&("GET"===d?W=g:T={body:JSON.stringify(g)});const ie=(0,V.Am)(Object.assign({key:m.config.apiKey},W)).slice(1),Ie=yield m._getAdditionalHeaders();return Ie["Content-Type"]="application/json",m.languageCode&&(Ie["X-Firebase-Locale"]=m.languageCode),ue.fetch()(Ae(m,m.config.apiHost,h,ie),Object.assign({method:d,headers:Ie,referrerPolicy:"no-referrer"},T))}))})).apply(this,arguments)}function nn(m,d,h){return Q.apply(this,arguments)}function Q(){return(Q=(0,L.A)(function*(m,d,h){m._canInitEmulator=!1;const g=Object.assign(Object.assign({},be),d);try{const w=new De(m),T=yield Promise.race([h(),w.promise]);w.clearNetworkTimeout();const W=yield T.json();if("needConfirmation"in W)throw Wt(m,"account-exists-with-different-credential",W);if(T.ok&&!("errorMessage"in W))return W;{const ie=T.ok?W.errorMessage:W.error.message,[Ie,Ke]=ie.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ie)throw Wt(m,"credential-already-in-use",W);if("EMAIL_EXISTS"===Ie)throw Wt(m,"email-already-in-use",W);if("USER_DISABLED"===Ie)throw Wt(m,"user-disabled",W);const ot=g[Ie]||Ie.toLowerCase().replace(/[_\s]+/g,"-");if(Ke)throw Bi(m,ot,Ke);Yt(m,ot)}}catch(w){if(w instanceof V.g)throw w;Yt(m,"network-request-failed",{message:String(w)})}})).apply(this,arguments)}function q(m,d,h,g){return ge.apply(this,arguments)}function ge(){return(ge=(0,L.A)(function*(m,d,h,g,w={}){const T=yield ve(m,d,h,g,w);return"mfaPendingCredential"in T&&Yt(m,"multi-factor-auth-required",{_serverResponse:T}),T})).apply(this,arguments)}function Ae(m,d,h,g){const w=`${d}${h}?${g}`;return m.config.emulator?re(m.config,w):`${m.config.apiScheme}://${w}`}function Ye(m){switch(m){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class De{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((h,g)=>{this.timer=setTimeout(()=>g(_n(this.auth,"network-request-failed")),ye.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wt(m,d,h){const g={appName:m.name};h.email&&(g.email=h.email),h.phoneNumber&&(g.phoneNumber=h.phoneNumber);const w=_n(m,d,g);return w.customData._tokenResponse=h,w}function At(m){return void 0!==m&&void 0!==m.getResponse}function Rt(m){return void 0!==m&&void 0!==m.enterprise}class vt{constructor(d){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=d.recaptchaEnforcementState}getProviderEnforcementState(d){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const h of this.recaptchaEnforcementState)if(h.provider&&h.provider===d)return Ye(h.enforcementState);return null}isProviderEnabled(d){return"ENFORCE"===this.getProviderEnforcementState(d)||"AUDIT"===this.getProviderEnforcementState(d)}}function qr(){return(qr=(0,L.A)(function*(m){return(yield ve(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Gn(m,d){return hi.apply(this,arguments)}function hi(){return(hi=(0,L.A)(function*(m,d){return ve(m,"GET","/v2/recaptchaConfig",Te(m,d))})).apply(this,arguments)}function Kr(){return(Kr=(0,L.A)(function*(m,d){return ve(m,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function Ir(){return(Ir=(0,L.A)(function*(m,d){return ve(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function Lr(m,d){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,L.A)(function*(m,d){return ve(m,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function $i(m){if(m)try{const d=new Date(Number(m));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function ho(){return(ho=(0,L.A)(function*(m,d=!1){const h=(0,V.Ku)(m),g=yield h.getIdToken(d),w=Yo(g);Re(w&&w.exp&&w.auth_time&&w.iat,h.auth,"internal-error");const T="object"==typeof w.firebase?w.firebase:void 0,W=T?.sign_in_provider;return{claims:w,token:g,authTime:$i(gs(w.auth_time)),issuedAtTime:$i(gs(w.iat)),expirationTime:$i(gs(w.exp)),signInProvider:W||null,signInSecondFactor:T?.sign_in_second_factor||null}})).apply(this,arguments)}function gs(m){return 1e3*Number(m)}function Yo(m){const[d,h,g]=m.split(".");if(void 0===d||void 0===h||void 0===g)return di("JWT malformed, contained fewer than 3 sections"),null;try{const w=(0,V.u)(h);return w?JSON.parse(w):(di("Failed to decode base64 JWT payload"),null)}catch(w){return di("Caught error parsing JWT payload as JSON",w?.toString()),null}}function _s(m){const d=Yo(m);return Re(d,"internal-error"),Re(typeof d.exp<"u","internal-error"),Re(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}function Wn(m,d){return fo.apply(this,arguments)}function fo(){return(fo=(0,L.A)(function*(m,d,h=!1){if(h)return d;try{return yield d}catch(g){throw g instanceof V.g&&function vs({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}(g)&&m.auth.currentUser===m&&(yield m.auth.signOut()),g}})).apply(this,arguments)}class Tr{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var h;if(d){const g=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),g}{this.errorBackoff=3e4;const w=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,w)}}schedule(d=!1){var h=this;if(!this.isRunning)return;const g=this.getInterval(d);this.timerId=setTimeout((0,L.A)(function*(){yield h.iteration()}),g)}iteration(){var d=this;return(0,L.A)(function*(){try{yield d.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h?.code&&d.schedule(!0))}d.schedule()})()}}class Qi{constructor(d,h){this.createdAt=d,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=$i(this.lastLoginAt),this.creationTime=$i(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Yr(m){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,L.A)(function*(m){var d;const h=m.auth,g=yield m.getIdToken(),w=yield Wn(m,Lr(h,{idToken:g}));Re(w?.users.length,h,"internal-error");const T=w.users[0];m._notifyReloadListener(T);const W=null!==(d=T.providerUserInfo)&&void 0!==d&&d.length?Qt(T.providerUserInfo):[],ie=function da(m,d){return[...m.filter(g=>!d.some(w=>w.providerId===g.providerId)),...d]}(m.providerData,W),ot=!!m.isAnonymous&&!(m.email&&T.passwordHash||ie?.length),pt={uid:T.localId,displayName:T.displayName||null,photoURL:T.photoUrl||null,email:T.email||null,emailVerified:T.emailVerified||!1,phoneNumber:T.phoneNumber||null,tenantId:T.tenantId||null,providerData:ie,metadata:new Qi(T.createdAt,T.lastLoginAt),isAnonymous:ot};Object.assign(m,pt)})).apply(this,arguments)}function ua(){return(ua=(0,L.A)(function*(m){const d=(0,V.Ku)(m);yield Yr(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Qt(m){return m.map(d=>{var{providerId:h}=d,g=(0,Tn.Tt)(d,["providerId"]);return{providerId:h,uid:g.rawId||"",displayName:g.displayName||null,email:g.email||null,phoneNumber:g.phoneNumber||null,photoURL:g.photoUrl||null}})}function ys(){return(ys=(0,L.A)(function*(m,d){const h=yield nn(m,{},(0,L.A)(function*(){const g=(0,V.Am)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:w,apiKey:T}=m.config,W=Ae(m,w,"/v1/token",`key=${T}`),ie=yield m._getAdditionalHeaders();return ie["Content-Type"]="application/x-www-form-urlencoded",ue.fetch()(W,{method:"POST",headers:ie,body:g})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}function S(){return(S=(0,L.A)(function*(m,d){return ve(m,"POST","/v2/accounts:revokeToken",Te(m,d))})).apply(this,arguments)}class I{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){Re(d.idToken,"internal-error"),Re(typeof d.idToken<"u","internal-error"),Re(typeof d.refreshToken<"u","internal-error");const h="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):_s(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,h)}updateFromIdToken(d){Re(0!==d.length,"internal-error");const h=_s(d);this.updateTokensAndExpiration(d,null,h)}getToken(d,h=!1){var g=this;return(0,L.A)(function*(){return h||!g.accessToken||g.isExpired?(Re(g.refreshToken,d,"user-token-expired"),g.refreshToken?(yield g.refresh(d,g.refreshToken),g.accessToken):null):g.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,h){var g=this;return(0,L.A)(function*(){const{accessToken:w,refreshToken:T,expiresIn:W}=yield function ha(m,d){return ys.apply(this,arguments)}(d,h);g.updateTokensAndExpiration(w,T,Number(W))})()}updateTokensAndExpiration(d,h,g){this.refreshToken=h||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*g}static fromJSON(d,h){const{refreshToken:g,accessToken:w,expirationTime:T}=h,W=new I;return g&&(Re("string"==typeof g,"internal-error",{appName:d}),W.refreshToken=g),w&&(Re("string"==typeof w,"internal-error",{appName:d}),W.accessToken=w),T&&(Re("number"==typeof T,"internal-error",{appName:d}),W.expirationTime=T),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new I,this.toJSON())}_performRefresh(){return Mn("not implemented")}}function R(m,d){Re("string"==typeof m||typeof m>"u","internal-error",{appName:d})}class O{constructor(d){var{uid:h,auth:g,stsTokenManager:w}=d,T=(0,Tn.Tt)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=g,this.stsTokenManager=w,this.accessToken=w.accessToken,this.displayName=T.displayName||null,this.email=T.email||null,this.emailVerified=T.emailVerified||!1,this.phoneNumber=T.phoneNumber||null,this.photoURL=T.photoURL||null,this.isAnonymous=T.isAnonymous||!1,this.tenantId=T.tenantId||null,this.providerData=T.providerData?[...T.providerData]:[],this.metadata=new Qi(T.createdAt||void 0,T.lastLoginAt||void 0)}getIdToken(d){var h=this;return(0,L.A)(function*(){const g=yield Wn(h,h.stsTokenManager.getToken(h.auth,d));return Re(g,h.auth,"internal-error"),h.accessToken!==g&&(h.accessToken=g,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),g})()}getIdTokenResult(d){return function ms(m){return ho.apply(this,arguments)}(this,d)}reload(){return function Dr(m){return ua.apply(this,arguments)}(this)}_assign(d){this!==d&&(Re(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(h=>Object.assign({},h)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const h=new O(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return h.metadata._copy(this.metadata),h}_onReload(d){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,h=!1){var g=this;return(0,L.A)(function*(){let w=!1;d.idToken&&d.idToken!==g.stsTokenManager.accessToken&&(g.stsTokenManager.updateFromServerResponse(d),w=!0),h&&(yield Yr(g)),yield g.auth._persistUserIfCurrent(g),w&&g.auth._notifyListenersIfCurrent(g)})()}delete(){var d=this;return(0,L.A)(function*(){if((0,Ne._isFirebaseServerApp)(d.auth.app))return Promise.reject(En(d.auth));const h=yield d.getIdToken();return yield Wn(d,function Ri(m,d){return Kr.apply(this,arguments)}(d.auth,{idToken:h})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,h){var g,w,T,W,ie,Ie,Ke,ot;const pt=null!==(g=h.displayName)&&void 0!==g?g:void 0,Ar=null!==(w=h.email)&&void 0!==w?w:void 0,Zn=null!==(T=h.phoneNumber)&&void 0!==T?T:void 0,tr=null!==(W=h.photoURL)&&void 0!==W?W:void 0,bf=null!==(ie=h.tenantId)&&void 0!==ie?ie:void 0,ya=null!==(Ie=h._redirectEventId)&&void 0!==Ie?Ie:void 0,td=null!==(Ke=h.createdAt)&&void 0!==Ke?Ke:void 0,Zo=null!==(ot=h.lastLoginAt)&&void 0!==ot?ot:void 0,{uid:Hc,emailVerified:I0,isAnonymous:C0,providerData:nd,stsTokenManager:$g}=h;Re(Hc&&$g,d,"internal-error");const WD=I.fromJSON(this.name,$g);Re("string"==typeof Hc,d,"internal-error"),R(pt,d.name),R(Ar,d.name),Re("boolean"==typeof I0,d,"internal-error"),Re("boolean"==typeof C0,d,"internal-error"),R(Zn,d.name),R(tr,d.name),R(bf,d.name),R(ya,d.name),R(td,d.name),R(Zo,d.name);const id=new O({uid:Hc,auth:d,email:Ar,emailVerified:I0,displayName:pt,isAnonymous:C0,photoURL:tr,phoneNumber:Zn,tenantId:bf,stsTokenManager:WD,createdAt:td,lastLoginAt:Zo});return nd&&Array.isArray(nd)&&(id.providerData=nd.map(hF=>Object.assign({},hF))),ya&&(id._redirectEventId=ya),id}static _fromIdTokenResponse(d,h,g=!1){return(0,L.A)(function*(){const w=new I;w.updateFromServerResponse(h);const T=new O({uid:h.localId,auth:d,stsTokenManager:w,isAnonymous:g});return yield Yr(T),T})()}static _fromGetAccountInfoResponse(d,h,g){return(0,L.A)(function*(){const w=h.users[0];Re(void 0!==w.localId,"internal-error");const T=void 0!==w.providerUserInfo?Qt(w.providerUserInfo):[],W=!(w.email&&w.passwordHash||T?.length),ie=new I;ie.updateFromIdToken(g);const Ie=new O({uid:w.localId,auth:d,stsTokenManager:ie,isAnonymous:W}),Ke={uid:w.localId,displayName:w.displayName||null,photoURL:w.photoUrl||null,email:w.email||null,emailVerified:w.emailVerified||!1,phoneNumber:w.phoneNumber||null,tenantId:w.tenantId||null,providerData:T,metadata:new Qi(w.createdAt,w.lastLoginAt),isAnonymous:!(w.email&&w.passwordHash||T?.length)};return Object.assign(Ie,Ke),Ie})()}}const de=new Map;function Se(m){On(m instanceof Function,"Expected a class definition");let d=de.get(m);return d?(On(d instanceof m,"Instance stored in cache mismatched with class"),d):(d=new m,de.set(m,d),d)}const jt=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,L.A)(function*(){return!0})()}_set(h,g){var w=this;return(0,L.A)(function*(){w.storage[h]=g})()}_get(h){var g=this;return(0,L.A)(function*(){const w=g.storage[h];return void 0===w?null:w})()}_remove(h){var g=this;return(0,L.A)(function*(){delete g.storage[h]})()}_addListener(h,g){}_removeListener(h,g){}}return m.type="NONE",m})();function Me(m,d,h){return`firebase:${m}:${d}:${h}`}class kn{constructor(d,h,g){this.persistence=d,this.auth=h,this.userKey=g;const{config:w,name:T}=this.auth;this.fullUserKey=Me(this.userKey,w.apiKey,T),this.fullPersistenceKey=Me("persistence",w.apiKey,T),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,L.A)(function*(){const h=yield d.persistence._get(d.fullUserKey);return h?O._fromJSON(d.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var h=this;return(0,L.A)(function*(){if(h.persistence===d)return;const g=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=d,g?h.setCurrentUser(g):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,h,g="authUser"){return(0,L.A)(function*(){if(!h.length)return new kn(Se(jt),d,g);const w=(yield Promise.all(h.map(function(){var Ke=(0,L.A)(function*(ot){if(yield ot._isAvailable())return ot});return function(ot){return Ke.apply(this,arguments)}}()))).filter(Ke=>Ke);let T=w[0]||Se(jt);const W=Me(g,d.config.apiKey,d.name);let ie=null;for(const Ke of h)try{const ot=yield Ke._get(W);if(ot){const pt=O._fromJSON(d,ot);Ke!==T&&(ie=pt),T=Ke;break}}catch{}const Ie=w.filter(Ke=>Ke._shouldAllowMigration);return T._shouldAllowMigration&&Ie.length?(T=Ie[0],ie&&(yield T._set(W,ie.toJSON())),yield Promise.all(h.map(function(){var Ke=(0,L.A)(function*(ot){if(ot!==T)try{yield ot._remove(W)}catch{}});return function(ot){return Ke.apply(this,arguments)}}())),new kn(T,d,g)):new kn(T,d,g)})()}}function Et(m){const d=m.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Al(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(Ot(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Mh(d))return"Blackberry";if(qm(d))return"Webos";if(Zi(d))return"Safari";if((d.includes("chrome/")||zs(d))&&!d.includes("edge/"))return"Chrome";if(Rl(d))return"Android";{const g=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===g?.length)return g[1]}return"Other"}function Ot(m=(0,V.ZQ)()){return/firefox\//i.test(m)}function Zi(m=(0,V.ZQ)()){const d=m.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function zs(m=(0,V.ZQ)()){return/crios\//i.test(m)}function Al(m=(0,V.ZQ)()){return/iemobile/i.test(m)}function Rl(m=(0,V.ZQ)()){return/android/i.test(m)}function Mh(m=(0,V.ZQ)()){return/blackberry/i.test(m)}function qm(m=(0,V.ZQ)()){return/webos/i.test(m)}function at(m=(0,V.ZQ)()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function _b(m=(0,V.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}function Ee(m=(0,V.ZQ)()){return at(m)||Rl(m)||qm(m)||Mh(m)||/windows phone/i.test(m)||Al(m)}function je(m,d=[]){let h;switch(m){case"Browser":h=Et((0,V.ZQ)());break;case"Worker":h=`${Et((0,V.ZQ)())}-${m}`;break;default:h=m}const g=d.length?d.join(","):"FirebaseCore-web";return`${h}/JsCore/${Ne.SDK_VERSION}/${g}`}class xt{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,h){const g=T=>new Promise((W,ie)=>{try{W(d(T))}catch(Ie){ie(Ie)}});g.onAbort=h,this.queue.push(g);const w=this.queue.length-1;return()=>{this.queue[w]=()=>Promise.resolve()}}runMiddleware(d){var h=this;return(0,L.A)(function*(){if(h.auth.currentUser===d)return;const g=[];try{for(const w of h.queue)yield w(d),w.onAbort&&g.push(w.onAbort)}catch(w){g.reverse();for(const T of g)try{T()}catch{}throw h.auth._errorFactory.create("login-blocked",{originalMessage:w?.message})}})()}}function cn(){return(cn=(0,L.A)(function*(m,d={}){return ve(m,"GET","/v2/passwordPolicy",Te(m,d))})).apply(this,arguments)}class Bt{constructor(d){var h,g,w,T;const W=d.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(h=W.minPasswordLength)&&void 0!==h?h:6,W.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=W.maxPasswordLength),void 0!==W.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=W.containsLowercaseCharacter),void 0!==W.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=W.containsUppercaseCharacter),void 0!==W.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=W.containsNumericCharacter),void 0!==W.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=W.containsNonAlphanumericCharacter),this.enforcementState=d.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(w=null===(g=d.allowedNonAlphanumericCharacters)||void 0===g?void 0:g.join(""))&&void 0!==w?w:"",this.forceUpgradeOnSignin=null!==(T=d.forceUpgradeOnSignin)&&void 0!==T&&T,this.schemaVersion=d.schemaVersion}validatePassword(d){var h,g,w,T,W,ie;const Ie={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(d,Ie),this.validatePasswordCharacterOptions(d,Ie),Ie.isValid&&(Ie.isValid=null===(h=Ie.meetsMinPasswordLength)||void 0===h||h),Ie.isValid&&(Ie.isValid=null===(g=Ie.meetsMaxPasswordLength)||void 0===g||g),Ie.isValid&&(Ie.isValid=null===(w=Ie.containsLowercaseLetter)||void 0===w||w),Ie.isValid&&(Ie.isValid=null===(T=Ie.containsUppercaseLetter)||void 0===T||T),Ie.isValid&&(Ie.isValid=null===(W=Ie.containsNumericCharacter)||void 0===W||W),Ie.isValid&&(Ie.isValid=null===(ie=Ie.containsNonAlphanumericCharacter)||void 0===ie||ie),Ie}validatePasswordLengthOptions(d,h){const g=this.customStrengthOptions.minPasswordLength,w=this.customStrengthOptions.maxPasswordLength;g&&(h.meetsMinPasswordLength=d.length>=g),w&&(h.meetsMaxPasswordLength=d.length<=w)}validatePasswordCharacterOptions(d,h){let g;this.updatePasswordCharacterOptionsStatuses(h,!1,!1,!1,!1);for(let w=0;w<d.length;w++)g=d.charAt(w),this.updatePasswordCharacterOptionsStatuses(h,g>="a"&&g<="z",g>="A"&&g<="Z",g>="0"&&g<="9",this.allowedNonAlphanumericCharacters.includes(g))}updatePasswordCharacterOptionsStatuses(d,h,g,w,T){this.customStrengthOptions.containsLowercaseLetter&&(d.containsLowercaseLetter||(d.containsLowercaseLetter=h)),this.customStrengthOptions.containsUppercaseLetter&&(d.containsUppercaseLetter||(d.containsUppercaseLetter=g)),this.customStrengthOptions.containsNumericCharacter&&(d.containsNumericCharacter||(d.containsNumericCharacter=w)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(d.containsNonAlphanumericCharacter||(d.containsNonAlphanumericCharacter=T))}}class So{constructor(d,h,g,w){this.app=d,this.heartbeatServiceProvider=h,this.appCheckServiceProvider=g,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Oh(this),this.idTokenSubscription=new Oh(this),this.beforeStateQueue=new xt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(d,h){var g=this;return h&&(this._popupRedirectResolver=Se(h)),this._initializationPromise=this.queue((0,L.A)(function*(){var w,T;if(!g._deleted&&(g.persistenceManager=yield kn.create(g,d),!g._deleted)){if(null!==(w=g._popupRedirectResolver)&&void 0!==w&&w._shouldInitProactively)try{yield g._popupRedirectResolver._initialize(g)}catch{}yield g.initializeCurrentUser(h),g.lastNotifiedUid=(null===(T=g.currentUser)||void 0===T?void 0:T.uid)||null,!g._deleted&&(g._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,L.A)(function*(){if(d._deleted)return;const h=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||h){if(d.currentUser&&h&&d.currentUser.uid===h.uid)return d._currentUser._assign(h),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(h,!0)}})()}initializeCurrentUserFromIdToken(d){var h=this;return(0,L.A)(function*(){try{const g=yield Lr(h,{idToken:d}),w=yield O._fromGetAccountInfoResponse(h,g,d);yield h.directlySetCurrentUser(w)}catch(g){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",g),yield h.directlySetCurrentUser(null)}})()}initializeCurrentUser(d){var h=this;return(0,L.A)(function*(){var g;if((0,Ne._isFirebaseServerApp)(h.app)){const ie=h.app.settings.authIdToken;return ie?new Promise(Ie=>{setTimeout(()=>h.initializeCurrentUserFromIdToken(ie).then(Ie,Ie))}):h.directlySetCurrentUser(null)}const w=yield h.assertedPersistence.getCurrentUser();let T=w,W=!1;if(d&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const ie=null===(g=h.redirectUser)||void 0===g?void 0:g._redirectEventId,Ie=T?._redirectEventId,Ke=yield h.tryRedirectSignIn(d);(!ie||ie===Ie)&&Ke?.user&&(T=Ke.user,W=!0)}if(!T)return h.directlySetCurrentUser(null);if(!T._redirectEventId){if(W)try{yield h.beforeStateQueue.runMiddleware(T)}catch(ie){T=w,h._popupRedirectResolver._overrideRedirectResult(h,()=>Promise.reject(ie))}return T?h.reloadAndSetCurrentUserOrClear(T):h.directlySetCurrentUser(null)}return Re(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===T._redirectEventId?h.directlySetCurrentUser(T):h.reloadAndSetCurrentUserOrClear(T)})()}tryRedirectSignIn(d){var h=this;return(0,L.A)(function*(){let g=null;try{g=yield h._popupRedirectResolver._completeRedirectFn(h,d,!0)}catch{yield h._setRedirectUser(null)}return g})()}reloadAndSetCurrentUserOrClear(d){var h=this;return(0,L.A)(function*(){try{yield Yr(d)}catch(g){if("auth/network-request-failed"!==g?.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function ps(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var d=this;return(0,L.A)(function*(){d._deleted=!0})()}updateCurrentUser(d){var h=this;return(0,L.A)(function*(){if((0,Ne._isFirebaseServerApp)(h.app))return Promise.reject(En(h));const g=d?(0,V.Ku)(d):null;return g&&Re(g.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(g&&g._clone(h))})()}_updateCurrentUser(d,h=!1){var g=this;return(0,L.A)(function*(){if(!g._deleted)return d&&Re(g.tenantId===d.tenantId,g,"tenant-id-mismatch"),h||(yield g.beforeStateQueue.runMiddleware(d)),g.queue((0,L.A)(function*(){yield g.directlySetCurrentUser(d),g.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,L.A)(function*(){return(0,Ne._isFirebaseServerApp)(d.app)?Promise.reject(En(d)):(yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0))})()}setPersistence(d){var h=this;return(0,Ne._isFirebaseServerApp)(this.app)?Promise.reject(En(this)):this.queue((0,L.A)(function*(){yield h.assertedPersistence.setPersistence(Se(d))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(d){var h=this;return(0,L.A)(function*(){h._getPasswordPolicyInternal()||(yield h._updatePasswordPolicy());const g=h._getPasswordPolicyInternal();return g.schemaVersion!==h.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(h._errorFactory.create("unsupported-password-policy-schema-version",{})):g.validatePassword(d)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var d=this;return(0,L.A)(function*(){const h=yield function Ht(m){return cn.apply(this,arguments)}(d),g=new Bt(h);null===d.tenantId?d._projectPasswordPolicy=g:d._tenantPasswordPolicies[d.tenantId]=g})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new V.FA("auth","Firebase",d())}onAuthStateChanged(d,h,g){return this.registerStateListener(this.authStateSubscription,d,h,g)}beforeAuthStateChanged(d,h){return this.beforeStateQueue.pushCallback(d,h)}onIdTokenChanged(d,h,g){return this.registerStateListener(this.idTokenSubscription,d,h,g)}authStateReady(){return new Promise((d,h)=>{if(this.currentUser)d();else{const g=this.onAuthStateChanged(()=>{g(),d()},h)}})}revokeAccessToken(d){var h=this;return(0,L.A)(function*(){if(h.currentUser){const g=yield h.currentUser.getIdToken(),w={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:d,idToken:g};null!=h.tenantId&&(w.tenantId=h.tenantId),yield function z(m,d){return S.apply(this,arguments)}(h,w)}})()}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,h){var g=this;return(0,L.A)(function*(){const w=yield g.getOrInitRedirectPersistenceManager(h);return null===d?w.removeCurrentUser():w.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var h=this;return(0,L.A)(function*(){if(!h.redirectPersistenceManager){const g=d&&Se(d)||h._popupRedirectResolver;Re(g,h,"argument-error"),h.redirectPersistenceManager=yield kn.create(h,[Se(g._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(d){var h=this;return(0,L.A)(function*(){var g,w;return h._isInitialized&&(yield h.queue((0,L.A)(function*(){}))),(null===(g=h._currentUser)||void 0===g?void 0:g._redirectEventId)===d?h._currentUser:(null===(w=h.redirectUser)||void 0===w?void 0:w._redirectEventId)===d?h.redirectUser:null})()}_persistUserIfCurrent(d){var h=this;return(0,L.A)(function*(){if(d===h.currentUser)return h.queue((0,L.A)(function*(){return h.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const g=null!==(h=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==g&&(this.lastNotifiedUid=g,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,h,g,w){if(this._deleted)return()=>{};const T="function"==typeof h?h:h.next.bind(h);let W=!1;const ie=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(ie,this,"internal-error"),ie.then(()=>{W||T(this.currentUser)}),"function"==typeof h){const Ie=d.addObserver(h,g,w);return()=>{W=!0,Ie()}}{const Ie=d.addObserver(h);return()=>{W=!0,Ie()}}}directlySetCurrentUser(d){var h=this;return(0,L.A)(function*(){h.currentUser&&h.currentUser!==d&&h._currentUser._stopProactiveRefresh(),d&&h.isProactiveRefreshEnabled&&d._startProactiveRefresh(),h.currentUser=d,d?yield h.assertedPersistence.setCurrentUser(d):yield h.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=je(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,L.A)(function*(){var h;const g={"X-Client-Version":d.clientVersion};d.app.options.appId&&(g["X-Firebase-gmpid"]=d.app.options.appId);const w=yield null===(h=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();w&&(g["X-Firebase-Client"]=w);const T=yield d._getAppCheckToken();return T&&(g["X-Firebase-AppCheck"]=T),g})()}_getAppCheckToken(){var d=this;return(0,L.A)(function*(){var h;const g=yield null===(h=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getToken();return g?.error&&function $n(m,...d){Ct.logLevel<=it.$b.WARN&&Ct.warn(`Auth (${Ne.SDK_VERSION}): ${m}`,...d)}(`Error while retrieving App Check token: ${g.error}`),g?.token})()}}function Nn(m){return(0,V.Ku)(m)}class Oh{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,V.tD)(h=>this.observer=h)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let kh={loadJS:()=>(0,L.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vu(m){return kh.loadJS(m)}function vb(m){return`__${m}${Math.floor(1e6*Math.random())}`}class yb{constructor(d){this.type="recaptcha-enterprise",this.auth=Nn(d)}verify(d="verify",h=!1){var g=this;return(0,L.A)(function*(){function T(){return T=(0,L.A)(function*(ie){if(!h){if(null==ie.tenantId&&null!=ie._agentRecaptchaConfig)return ie._agentRecaptchaConfig.siteKey;if(null!=ie.tenantId&&void 0!==ie._tenantRecaptchaConfigs[ie.tenantId])return ie._tenantRecaptchaConfigs[ie.tenantId].siteKey}return new Promise(function(){var Ie=(0,L.A)(function*(Ke,ot){Gn(ie,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(pt=>{if(void 0!==pt.recaptchaKey){const Ar=new vt(pt);return null==ie.tenantId?ie._agentRecaptchaConfig=Ar:ie._tenantRecaptchaConfigs[ie.tenantId]=Ar,Ke(Ar.siteKey)}ot(new Error("recaptcha Enterprise site key undefined"))}).catch(pt=>{ot(pt)})});return function(Ke,ot){return Ie.apply(this,arguments)}}())}),T.apply(this,arguments)}function W(ie,Ie,Ke){const ot=window.grecaptcha;Rt(ot)?ot.enterprise.ready(()=>{ot.enterprise.execute(ie,{action:d}).then(pt=>{Ie(pt)}).catch(()=>{Ie("NO_RECAPTCHA")})}):Ke(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ie,Ie)=>{(function w(ie){return T.apply(this,arguments)})(g.auth).then(Ke=>{if(!h&&Rt(window.grecaptcha))W(Ke,ie,Ie);else{if(typeof window>"u")return void Ie(new Error("RecaptchaVerifier is only supported in browser"));let ot=function QT(){return kh.recaptchaEnterpriseScript}();0!==ot.length&&(ot+=Ke),Vu(ot).then(()=>{W(Ke,ie,Ie)}).catch(pt=>{Ie(pt)})}}).catch(Ke=>{Ie(Ke)})})})()}}function bb(m,d,h){return wb.apply(this,arguments)}function wb(){return(wb=(0,L.A)(function*(m,d,h,g=!1){const w=new yb(m);let T;try{T=yield w.verify(h)}catch{T=yield w.verify(h,!0)}const W=Object.assign({},d);return Object.assign(W,g?{captchaResp:T}:{captchaResponse:T}),Object.assign(W,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(W,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),W})).apply(this,arguments)}function Nh(m,d,h,g){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,L.A)(function*(m,d,h,g){var w;if(null!==(w=m._getRecaptchaConfig())&&void 0!==w&&w.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const T=yield bb(m,d,h,"getOobCode"===h);return g(m,T)}return g(m,d).catch(function(){var T=(0,L.A)(function*(W){if("auth/missing-recaptcha-token"===W.code){console.log(`${h} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ie=yield bb(m,d,h,"getOobCode"===h);return g(m,ie)}return Promise.reject(W)});return function(W){return T.apply(this,arguments)}}())}),Ym.apply(this,arguments)}function Eb(m,d,h){const g=Nn(m);Re(g._canInitEmulator,g,"emulator-config-failed"),Re(/^https?:\/\//.test(d),g,"invalid-emulator-scheme");const w=!!h?.disableWarnings,T=Ib(d),{host:W,port:ie}=function VP(m){const d=Ib(m),h=/(\/\/)?([^?#/]+)/.exec(m.substr(d.length));if(!h)return{host:"",port:null};const g=h[2].split("@").pop()||"",w=/^(\[[^\]]+\])(:|$)/.exec(g);if(w){const T=w[1];return{host:T,port:Cb(g.substr(T.length+1))}}{const[T,W]=g.split(":");return{host:T,port:Cb(W)}}}(d);g.config.emulator={url:`${T}//${W}${null===ie?"":`:${ie}`}/`},g.settings.appVerificationDisabledForTesting=!0,g.emulatorConfig=Object.freeze({host:W,port:ie,protocol:T.replace(":",""),options:Object.freeze({disableWarnings:w})}),w||function eD(){function m(){const d=document.createElement("p"),h=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}function Ib(m){const d=m.indexOf(":");return d<0?"":m.substr(0,d+1)}function Cb(m){if(!m)return null;const d=Number(m);return isNaN(d)?null:d}class xl{constructor(d,h){this.providerId=d,this.signInMethod=h}toJSON(){return Mn("not implemented")}_getIdTokenResponse(d){return Mn("not implemented")}_linkToIdToken(d,h){return Mn("not implemented")}_getReauthenticationResolver(d){return Mn("not implemented")}}function Zm(m,d){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,L.A)(function*(m,d){return ve(m,"POST","/v1/accounts:resetPassword",Te(m,d))})).apply(this,arguments)}function Xm(){return(Xm=(0,L.A)(function*(m,d){return ve(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function tD(m,d){return Jm.apply(this,arguments)}function Jm(){return(Jm=(0,L.A)(function*(m,d){return ve(m,"POST","/v1/accounts:signUp",d)})).apply(this,arguments)}function eg(){return(eg=(0,L.A)(function*(m,d){return ve(m,"POST","/v1/accounts:update",Te(m,d))})).apply(this,arguments)}function BP(m,d){return tg.apply(this,arguments)}function tg(){return(tg=(0,L.A)(function*(m,d){return q(m,"POST","/v1/accounts:signInWithPassword",Te(m,d))})).apply(this,arguments)}function ng(m,d){return ig.apply(this,arguments)}function ig(){return(ig=(0,L.A)(function*(m,d){return ve(m,"POST","/v1/accounts:sendOobCode",Te(m,d))})).apply(this,arguments)}function Fh(){return(Fh=(0,L.A)(function*(m,d){return ng(m,d)})).apply(this,arguments)}function Lh(m,d){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,L.A)(function*(m,d){return ng(m,d)})).apply(this,arguments)}function Db(m,d){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,L.A)(function*(m,d){return ng(m,d)})).apply(this,arguments)}function rg(){return(rg=(0,L.A)(function*(m,d){return ng(m,d)})).apply(this,arguments)}function og(){return(og=(0,L.A)(function*(m,d){return q(m,"POST","/v1/accounts:signInWithEmailLink",Te(m,d))})).apply(this,arguments)}function jh(){return(jh=(0,L.A)(function*(m,d){return q(m,"POST","/v1/accounts:signInWithEmailLink",Te(m,d))})).apply(this,arguments)}class Mc extends xl{constructor(d,h,g,w=null){super("password",g),this._email=d,this._password=h,this._tenantId=w}static _fromEmailAndPassword(d,h){return new Mc(d,h,"password")}static _fromEmailAndCode(d,h,g=null){return new Mc(d,h,"emailLink",g)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d;if(h?.email&&h?.password){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(d){var h=this;return(0,L.A)(function*(){switch(h.signInMethod){case"password":return Nh(d,{returnSecureToken:!0,email:h._email,password:h._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",BP);case"emailLink":return function iD(m,d){return og.apply(this,arguments)}(d,{email:h._email,oobCode:h._password});default:Yt(d,"internal-error")}})()}_linkToIdToken(d,h){var g=this;return(0,L.A)(function*(){switch(g.signInMethod){case"password":return Nh(d,{idToken:h,returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tD);case"emailLink":return function Uh(m,d){return jh.apply(this,arguments)}(d,{idToken:h,email:g._email,oobCode:g._password});default:Yt(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function ja(m,d){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,L.A)(function*(m,d){return q(m,"POST","/v1/accounts:signInWithIdp",Te(m,d))})).apply(this,arguments)}class $s extends xl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(d){const h=new $s(d.providerId,d.signInMethod);return d.idToken||d.accessToken?(d.idToken&&(h.idToken=d.idToken),d.accessToken&&(h.accessToken=d.accessToken),d.nonce&&!d.pendingToken&&(h.nonce=d.nonce),d.pendingToken&&(h.pendingToken=d.pendingToken)):d.oauthToken&&d.oauthTokenSecret?(h.accessToken=d.oauthToken,h.secret=d.oauthTokenSecret):Yt("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:g,signInMethod:w}=h,T=(0,Tn.Tt)(h,["providerId","signInMethod"]);if(!g||!w)return null;const W=new $s(g,w);return W.idToken=T.idToken||void 0,W.accessToken=T.accessToken||void 0,W.secret=T.secret,W.nonce=T.nonce,W.pendingToken=T.pendingToken||null,W}_getIdTokenResponse(d){return ja(d,this.buildRequest())}_linkToIdToken(d,h){const g=this.buildRequest();return g.idToken=h,ja(d,g)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,ja(d,h)}buildRequest(){const d={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)d.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),d.postBody=(0,V.Am)(h)}return d}}function Ab(){return(Ab=(0,L.A)(function*(m,d){return ve(m,"POST","/v1/accounts:sendVerificationCode",Te(m,d))})).apply(this,arguments)}function Hh(){return(Hh=(0,L.A)(function*(m,d){return q(m,"POST","/v1/accounts:signInWithPhoneNumber",Te(m,d))})).apply(this,arguments)}function sg(){return(sg=(0,L.A)(function*(m,d){const h=yield q(m,"POST","/v1/accounts:signInWithPhoneNumber",Te(m,d));if(h.temporaryProof)throw Wt(m,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const jP={USER_NOT_FOUND:"user-not-found"};function cg(){return(cg=(0,L.A)(function*(m,d){return q(m,"POST","/v1/accounts:signInWithPhoneNumber",Te(m,Object.assign(Object.assign({},d),{operation:"REAUTH"})),jP)})).apply(this,arguments)}class Oc extends xl{constructor(d){super("phone","phone"),this.params=d}static _fromVerification(d,h){return new Oc({verificationId:d,verificationCode:h})}static _fromTokenResponse(d,h){return new Oc({phoneNumber:d,temporaryProof:h})}_getIdTokenResponse(d){return function Rb(m,d){return Hh.apply(this,arguments)}(d,this._makeVerificationRequest())}_linkToIdToken(d,h){return function oD(m,d){return sg.apply(this,arguments)}(d,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(d){return function ag(m,d){return cg.apply(this,arguments)}(d,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:d,phoneNumber:h,verificationId:g,verificationCode:w}=this.params;return d&&h?{temporaryProof:d,phoneNumber:h}:{sessionInfo:g,code:w}}toJSON(){const d={providerId:this.providerId};return this.params.phoneNumber&&(d.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(d.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(d.verificationCode=this.params.verificationCode),this.params.verificationId&&(d.verificationId=this.params.verificationId),d}static fromJSON(d){"string"==typeof d&&(d=JSON.parse(d));const{verificationId:h,verificationCode:g,phoneNumber:w,temporaryProof:T}=d;return g||h||w||T?new Oc({verificationId:h,verificationCode:g,phoneNumber:w,temporaryProof:T}):null}}class kc{constructor(d){var h,g,w,T,W,ie;const Ie=(0,V.I9)((0,V.hp)(d)),Ke=null!==(h=Ie.apiKey)&&void 0!==h?h:null,ot=null!==(g=Ie.oobCode)&&void 0!==g?g:null,pt=function sD(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(w=Ie.mode)&&void 0!==w?w:null);Re(Ke&&ot&&pt,"argument-error"),this.apiKey=Ke,this.operation=pt,this.code=ot,this.continueUrl=null!==(T=Ie.continueUrl)&&void 0!==T?T:null,this.languageCode=null!==(W=Ie.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(ie=Ie.tenantId)&&void 0!==ie?ie:null}static parseLink(d){const h=function aD(m){const d=(0,V.I9)((0,V.hp)(m)).link,h=d?(0,V.I9)((0,V.hp)(d)).deep_link_id:null,g=(0,V.I9)((0,V.hp)(m)).deep_link_id;return(g?(0,V.I9)((0,V.hp)(g)).link:null)||g||h||d||m}(d);try{return new kc(h)}catch{return null}}}let xb=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(h,g){return Mc._fromEmailAndPassword(h,g)}static credentialWithLink(h,g){const w=kc.parseLink(g);return Re(w,"argument-error"),Mc._fromEmailAndCode(h,w.code,w.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class fa{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class Bu extends fa{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}class Ol extends Bu{static credentialFromJSON(d){const h="string"==typeof d?JSON.parse(d):d;return Re("providerId"in h&&"signInMethod"in h,"argument-error"),$s._fromParams(h)}credential(d){return this._credential(Object.assign(Object.assign({},d),{nonce:d.rawNonce}))}_credential(d){return Re(d.idToken||d.accessToken,"argument-error"),$s._fromParams(Object.assign(Object.assign({},d),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(d){return Ol.oauthCredentialFromTaggedObject(d)}static credentialFromError(d){return Ol.oauthCredentialFromTaggedObject(d.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:h,oauthAccessToken:g,oauthTokenSecret:w,pendingToken:T,nonce:W,providerId:ie}=d;if(!g&&!w&&!h&&!T||!ie)return null;try{return new Ol(ie)._credential({idToken:h,accessToken:g,nonce:W,pendingToken:T})}catch{return null}}}let cD=(()=>{class m extends Bu{constructor(){super("facebook.com")}static credential(h){return $s._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return m.credential(h.oauthAccessToken)}catch{return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),zP=(()=>{class m extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(h,g){return $s._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:g})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:w}=h;if(!g&&!w)return null;try{return m.credential(g,w)}catch{return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),lD=(()=>{class m extends Bu{constructor(){super("github.com")}static credential(h){return $s._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return m.credential(h.oauthAccessToken)}catch{return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class kl extends xl{constructor(d,h){super(d,d),this.pendingToken=h}_getIdTokenResponse(d){return ja(d,this.buildRequest())}_linkToIdToken(d,h){const g=this.buildRequest();return g.idToken=h,ja(d,g)}_getReauthenticationResolver(d){const h=this.buildRequest();return h.autoCreate=!1,ja(d,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(d){const h="string"==typeof d?JSON.parse(d):d,{providerId:g,signInMethod:w,pendingToken:T}=h;return g&&w&&T&&g===w?new kl(g,T):null}static _create(d,h){return new kl(d,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class zh extends fa{constructor(d){Re(d.startsWith("saml."),"argument-error"),super(d)}static credentialFromResult(d){return zh.samlCredentialFromTaggedObject(d)}static credentialFromError(d){return zh.samlCredentialFromTaggedObject(d.customData||{})}static credentialFromJSON(d){const h=kl.fromJSON(d);return Re(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{pendingToken:h,providerId:g}=d;if(!h||!g)return null;try{return kl._create(g,h)}catch{return null}}}let uD=(()=>{class m extends Bu{constructor(){super("twitter.com")}static credential(h,g){return $s._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:g})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:g,oauthTokenSecret:w}=h;if(!g||!w)return null;try{return m.credential(g,w)}catch{return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function Mb(m,d){return lg.apply(this,arguments)}function lg(){return(lg=(0,L.A)(function*(m,d){return q(m,"POST","/v1/accounts:signUp",Te(m,d))})).apply(this,arguments)}class dr{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,h,g,w=!1){return(0,L.A)(function*(){const T=yield O._fromIdTokenResponse(d,g,w),W=dD(g);return new dr({user:T,providerId:W,_tokenResponse:g,operationType:h})})()}static _forOperation(d,h,g){return(0,L.A)(function*(){yield d._updateTokensIfNecessary(g,!0);const w=dD(g);return new dr({user:d,providerId:w,_tokenResponse:g,operationType:h})})()}}function dD(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function WP(m){return $h.apply(this,arguments)}function $h(){return($h=(0,L.A)(function*(m){var d;if((0,Ne._isFirebaseServerApp)(m.app))return Promise.reject(En(m));const h=Nn(m);if(yield h._initializationPromise,null!==(d=h.currentUser)&&void 0!==d&&d.isAnonymous)return new dr({user:h.currentUser,providerId:null,operationType:"signIn"});const g=yield Mb(h,{returnSecureToken:!0}),w=yield dr._fromIdTokenResponse(h,"signIn",g,!0);return yield h._updateCurrentUser(w.user),w})).apply(this,arguments)}class Nl extends V.g{constructor(d,h,g,w){var T;super(h.code,h.message),this.operationType=g,this.user=w,Object.setPrototypeOf(this,Nl.prototype),this.customData={appName:d.name,tenantId:null!==(T=d.tenantId)&&void 0!==T?T:void 0,_serverResponse:h.customData._serverResponse,operationType:g}}static _fromErrorAndOperation(d,h,g,w){return new Nl(d,h,g,w)}}function Ob(m,d,h,g){return("reauthenticate"===d?h._getReauthenticationResolver(m):h._getIdTokenResponse(m)).catch(T=>{throw"auth/multi-factor-auth-required"===T.code?Nl._fromErrorAndOperation(m,T,d,g):T})}function kb(m){return new Set(m.map(({providerId:d})=>d).filter(d=>!!d))}function hD(m,d){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,L.A)(function*(m,d){const h=(0,V.Ku)(m);yield ug(!0,h,d);const{providerUserInfo:g}=yield function pn(m,d){return Ir.apply(this,arguments)}(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[d]}),w=kb(g||[]);return h.providerData=h.providerData.filter(T=>w.has(T.providerId)),w.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h}),Gh.apply(this,arguments)}function Nb(m,d){return Pb.apply(this,arguments)}function Pb(){return(Pb=(0,L.A)(function*(m,d,h=!1){const g=yield Wn(m,d._linkToIdToken(m.auth,yield m.getIdToken()),h);return dr._forOperation(m,"link",g)})).apply(this,arguments)}function ug(m,d,h){return Fb.apply(this,arguments)}function Fb(){return(Fb=(0,L.A)(function*(m,d,h){yield Yr(d);const w=!1===m?"provider-already-linked":"no-such-provider";Re(kb(d.providerData).has(h)===m,d.auth,w)})).apply(this,arguments)}function fD(m,d){return Lb.apply(this,arguments)}function Lb(){return(Lb=(0,L.A)(function*(m,d,h=!1){const{auth:g}=m;if((0,Ne._isFirebaseServerApp)(g.app))return Promise.reject(En(g));const w="reauthenticate";try{const T=yield Wn(m,Ob(g,w,d,m),h);Re(T.idToken,g,"internal-error");const W=Yo(T.idToken);Re(W,g,"internal-error");const{sub:ie}=W;return Re(m.uid===ie,g,"user-mismatch"),dr._forOperation(m,w,T)}catch(T){throw"auth/user-not-found"===T?.code&&Yt(g,"user-mismatch"),T}})).apply(this,arguments)}function pD(m,d){return Vb.apply(this,arguments)}function Vb(){return(Vb=(0,L.A)(function*(m,d,h=!1){if((0,Ne._isFirebaseServerApp)(m.app))return Promise.reject(En(m));const g="signIn",w=yield Ob(m,g,d),T=yield dr._fromIdTokenResponse(m,g,w);return h||(yield m._updateCurrentUser(T.user)),T})).apply(this,arguments)}function Uu(m,d){return se.apply(this,arguments)}function se(){return(se=(0,L.A)(function*(m,d){return pD(Nn(m),d)})).apply(this,arguments)}function Nc(m,d){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,L.A)(function*(m,d){const h=(0,V.Ku)(m);return yield ug(!1,h,d.providerId),Nb(h,d)})).apply(this,arguments)}function dg(m,d){return Bb.apply(this,arguments)}function Bb(){return(Bb=(0,L.A)(function*(m,d){return fD((0,V.Ku)(m),d)})).apply(this,arguments)}function Wh(){return(Wh=(0,L.A)(function*(m,d){return q(m,"POST","/v1/accounts:signInWithCustomToken",Te(m,d))})).apply(this,arguments)}function pa(m,d){return Ha.apply(this,arguments)}function Ha(){return Ha=(0,L.A)(function*(m,d){if((0,Ne._isFirebaseServerApp)(m.app))return Promise.reject(En(m));const h=Nn(m),g=yield function qP(m,d){return Wh.apply(this,arguments)}(h,{token:d,returnSecureToken:!0}),w=yield dr._fromIdTokenResponse(h,"signIn",g);return yield h._updateCurrentUser(w.user),w}),Ha.apply(this,arguments)}class Gs{constructor(d,h){this.factorId=d,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(d,h){return"phoneInfo"in h?za._fromServerResponse(d,h):"totpInfo"in h?qh._fromServerResponse(d,h):Yt(d,"internal-error")}}class za extends Gs{constructor(d){super("phone",d),this.phoneNumber=d.phoneInfo}static _fromServerResponse(d,h){return new za(h)}}class qh extends Gs{constructor(d){super("totp",d)}static _fromServerResponse(d,h){return new qh(h)}}function Fl(m,d,h){var g;Re((null===(g=h.url)||void 0===g?void 0:g.length)>0,m,"invalid-continue-uri"),Re(typeof h.dynamicLinkDomain>"u"||h.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),d.continueUrl=h.url,d.dynamicLinkDomain=h.dynamicLinkDomain,d.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(Re(h.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),d.iOSBundleId=h.iOS.bundleId),h.android&&(Re(h.android.packageName.length>0,m,"missing-android-pkg-name"),d.androidInstallApp=h.android.installApp,d.androidMinimumVersionCode=h.android.minimumVersion,d.androidPackageName=h.android.packageName)}function $a(m){return Ub.apply(this,arguments)}function Ub(){return(Ub=(0,L.A)(function*(m){const d=Nn(m);d._getPasswordPolicyInternal()&&(yield d._updatePasswordPolicy())})).apply(this,arguments)}function ii(m,d,h){return jb.apply(this,arguments)}function jb(){return(jb=(0,L.A)(function*(m,d,h){const g=Nn(m),w={requestType:"PASSWORD_RESET",email:d,clientType:"CLIENT_TYPE_WEB"};h&&Fl(g,w,h),yield Nh(g,w,"getOobCode",Lh)})).apply(this,arguments)}function KP(m,d,h){return Sn.apply(this,arguments)}function Sn(){return Sn=(0,L.A)(function*(m,d,h){yield Zm((0,V.Ku)(m),{oobCode:d,newPassword:h}).catch(function(){var g=(0,L.A)(function*(w){throw"auth/password-does-not-meet-requirements"===w.code&&$a(m),w});return function(w){return g.apply(this,arguments)}}())}),Sn.apply(this,arguments)}function mD(m,d){return Ui.apply(this,arguments)}function Ui(){return Ui=(0,L.A)(function*(m,d){yield function nD(m,d){return eg.apply(this,arguments)}((0,V.Ku)(m),{oobCode:d})}),Ui.apply(this,arguments)}function Kh(m,d){return Hb.apply(this,arguments)}function Hb(){return(Hb=(0,L.A)(function*(m,d){const h=(0,V.Ku)(m),g=yield Zm(h,{oobCode:d}),w=g.requestType;switch(Re(w,h,"internal-error"),w){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Re(g.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Re(g.mfaInfo,h,"internal-error");default:Re(g.email,h,"internal-error")}let T=null;return g.mfaInfo&&(T=Gs._fromServerResponse(Nn(h),g.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.newEmail:g.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===g.requestType?g.email:g.newEmail)||null,multiFactorInfo:T},operation:w}})).apply(this,arguments)}function gD(m,d){return vn.apply(this,arguments)}function vn(){return(vn=(0,L.A)(function*(m,d){const{data:h}=yield Kh((0,V.Ku)(m),d);return h.email})).apply(this,arguments)}function Tt(m,d,h){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,L.A)(function*(m,d,h){if((0,Ne._isFirebaseServerApp)(m.app))return Promise.reject(En(m));const g=Nn(m),W=yield Nh(g,{returnSecureToken:!0,email:d,password:h,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mb).catch(Ie=>{throw"auth/password-does-not-meet-requirements"===Ie.code&&$a(m),Ie}),ie=yield dr._fromIdTokenResponse(g,"signIn",W);return yield g._updateCurrentUser(ie.user),ie})).apply(this,arguments)}function Ao(m,d,h){return(0,Ne._isFirebaseServerApp)(m.app)?Promise.reject(En(m)):Uu((0,V.Ku)(m),xb.credential(d,h)).catch(function(){var g=(0,L.A)(function*(w){throw"auth/password-does-not-meet-requirements"===w.code&&$a(m),w});return function(w){return g.apply(this,arguments)}}())}function YP(m,d,h){return hg.apply(this,arguments)}function hg(){return(hg=(0,L.A)(function*(m,d,h){const g=Nn(m),w={requestType:"EMAIL_SIGNIN",email:d,clientType:"CLIENT_TYPE_WEB"};(function T(W,ie){Re(ie.handleCodeInApp,g,"argument-error"),ie&&Fl(g,W,ie)})(w,h),yield Nh(g,w,"getOobCode",Db)})).apply(this,arguments)}function QP(m,d){const h=kc.parseLink(d);return"EMAIL_SIGNIN"===h?.operation}function Ga(m,d,h){return zb.apply(this,arguments)}function zb(){return(zb=(0,L.A)(function*(m,d,h){if((0,Ne._isFirebaseServerApp)(m.app))return Promise.reject(En(m));const g=(0,V.Ku)(m),w=xb.credentialWithLink(d,h||Ai());return Re(w._tenantId===(g.tenantId||null),g,"tenant-id-mismatch"),Uu(g,w)})).apply(this,arguments)}function $b(){return($b=(0,L.A)(function*(m,d){return ve(m,"POST","/v1/accounts:createAuthUri",Te(m,d))})).apply(this,arguments)}function XP(m,d){return fg.apply(this,arguments)}function fg(){return fg=(0,L.A)(function*(m,d){const g={identifier:d,continueUri:Fr()?Ai():"http://localhost"},{signinMethods:w}=yield function ZP(m,d){return $b.apply(this,arguments)}((0,V.Ku)(m),g);return w||[]}),fg.apply(this,arguments)}function JP(m,d){return pg.apply(this,arguments)}function pg(){return pg=(0,L.A)(function*(m,d){const h=(0,V.Ku)(m),w={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};d&&Fl(h.auth,w,d);const{email:T}=yield function Ua(m,d){return Fh.apply(this,arguments)}(h.auth,w);T!==m.email&&(yield m.reload())}),pg.apply(this,arguments)}function eF(m,d,h){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,L.A)(function*(m,d,h){const g=(0,V.Ku)(m),T={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:d};h&&Fl(g.auth,T,h);const{email:W}=yield function Sb(m,d){return rg.apply(this,arguments)}(g.auth,T);W!==m.email&&(yield m.reload())}),Qr.apply(this,arguments)}function Gb(){return(Gb=(0,L.A)(function*(m,d){return ve(m,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function tF(m,d){return Wb.apply(this,arguments)}function Wb(){return Wb=(0,L.A)(function*(m,{displayName:d,photoURL:h}){if(void 0===d&&void 0===h)return;const g=(0,V.Ku)(m),T={idToken:yield g.getIdToken(),displayName:d,photoUrl:h,returnSecureToken:!0},W=yield Wn(g,function wt(m,d){return Gb.apply(this,arguments)}(g.auth,T));g.displayName=W.displayName||null,g.photoURL=W.photoUrl||null;const ie=g.providerData.find(({providerId:Ie})=>"password"===Ie);ie&&(ie.displayName=g.displayName,ie.photoURL=g.photoURL),yield g._updateTokensIfNecessary(W)}),Wb.apply(this,arguments)}function nF(m,d){const h=(0,V.Ku)(m);return(0,Ne._isFirebaseServerApp)(h.auth.app)?Promise.reject(En(h.auth)):pe(h,d,null)}function iF(m,d){return pe((0,V.Ku)(m),null,d)}function pe(m,d,h){return qb.apply(this,arguments)}function qb(){return qb=(0,L.A)(function*(m,d,h){const{auth:g}=m,T={idToken:yield m.getIdToken(),returnSecureToken:!0};d&&(T.email=d),h&&(T.password=h);const W=yield Wn(m,function Tb(m,d){return Xm.apply(this,arguments)}(g,T));yield m._updateTokensIfNecessary(W,!0)}),qb.apply(this,arguments)}class ma{constructor(d,h,g={}){this.isNewUser=d,this.providerId=h,this.profile=g}}class Kb extends ma{constructor(d,h,g,w){super(d,h,g),this.username=w}}class Yb extends ma{constructor(d,h){super(d,"facebook.com",h)}}class _D extends Kb{constructor(d,h){super(d,"github.com",h,"string"==typeof h?.login?h?.login:null)}}class Yh extends ma{constructor(d,h){super(d,"google.com",h)}}class Qh extends Kb{constructor(d,h,g){super(d,"twitter.com",h,g)}}function mg(m){const{user:d,_tokenResponse:h}=m;return d.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function qe(m){var d,h;if(!m)return null;const{providerId:g}=m,w=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},T=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!g&&m?.idToken){const W=null===(h=null===(d=Yo(m.idToken))||void 0===d?void 0:d.firebase)||void 0===h?void 0:h.sign_in_provider;if(W)return new ma(T,"anonymous"!==W&&"custom"!==W?W:null)}if(!g)return null;switch(g){case"facebook.com":return new Yb(T,w);case"github.com":return new _D(T,w);case"google.com":return new Yh(T,w);case"twitter.com":return new Qh(T,w,m.screenName||null);case"custom":case"anonymous":return new ma(T,null);default:return new ma(T,g,w)}}(h)}class ga{constructor(d,h,g){this.type=d,this.credential=h,this.user=g}static _fromIdtoken(d,h){return new ga("enroll",d,h)}static _fromMfaPendingCredential(d){return new ga("signin",d)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(d){var h,g;if(d?.multiFactorSession){if(null!==(h=d.multiFactorSession)&&void 0!==h&&h.pendingCredential)return ga._fromMfaPendingCredential(d.multiFactorSession.pendingCredential);if(null!==(g=d.multiFactorSession)&&void 0!==g&&g.idToken)return ga._fromIdtoken(d.multiFactorSession.idToken)}return null}}class Pc{constructor(d,h,g){this.session=d,this.hints=h,this.signInResolver=g}static _fromError(d,h){const g=Nn(d),w=h.customData._serverResponse,T=(w.mfaInfo||[]).map(ie=>Gs._fromServerResponse(g,ie));Re(w.mfaPendingCredential,g,"internal-error");const W=ga._fromMfaPendingCredential(w.mfaPendingCredential);return new Pc(W,T,function(){var ie=(0,L.A)(function*(Ie){const Ke=yield Ie._process(g,W);delete w.mfaInfo,delete w.mfaPendingCredential;const ot=Object.assign(Object.assign({},w),{idToken:Ke.idToken,refreshToken:Ke.refreshToken});switch(h.operationType){case"signIn":const pt=yield dr._fromIdTokenResponse(g,h.operationType,ot);return yield g._updateCurrentUser(pt.user),pt;case"reauthenticate":return Re(h.user,g,"internal-error"),dr._forOperation(h.user,h.operationType,ot);default:Yt(g,"internal-error")}});return function(Ie){return ie.apply(this,arguments)}}())}resolveSignIn(d){var h=this;return(0,L.A)(function*(){return h.signInResolver(d)})()}}function _g(m,d){var h;const g=(0,V.Ku)(m),w=d;return Re(d.customData.operationType,g,"argument-error"),Re(null===(h=w.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,g,"argument-error"),Pc._fromError(g,w)}class kt{constructor(d){this.user=d,this.enrolledFactors=[],d._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(g=>Gs._fromServerResponse(d.auth,g)))})}static _fromUser(d){return new kt(d)}getSession(){var d=this;return(0,L.A)(function*(){return ga._fromIdtoken(yield d.user.getIdToken(),d.user)})()}enroll(d,h){var g=this;return(0,L.A)(function*(){const w=d,T=yield g.getSession(),W=yield Wn(g.user,w._process(g.user.auth,T,h));return yield g.user._updateTokensIfNecessary(W),g.user.reload()})()}unenroll(d){var h=this;return(0,L.A)(function*(){const g="string"==typeof d?d:d.uid,w=yield h.user.getIdToken();try{const T=yield Wn(h.user,function t0(m,d){return ve(m,"POST","/v2/accounts/mfaEnrollment:withdraw",Te(m,d))}(h.user.auth,{idToken:w,mfaEnrollmentId:g}));h.enrolledFactors=h.enrolledFactors.filter(({uid:W})=>W!==g),yield h.user._updateTokensIfNecessary(T),yield h.user.reload()}catch(T){throw T}})()}}const In=new WeakMap;function sF(m){const d=(0,V.Ku)(m);return In.has(d)||In.set(d,kt._fromUser(d)),In.get(d)}const Zh="__sak";class n0{constructor(d,h){this.storageRetriever=d,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(Zh,"1"),this.storage.removeItem(Zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,h){return this.storage.setItem(d,JSON.stringify(h)),Promise.resolve()}_get(d){const h=this.storage.getItem(d);return Promise.resolve(h?JSON.parse(h):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const rn=(()=>{class m extends n0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,g)=>this.onStorageEvent(h,g),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ee(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const g of Object.keys(this.listeners)){const w=this.storage.getItem(g),T=this.localCache[g];w!==T&&h(g,T,w)}}onStorageEvent(h,g=!1){if(!h.key)return void this.forAllChangedKeys((ie,Ie,Ke)=>{this.notifyListeners(ie,Ke)});const w=h.key;g?this.detachListener():this.stopPolling();const T=()=>{const ie=this.storage.getItem(w);!g&&this.localCache[w]===ie||this.notifyListeners(w,ie)},W=this.storage.getItem(w);!function X(){return(0,V.lT)()&&10===document.documentMode}()||W===h.newValue||h.newValue===h.oldValue?T():setTimeout(T,10)}notifyListeners(h,g){this.localCache[h]=g;const w=this.listeners[h];if(w)for(const T of Array.from(w))T(g&&JSON.parse(g))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,g,w)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:g,newValue:w}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,g){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(g)}_removeListener(h,g){this.listeners[h]&&(this.listeners[h].delete(g),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,g){var w=()=>super._set,T=this;return(0,L.A)(function*(){yield w().call(T,h,g),T.localCache[h]=JSON.stringify(g)})()}_get(h){var g=()=>super._get,w=this;return(0,L.A)(function*(){const T=yield g().call(w,h);return w.localCache[h]=JSON.stringify(T),T})()}_remove(h){var g=()=>super._remove,w=this;return(0,L.A)(function*(){yield g().call(w,h),delete w.localCache[h]})()}}return m.type="LOCAL",m})(),Xh=(()=>{class m extends n0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,g){}_removeListener(h,g){}}return m.type="SESSION",m})();let s0=(()=>{class m{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const g=this.receivers.find(T=>T.isListeningto(h));if(g)return g;const w=new m(h);return this.receivers.push(w),w}isListeningto(h){return this.eventTarget===h}handleEvent(h){var g=this;return(0,L.A)(function*(){const w=h,{eventId:T,eventType:W,data:ie}=w.data,Ie=g.handlersMap[W];if(!Ie?.size)return;w.ports[0].postMessage({status:"ack",eventId:T,eventType:W});const Ke=Array.from(Ie).map(function(){var pt=(0,L.A)(function*(Ar){return Ar(w.origin,ie)});return function(Ar){return pt.apply(this,arguments)}}()),ot=yield function po(m){return Promise.all(m.map(function(){var d=(0,L.A)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(g){return{fulfilled:!1,reason:g}}});return function(h){return d.apply(this,arguments)}}()))}(Ke);w.ports[0].postMessage({status:"done",eventId:T,eventType:W,response:ot})})()}_subscribe(h,g){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(g)}_unsubscribe(h,g){this.handlersMap[h]&&g&&this.handlersMap[h].delete(g),(!g||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function Jh(m="",d=10){let h="";for(let g=0;g<d;g++)h+=Math.floor(10*Math.random());return m+h}class cF{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,h,g=50){var w=this;return(0,L.A)(function*(){const T=typeof MessageChannel<"u"?new MessageChannel:null;if(!T)throw new Error("connection_unavailable");let W,ie;return new Promise((Ie,Ke)=>{const ot=Jh("",20);T.port1.start();const pt=setTimeout(()=>{Ke(new Error("unsupported_event"))},g);ie={messageChannel:T,onMessage(Ar){const Zn=Ar;if(Zn.data.eventId===ot)switch(Zn.data.status){case"ack":clearTimeout(pt),W=setTimeout(()=>{Ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Ie(Zn.data.response);break;default:clearTimeout(pt),clearTimeout(W),Ke(new Error("invalid_response"))}}},w.handlers.add(ie),T.port1.addEventListener("message",ie.onMessage),w.target.postMessage({eventType:d,eventId:ot,data:h},[T.port2])}).finally(()=>{ie&&w.removeMessageHandler(ie)})})()}}function fi(){return window}function Vl(){return typeof fi().WorkerGlobalScope<"u"&&"function"==typeof fi().importScripts}function bg(){return(bg=(0,L.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Fc="firebaseLocalStorageDb",bs="firebaseLocalStorage",c0="fbase_key";class ${constructor(d){this.request=d}toPromise(){return new Promise((d,h)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function zu(m,d){return m.transaction([bs],d?"readwrite":"readonly").objectStore(bs)}function Bl(){const m=indexedDB.open(Fc,1);return new Promise((d,h)=>{m.addEventListener("error",()=>{h(m.error)}),m.addEventListener("upgradeneeded",()=>{const g=m.result;try{g.createObjectStore(bs,{keyPath:c0})}catch(w){h(w)}}),m.addEventListener("success",(0,L.A)(function*(){const g=m.result;g.objectStoreNames.contains(bs)?d(g):(g.close(),yield function F(){const m=indexedDB.deleteDatabase(Fc);return new $(m).toPromise()}(),d(yield Bl()))}))})}function ef(m,d,h){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,L.A)(function*(m,d,h){const g=zu(m,!0).put({[c0]:d,value:h});return new $(g).toPromise()})).apply(this,arguments)}function wg(){return(wg=(0,L.A)(function*(m,d){const h=zu(m,!1).get(d),g=yield new $(h).toPromise();return void 0===g?null:g.value})).apply(this,arguments)}function l0(m,d){const h=zu(m,!0).delete(d);return new $(h).toPromise()}const Ul=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,L.A)(function*(){return h.db||(h.db=yield Bl()),h.db})()}_withRetries(h){var g=this;return(0,L.A)(function*(){let w=0;for(;;)try{const T=yield g._openDb();return yield h(T)}catch(T){if(w++>3)throw T;g.db&&(g.db.close(),g.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,L.A)(function*(){return Vl()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,L.A)(function*(){h.receiver=s0._getInstance(function a0(){return Vl()?self:null}()),h.receiver._subscribe("keyChanged",function(){var g=(0,L.A)(function*(w,T){return{keyProcessed:(yield h._poll()).includes(T.key)}});return function(w,T){return g.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var g=(0,L.A)(function*(w,T){return["keyChanged"]});return function(w,T){return g.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,L.A)(function*(){var g,w;if(h.activeServiceWorker=yield function bD(){return bg.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new cF(h.activeServiceWorker);const T=yield h.sender._send("ping",{},800);T&&null!==(g=T[0])&&void 0!==g&&g.fulfilled&&null!==(w=T[0])&&void 0!==w&&w.value.includes("keyChanged")&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var g=this;return(0,L.A)(function*(){if(g.sender&&g.activeServiceWorker&&function wD(){var m;return(null===(m=navigator?.serviceWorker)||void 0===m?void 0:m.controller)||null}()===g.activeServiceWorker)try{yield g.sender._send("keyChanged",{key:h},g.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,L.A)(function*(){try{if(!indexedDB)return!1;const h=yield Bl();return yield ef(h,Zh,"1"),yield l0(h,Zh),!0}catch{}return!1})()}_withPendingWrite(h){var g=this;return(0,L.A)(function*(){g.pendingWrites++;try{yield h()}finally{g.pendingWrites--}})()}_set(h,g){var w=this;return(0,L.A)(function*(){return w._withPendingWrite((0,L.A)(function*(){return yield w._withRetries(T=>ef(T,h,g)),w.localCache[h]=g,w.notifyServiceWorker(h)}))})()}_get(h){var g=this;return(0,L.A)(function*(){const w=yield g._withRetries(T=>function ID(m,d){return wg.apply(this,arguments)}(T,h));return g.localCache[h]=w,w})()}_remove(h){var g=this;return(0,L.A)(function*(){return g._withPendingWrite((0,L.A)(function*(){return yield g._withRetries(w=>l0(w,h)),delete g.localCache[h],g.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,L.A)(function*(){const g=yield h._withRetries(W=>{const ie=zu(W,!1).getAll();return new $(ie).toPromise()});if(!g)return[];if(0!==h.pendingWrites)return[];const w=[],T=new Set;if(0!==g.length)for(const{fbase_key:W,value:ie}of g)T.add(W),JSON.stringify(h.localCache[W])!==JSON.stringify(ie)&&(h.notifyListeners(W,ie),w.push(W));for(const W of Object.keys(h.localCache))h.localCache[W]&&!T.has(W)&&(h.notifyListeners(W,null),w.push(W));return w})()}notifyListeners(h,g){this.localCache[h]=g;const w=this.listeners[h];if(w)for(const T of Array.from(w))T(g)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,L.A)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,g){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(g)}_removeListener(h,g){this.listeners[h]&&(this.listeners[h].delete(g),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})(),$u=1e12;class tf{constructor(d){this.auth=d,this.counter=$u,this._widgets=new Map}render(d,h){const g=this.counter;return this._widgets.set(g,new nf(d,this.auth.name,h||{})),this.counter++,g}reset(d){var h;const g=d||$u;null===(h=this._widgets.get(g))||void 0===h||h.delete(),this._widgets.delete(g)}getResponse(d){var h;return(null===(h=this._widgets.get(d||$u))||void 0===h?void 0:h.getResponse())||""}execute(d){var h=this;return(0,L.A)(function*(){var g;return null===(g=h._widgets.get(d||$u))||void 0===g||g.execute(),""})()}}class nf{constructor(d,h,g){this.params=g,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const w="string"==typeof d?document.getElementById(d):d;Re(w,"argument-error",{appName:h}),this.container=w,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Eg(m){const d=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<m;g++)d.push(h.charAt(Math.floor(62*Math.random())));return d.join("")}(50);const{callback:d,"expired-callback":h}=this.params;if(d)try{d(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const u0=vb("rcb"),d0=new Ko(3e4,6e4);class uF{constructor(){var d;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(d=fi().grecaptcha)||void 0===d||!d.render)}load(d,h=""){return Re(function Ro(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(h),d,"argument-error"),this.shouldResolveImmediately(h)&&At(fi().grecaptcha)?Promise.resolve(fi().grecaptcha):new Promise((g,w)=>{const T=fi().setTimeout(()=>{w(_n(d,"network-request-failed"))},d0.get());fi()[u0]=()=>{fi().clearTimeout(T),delete fi()[u0];const ie=fi().grecaptcha;if(!ie||!At(ie))return void w(_n(d,"internal-error"));const Ie=ie.render;ie.render=(Ke,ot)=>{const pt=Ie(Ke,ot);return this.counter++,pt},this.hostLanguage=h,g(ie)},Vu(`${function Km(){return kh.recaptchaV2Script}()}?${(0,V.Am)({onload:u0,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(T),w(_n(d,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(d){var h;return!(null===(h=fi().grecaptcha)||void 0===h||!h.render)&&(d===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ig{load(d){return(0,L.A)(function*(){return new tf(d)})()}clearedOneInstance(){}}const Bc="recaptcha",dF={theme:"light",type:"image"};class h0{constructor(d,h,g=Object.assign({},dF)){this.parameters=g,this.type=Bc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Nn(d),this.isInvisible="invisible"===this.parameters.size,Re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const w="string"==typeof h?document.getElementById(h):h;Re(w,this.auth,"argument-error"),this.container=w,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ig:new uF,this.validateStartingState()}verify(){var d=this;return(0,L.A)(function*(){d.assertNotDestroyed();const h=yield d.render(),g=d.getAssertedRecaptcha();return g.getResponse(h)||new Promise(T=>{const W=ie=>{ie&&(d.tokenChangeListeners.delete(W),T(ie))};d.tokenChangeListeners.add(W),d.isInvisible&&g.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(d){return Promise.reject(d)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(d=>{throw this.renderPromise=null,d})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(d=>{this.container.removeChild(d)})}validateStartingState(){Re(!this.parameters.sitekey,this.auth,"argument-error"),Re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(d){return h=>{if(this.tokenChangeListeners.forEach(g=>g(h)),"function"==typeof d)d(h);else if("string"==typeof d){const g=fi()[d];"function"==typeof g&&g(h)}}}assertNotDestroyed(){Re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var d=this;return(0,L.A)(function*(){if(yield d.init(),!d.widgetId){let h=d.container;if(!d.isInvisible){const g=document.createElement("div");h.appendChild(g),h=g}d.widgetId=d.getAssertedRecaptcha().render(h,d.parameters)}return d.widgetId})()}init(){var d=this;return(0,L.A)(function*(){Re(Fr()&&!Vl(),d.auth,"internal-error"),yield function Ws(){let m=null;return new Promise(d=>{"complete"!==document.readyState?(m=()=>d(),window.addEventListener("load",m)):d()}).catch(d=>{throw m&&window.removeEventListener("load",m),d})}(),d.recaptcha=yield d._recaptchaLoader.load(d.auth,d.auth.languageCode||void 0);const h=yield function Er(m){return qr.apply(this,arguments)}(d.auth);Re(h,d.auth,"internal-error"),d.parameters.sitekey=h})()}getAssertedRecaptcha(){return Re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class gn{constructor(d,h){this.verificationId=d,this.onConfirmation=h}confirm(d){const h=Oc._fromVerification(this.verificationId,d);return this.onConfirmation(h)}}function ws(m,d,h){return rf.apply(this,arguments)}function rf(){return(rf=(0,L.A)(function*(m,d,h){if((0,Ne._isFirebaseServerApp)(m.app))return Promise.reject(En(m));const g=Nn(m),w=yield Es(g,d,(0,V.Ku)(h));return new gn(w,T=>Uu(g,T))})).apply(this,arguments)}function Cg(m,d,h){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,L.A)(function*(m,d,h){const g=(0,V.Ku)(m);yield ug(!1,g,"phone");const w=yield Es(g.auth,d,(0,V.Ku)(h));return new gn(w,T=>Nc(g,T))})).apply(this,arguments)}function sf(m,d,h){return xo.apply(this,arguments)}function xo(){return(xo=(0,L.A)(function*(m,d,h){const g=(0,V.Ku)(m);if((0,Ne._isFirebaseServerApp)(g.auth.app))return Promise.reject(En(g.auth));const w=yield Es(g.auth,d,(0,V.Ku)(h));return new gn(w,T=>dg(g,T))})).apply(this,arguments)}function Es(m,d,h){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,L.A)(function*(m,d,h){var g;const w=yield h.verify();try{let T;if(Re("string"==typeof w,m,"argument-error"),Re(h.type===Bc,m,"argument-error"),T="string"==typeof d?{phoneNumber:d}:d,"session"in T){const W=T.session;if("phoneNumber"in T)return Re("enroll"===W.type,m,"internal-error"),(yield function vg(m,d){return ve(m,"POST","/v2/accounts/mfaEnrollment:start",Te(m,d))}(m,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:T.phoneNumber,recaptchaToken:w}})).phoneSessionInfo.sessionInfo;{Re("signin"===W.type,m,"internal-error");const ie=(null===(g=T.multiFactorHint)||void 0===g?void 0:g.uid)||T.multiFactorUid;return Re(ie,m,"missing-multi-factor-info"),(yield function TD(m,d){return ve(m,"POST","/v2/accounts/mfaSignIn:start",Te(m,d))}(m,{mfaPendingCredential:W.credential,mfaEnrollmentId:ie,phoneSignInInfo:{recaptchaToken:w}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield function UP(m,d){return Ab.apply(this,arguments)}(m,{phoneNumber:T.phoneNumber,recaptchaToken:w});return W}}finally{h._reset()}}),Tg.apply(this,arguments)}function Dg(m,d){return af.apply(this,arguments)}function af(){return(af=(0,L.A)(function*(m,d){const h=(0,V.Ku)(m);if((0,Ne._isFirebaseServerApp)(h.auth.app))return Promise.reject(En(h.auth));yield Nb(h,d)})).apply(this,arguments)}let f0=(()=>{class m{constructor(h){this.providerId=m.PROVIDER_ID,this.auth=Nn(h)}verifyPhoneNumber(h,g){return Es(this.auth,h,(0,V.Ku)(g))}static credential(h,g){return Oc._fromVerification(h,g)}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:g,temporaryProof:w}=h;return g&&w?Oc._fromTokenResponse(g,w):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Is(m,d){return d?Se(d):(Re(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class cf extends xl{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return ja(d,this._buildIdpRequest())}_linkToIdToken(d,h){return ja(d,this._buildIdpRequest(h))}_getReauthenticationResolver(d){return ja(d,this._buildIdpRequest())}_buildIdpRequest(d){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(h.idToken=d),h}}function p0(m){return pD(m.auth,new cf(m),m.bypassAuthState)}function SD(m){const{auth:d,user:h}=m;return Re(h,d,"internal-error"),fD(h,new cf(m),m.bypassAuthState)}function Sg(m){return Ag.apply(this,arguments)}function Ag(){return(Ag=(0,L.A)(function*(m){const{auth:d,user:h}=m;return Re(h,d,"internal-error"),Nb(h,new cf(m),m.bypassAuthState)})).apply(this,arguments)}class m0{constructor(d,h,g,w,T=!1){this.auth=d,this.resolver=g,this.user=w,this.bypassAuthState=T,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var d=this;return new Promise(function(){var h=(0,L.A)(function*(g,w){d.pendingPromise={resolve:g,reject:w};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(T){d.reject(T)}});return function(g,w){return h.apply(this,arguments)}}())}onAuthEvent(d){var h=this;return(0,L.A)(function*(){const{urlResponse:g,sessionId:w,postBody:T,tenantId:W,error:ie,type:Ie}=d;if(ie)return void h.reject(ie);const Ke={auth:h.auth,requestUri:g,sessionId:w,tenantId:W||void 0,postBody:T||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(Ie)(Ke))}catch(ot){h.reject(ot)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return p0;case"linkViaPopup":case"linkViaRedirect":return Sg;case"reauthViaPopup":case"reauthViaRedirect":return SD;default:Yt(this.auth,"internal-error")}}resolve(d){On(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){On(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Cs=new Ko(2e3,1e4);function AD(m,d,h){return lf.apply(this,arguments)}function lf(){return(lf=(0,L.A)(function*(m,d,h){if((0,Ne._isFirebaseServerApp)(m.app))return Promise.reject(_n(m,"operation-not-supported-in-this-environment"));const g=Nn(m);Gt(m,d,fa);const w=Is(g,h);return new uf(g,"signInViaPopup",d,w).executeNotNull()})).apply(this,arguments)}function RD(m,d,h){return Rg.apply(this,arguments)}function Rg(){return(Rg=(0,L.A)(function*(m,d,h){const g=(0,V.Ku)(m);if((0,Ne._isFirebaseServerApp)(g.auth.app))return Promise.reject(_n(g.auth,"operation-not-supported-in-this-environment"));Gt(g.auth,d,fa);const w=Is(g.auth,h);return new uf(g.auth,"reauthViaPopup",d,w,g).executeNotNull()})).apply(this,arguments)}function xD(m,d,h){return xg.apply(this,arguments)}function xg(){return(xg=(0,L.A)(function*(m,d,h){const g=(0,V.Ku)(m);Gt(g.auth,d,fa);const w=Is(g.auth,h);return new uf(g.auth,"linkViaPopup",d,w,g).executeNotNull()})).apply(this,arguments)}let uf=(()=>{class m extends m0{constructor(h,g,w,T,W){super(h,g,T,W),this.provider=w,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var h=this;return(0,L.A)(function*(){const g=yield h.execute();return Re(g,h.auth,"internal-error"),g})()}onExecution(){var h=this;return(0,L.A)(function*(){On(1===h.filter.length,"Popup operations only handle one event");const g=Jh();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],g),h.authWindow.associatedEvent=g,h.resolver._originValidation(h.auth).catch(w=>{h.reject(w)}),h.resolver._isIframeWebStorageSupported(h.auth,w=>{w||h.reject(_n(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(_n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const h=()=>{var g,w;this.pollId=null!==(w=null===(g=this.authWindow)||void 0===g?void 0:g.window)&&void 0!==w&&w.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_n(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(h,Cs.get())};h()}}return m.currentPopupAction=null,m})();const MD="pendingRedirect",Gu=new Map;class OD extends m0{constructor(d,h,g=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,g),this.eventId=null}execute(){var d=()=>super.execute,h=this;return(0,L.A)(function*(){let g=Gu.get(h.auth._key());if(!g){try{const T=(yield function Dt(m,d){return Mg.apply(this,arguments)}(h.resolver,h.auth))?yield d().call(h):null;g=()=>Promise.resolve(T)}catch(w){g=()=>Promise.reject(w)}Gu.set(h.auth._key(),g)}return h.bypassAuthState||Gu.set(h.auth._key(),()=>Promise.resolve(null)),g()})()}onAuthEvent(d){var h=()=>super.onAuthEvent,g=this;return(0,L.A)(function*(){if("signInViaRedirect"===d.type)return h().call(g,d);if("unknown"!==d.type){if(d.eventId){const w=yield g.auth._redirectUserForId(d.eventId);if(w)return g.user=w,h().call(g,d);g.resolve(null)}}else g.resolve(null)})()}onExecution(){return(0,L.A)(function*(){})()}cleanUp(){}}function Mg(){return(Mg=(0,L.A)(function*(m,d){const h=Xt(d),g=Zr(m);if(!(yield g._isAvailable()))return!1;const w="true"===(yield g._get(h));return yield g._remove(h),w})).apply(this,arguments)}function Og(m,d){return We.apply(this,arguments)}function We(){return(We=(0,L.A)(function*(m,d){return Zr(m)._set(Xt(d),"true")})).apply(this,arguments)}function g0(){Gu.clear()}function ae(m,d){Gu.set(m._key(),d)}function Zr(m){return Se(m._redirectPersistence)}function Xt(m){return Me(MD,m.config.apiKey,m.name)}function Xi(m,d,h){return function Sr(m,d,h){return qs.apply(this,arguments)}(m,d,h)}function qs(){return(qs=(0,L.A)(function*(m,d,h){if((0,Ne._isFirebaseServerApp)(m.app))return Promise.reject(En(m));const g=Nn(m);Gt(m,d,fa),yield g._initializationPromise;const w=Is(g,h);return yield Og(w,g),w._openRedirect(g,d,"signInViaRedirect")})).apply(this,arguments)}function Vr(m,d,h){return function _0(m,d,h){return df.apply(this,arguments)}(m,d,h)}function df(){return(df=(0,L.A)(function*(m,d,h){const g=(0,V.Ku)(m);if(Gt(g.auth,d,fa),(0,Ne._isFirebaseServerApp)(g.auth.app))return Promise.reject(En(g.auth));yield g.auth._initializationPromise;const w=Is(g.auth,h);yield Og(w,g.auth);const T=yield Ku(g);return w._openRedirect(g.auth,d,"reauthViaRedirect",T)})).apply(this,arguments)}function hf(m,d,h){return function kD(m,d,h){return kg.apply(this,arguments)}(m,d,h)}function kg(){return(kg=(0,L.A)(function*(m,d,h){const g=(0,V.Ku)(m);Gt(g.auth,d,fa),yield g.auth._initializationPromise;const w=Is(g.auth,h);yield ug(!1,g,d.providerId),yield Og(w,g.auth);const T=yield Ku(g);return w._openRedirect(g.auth,d,"linkViaRedirect",T)})).apply(this,arguments)}function Wu(m,d){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,L.A)(function*(m,d){return yield Nn(m)._initializationPromise,qu(m,d,!1)})).apply(this,arguments)}function qu(m,d){return ff.apply(this,arguments)}function ff(){return(ff=(0,L.A)(function*(m,d,h=!1){if((0,Ne._isFirebaseServerApp)(m.app))return Promise.reject(En(m));const g=Nn(m),w=Is(g,d),W=yield new OD(g,w,h).execute();return W&&!h&&(delete W.user._redirectEventId,yield g._persistUserIfCurrent(W.user),yield g._setRedirectUser(null,d)),W})).apply(this,arguments)}function Ku(m){return v0.apply(this,arguments)}function v0(){return(v0=(0,L.A)(function*(m){const d=Jh(`${m.uid}:::`);return m._redirectEventId=d,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),d})).apply(this,arguments)}class y0{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let h=!1;return this.consumers.forEach(g=>{this.isEventForConsumer(d,g)&&(h=!0,this.sendToConsumer(d,g),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function b0(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fg(m);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=d,h=!0)),h}sendToConsumer(d,h){var g;if(d.error&&!Fg(d)){const w=(null===(g=d.error.code)||void 0===g?void 0:g.split("auth/")[1])||"internal-error";h.onError(_n(this.auth,w))}else h.onAuthEvent(d)}isEventForConsumer(d,h){const g=null===h.eventId||!!d.eventId&&d.eventId===h.eventId;return h.filter.includes(d.type)&&g}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pf(d))}saveEventToCache(d){this.cachedEventUids.add(pf(d)),this.lastProcessedEventTime=Date.now()}}function pf(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(d=>d).join("-")}function Fg({type:m,error:d}){return"unknown"===m&&"auth/no-auth-event"===d?.code}function Ka(m){return Lg.apply(this,arguments)}function Lg(){return(Lg=(0,L.A)(function*(m,d={}){return ve(m,"GET","/v1/projects",d)})).apply(this,arguments)}const Vg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mf=/^https?/;function Yu(){return(Yu=(0,L.A)(function*(m){if(m.config.emulator)return;const{authorizedDomains:d}=yield Ka(m);for(const h of d)try{if(gf(h))return}catch{}Yt(m,"unauthorized-domain")})).apply(this,arguments)}function gf(m){const d=Ai(),{protocol:h,hostname:g}=new URL(d);if(m.startsWith("chrome-extension://")){const W=new URL(m);return""===W.hostname&&""===g?"chrome-extension:"===h&&m.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===h&&W.hostname===g}if(!mf.test(h))return!1;if(Vg.test(m))return g===m;const w=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+w+"|"+w+")$","i").test(g)}const hr=new Ko(3e4,6e4);function Uc(){const m=fi().___jsl;if(m?.H)for(const d of Object.keys(m.H))if(m.H[d].r=m.H[d].r||[],m.H[d].L=m.H[d].L||[],m.H[d].r=[...m.H[d].L],m.CP)for(let h=0;h<m.CP.length;h++)m.CP[h]=null}let _f=null;const w0=new Ko(5e3,15e3),zl="__/auth/iframe",FD="emulator/auth/iframe",LD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ug(m){const d=m.config;Re(d.authDomain,m,"auth-domain-config-required");const h=d.emulator?re(d,FD):`https://${m.config.authDomain}/${zl}`,g={apiKey:d.apiKey,appName:m.name,v:Ne.SDK_VERSION},w=VD.get(m.config.apiHost);w&&(g.eid=w);const T=m._getFrameworks();return T.length&&(g.fw=T.join(",")),`${h}?${(0,V.Am)(g).slice(1)}`}function vf(){return vf=(0,L.A)(function*(m){const d=yield function PD(m){return _f=_f||function Bg(m){return new Promise((d,h)=>{var g,w,T;function W(){Uc(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{Uc(),h(_n(m,"network-request-failed"))},timeout:hr.get()})}if(null!==(w=null===(g=fi().gapi)||void 0===g?void 0:g.iframes)&&void 0!==w&&w.Iframe)d(gapi.iframes.getContext());else{if(null===(T=fi().gapi)||void 0===T||!T.load){const ie=vb("iframefcb");return fi()[ie]=()=>{gapi.load?W():h(_n(m,"network-request-failed"))},Vu(`${function ZT(){return kh.gapiScript}()}?onload=${ie}`).catch(Ie=>h(Ie))}W()}}).catch(d=>{throw _f=null,d})}(m),_f}(m),h=fi().gapi;return Re(h,m,"internal-error"),d.open({where:document.body,url:Ug(m),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LD,dontclear:!0},g=>new Promise(function(){var w=(0,L.A)(function*(T,W){yield g.restyle({setHideOnLeave:!1});const ie=_n(m,"network-request-failed"),Ie=fi().setTimeout(()=>{W(ie)},w0.get());function Ke(){fi().clearTimeout(Ie),T(g)}g.ping(Ke).then(Ke,()=>{W(ie)})});return function(T,W){return w.apply(this,arguments)}}()))}),vf.apply(this,arguments)}const Qu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jg{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const HD="__/auth/handler",zD="emulator/auth/handler",$D=encodeURIComponent("fac");function Hg(m,d,h,g,w,T){return zg.apply(this,arguments)}function zg(){return(zg=(0,L.A)(function*(m,d,h,g,w,T){Re(m.config.authDomain,m,"auth-domain-config-required"),Re(m.config.apiKey,m,"invalid-api-key");const W={apiKey:m.config.apiKey,appName:m.name,authType:h,redirectUrl:g,v:Ne.SDK_VERSION,eventId:w};if(d instanceof fa){d.setDefaultLanguage(m.languageCode),W.providerId=d.providerId||"",(0,V.Im)(d.getCustomParameters())||(W.customParameters=JSON.stringify(d.getCustomParameters()));for(const[ot,pt]of Object.entries(T||{}))W[ot]=pt}if(d instanceof Bu){const ot=d.getScopes().filter(pt=>""!==pt);ot.length>0&&(W.scopes=ot.join(","))}m.tenantId&&(W.tid=m.tenantId);const ie=W;for(const ot of Object.keys(ie))void 0===ie[ot]&&delete ie[ot];const Ie=yield m._getAppCheckToken(),Ke=Ie?`#${$D}=${encodeURIComponent(Ie)}`:"";return`${function GD({config:m}){return m.emulator?re(m,zD):`https://${m.authDomain}/${HD}`}(m)}?${(0,V.Am)(ie).slice(1)}${Ke}`})).apply(this,arguments)}const Xu="webStorageSupport",ri=class yf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xh,this._completeRedirectFn=qu,this._overrideRedirectResult=ae}_openPopup(d,h,g,w){var T=this;return(0,L.A)(function*(){var W;On(null===(W=T.eventManagers[d._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const ie=yield Hg(d,h,g,Ai(),w);return function jD(m,d,h,g=500,w=600){const T=Math.max((window.screen.availHeight-w)/2,0).toString(),W=Math.max((window.screen.availWidth-g)/2,0).toString();let ie="";const Ie=Object.assign(Object.assign({},Qu),{width:g.toString(),height:w.toString(),top:T,left:W}),Ke=(0,V.ZQ)().toLowerCase();h&&(ie=zs(Ke)?"_blank":h),Ot(Ke)&&(d=d||"http://localhost",Ie.scrollbars="yes");const ot=Object.entries(Ie).reduce((Ar,[Zn,tr])=>`${Ar}${Zn}=${tr},`,"");if(function le(m=(0,V.ZQ)()){var d;return at(m)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(Ke)&&"_self"!==ie)return function Zu(m,d){const h=document.createElement("a");h.href=m,h.target=d;const g=document.createEvent("MouseEvent");g.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(g)}(d||"",ie),new jg(null);const pt=window.open(d||"",ie,ot);Re(pt,m,"popup-blocked");try{pt.focus()}catch{}return new jg(pt)}(d,ie,Jh())})()}_openRedirect(d,h,g,w){var T=this;return(0,L.A)(function*(){return yield T._originValidation(d),function yg(m){fi().location.href=m}(yield Hg(d,h,g,Ai(),w)),new Promise(()=>{})})()}_initialize(d){const h=d._key();if(this.eventManagers[h]){const{manager:w,promise:T}=this.eventManagers[h];return w?Promise.resolve(w):(On(T,"If manager is not set, promise should be"),T)}const g=this.initAndGetManager(d);return this.eventManagers[h]={promise:g},g.catch(()=>{delete this.eventManagers[h]}),g}initAndGetManager(d){var h=this;return(0,L.A)(function*(){const g=yield function Ts(m){return vf.apply(this,arguments)}(d),w=new y0(d);return g.register("authEvent",T=>(Re(T?.authEvent,d,"invalid-auth-event"),{status:w.onEvent(T.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[d._key()]={manager:w},h.iframes[d._key()]=g,w})()}_isIframeWebStorageSupported(d,h){this.iframes[d._key()].send(Xu,{type:Xu},w=>{var T;const W=null===(T=w?.[0])||void 0===T?void 0:T[Xu];void 0!==W&&h(!!W),Yt(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const h=d._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function ND(m){return Yu.apply(this,arguments)}(d)),this.originValidationPromises[h]}get _shouldInitProactively(){return Ee()||Zi()||at()}};class Pe{constructor(d){this.factorId=d}_process(d,h,g){switch(h.type){case"enroll":return this._finalizeEnroll(d,h.credential,g);case"signin":return this._finalizeSignIn(d,h.credential);default:return Mn("unexpected MultiFactorSessionType")}}}class ft extends Pe{constructor(d){super("phone"),this.credential=d}static _fromCredential(d){return new ft(d)}_finalizeEnroll(d,h,g){return function e0(m,d){return ve(m,"POST","/v2/accounts/mfaEnrollment:finalize",Te(m,d))}(d,{idToken:h,displayName:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(d,h){return function Vc(m,d){return ve(m,"POST","/v2/accounts/mfaSignIn:finalize",Te(m,d))}(d,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Wi=(()=>{class m{constructor(){}static assertion(h){return ft._fromCredential(h)}}return m.FACTOR_ID="phone",m})();var qn="@firebase/auth";class Ys{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var h=this;return(0,L.A)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const h=this.auth.onIdTokenChanged(g=>{d(g?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,h),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const h=this.internalListeners.get(d);h&&(this.internalListeners.delete(d),h(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,V.XA)("authIdTokenMaxAge"),function YT(m){kh=m}({loadJS:m=>new Promise((d,h)=>{const g=document.createElement("script");g.setAttribute("src",m),g.onload=d,g.onerror=w=>{const T=_n("internal-error");T.customData=w,h(T)},g.type="text/javascript",g.charset="UTF-8",function va(){var m,d;return null!==(d=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==d?d:document}().appendChild(g)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Ju(m){(0,Ne._registerComponent)(new rt.uA("auth",(d,{options:h})=>{const g=d.getProvider("app").getImmediate(),w=d.getProvider("heartbeat"),T=d.getProvider("app-check-internal"),{apiKey:W,authDomain:ie}=g.options;Re(W&&!W.includes(":"),"invalid-api-key",{appName:g.name});const Ie={apiKey:W,authDomain:ie,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:je(m)},Ke=new So(g,w,T,Ie);return function JT(m,d){const h=d?.persistence||[],g=(Array.isArray(h)?h:[h]).map(Se);d?.errorMap&&m._updateErrorMap(d.errorMap),m._initializeWithPersistence(g,d?.popupRedirectResolver)}(Ke,h),Ke},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,h,g)=>{d.getProvider("auth-internal").initialize()})),(0,Ne._registerComponent)(new rt.uA("auth-internal",d=>{const h=Nn(d.getProvider("auth").getImmediate());return new Ys(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ne.registerVersion)(qn,"1.7.7",function Mt(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(m)),(0,Ne.registerVersion)(qn,"1.7.7","esm2017")}("Browser")},76:(uo,Vi,_t)=>{_t.d(Vi,{Am:()=>Kr,Bd:()=>Mn,FA:()=>ut,Fy:()=>En,I9:()=>pn,Im:()=>Er,Ku:()=>ys,Ll:()=>Re,T9:()=>Yt,Uj:()=>Ln,XA:()=>_n,ZQ:()=>Gt,bD:()=>Gn,cY:()=>Bi,eX:()=>be,g:()=>ve,gR:()=>Rt,hp:()=>Ir,jZ:()=>ni,lT:()=>wi,lV:()=>Fr,mS:()=>an,nr:()=>re,p7:()=>On,sr:()=>Ai,tD:()=>Cr,u:()=>Ce,zW:()=>ue,zw:()=>tt});const it=function(z){const S=[];let I=0;for(let R=0;R<z.length;R++){let O=z.charCodeAt(R);O<128?S[I++]=O:O<2048?(S[I++]=O>>6|192,S[I++]=63&O|128):55296==(64512&O)&&R+1<z.length&&56320==(64512&z.charCodeAt(R+1))?(O=65536+((1023&O)<<10)+(1023&z.charCodeAt(++R)),S[I++]=O>>18|240,S[I++]=O>>12&63|128,S[I++]=O>>6&63|128,S[I++]=63&O|128):(S[I++]=O>>12|224,S[I++]=O>>6&63|128,S[I++]=63&O|128)}return S},rt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,S){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const I=S?this.byteToCharMapWebSafe_:this.byteToCharMap_,R=[];for(let O=0;O<z.length;O+=3){const de=z[O],Se=O+1<z.length,Le=Se?z[O+1]:0,jt=O+2<z.length,Me=jt?z[O+2]:0;let Ot=(15&Le)<<2|Me>>6,Zi=63&Me;jt||(Zi=64,Se||(Ot=64)),R.push(I[de>>2],I[(3&de)<<4|Le>>4],I[Ot],I[Zi])}return R.join("")},encodeString(z,S){return this.HAS_NATIVE_SUPPORT&&!S?btoa(z):this.encodeByteArray(it(z),S)},decodeString(z,S){return this.HAS_NATIVE_SUPPORT&&!S?atob(z):function(z){const S=[];let I=0,R=0;for(;I<z.length;){const O=z[I++];if(O<128)S[R++]=String.fromCharCode(O);else if(O>191&&O<224){const de=z[I++];S[R++]=String.fromCharCode((31&O)<<6|63&de)}else if(O>239&&O<365){const jt=((7&O)<<18|(63&z[I++])<<12|(63&z[I++])<<6|63&z[I++])-65536;S[R++]=String.fromCharCode(55296+(jt>>10)),S[R++]=String.fromCharCode(56320+(1023&jt))}else{const de=z[I++],Se=z[I++];S[R++]=String.fromCharCode((15&O)<<12|(63&de)<<6|63&Se)}}return S.join("")}(this.decodeStringToByteArray(z,S))},decodeStringToByteArray(z,S){this.init_();const I=S?this.charToByteMapWebSafe_:this.charToByteMap_,R=[];for(let O=0;O<z.length;){const de=I[z.charAt(O++)],Le=O<z.length?I[z.charAt(O)]:0;++O;const Me=O<z.length?I[z.charAt(O)]:64;++O;const Et=O<z.length?I[z.charAt(O)]:64;if(++O,null==de||null==Le||null==Me||null==Et)throw new ui;R.push(de<<2|Le>>4),64!==Me&&(R.push(Le<<4&240|Me>>2),64!==Et&&R.push(Me<<6&192|Et))}return R},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}};class ui extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ln=function(z){return function(z){const S=it(z);return rt.encodeByteArray(S,!0)}(z).replace(/\./g,"")},Ce=function(z){try{return rt.decodeString(z,!0)}catch(S){console.error("base64Decode failed: ",S)}return null};function tt(z,S){if(!(S instanceof Object))return S;switch(S.constructor){case Date:return new Date(S.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return S}for(const I in S)!S.hasOwnProperty(I)||!Nt(I)||(z[I]=tt(z[I],S[I]));return z}function Nt(z){return"__proto__"!==z}function an(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Ct=()=>{try{return an().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const z=process.env.__FIREBASE_DEFAULTS__;return z?JSON.parse(z):void 0})()||(()=>{if(typeof document>"u")return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const S=z&&Ce(z[1]);return S&&JSON.parse(S)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},Yt=()=>{var z;return null===(z=Ct())||void 0===z?void 0:z.config},_n=z=>{var S;return null===(S=Ct())||void 0===S?void 0:S[`_${z}`]};class Bi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((S,I)=>{this.resolve=S,this.reject=I})}wrapCallback(S){return(I,R)=>{I?this.reject(I):this.resolve(R),"function"==typeof S&&(this.promise.catch(()=>{}),1===S.length?S(I):S(I,R))}}}function En(z,S){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const R=S||"demo-project",O=z.iat||0,de=z.sub||z.user_id;if(!de)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Se=Object.assign({iss:`https://securetoken.google.com/${R}`,aud:R,iat:O,exp:O+3600,auth_time:O,sub:de,user_id:de,firebase:{sign_in_provider:"custom",identities:{}}},z);return[Ln(JSON.stringify({alg:"none",type:"JWT"})),Ln(JSON.stringify(Se)),""].join(".")}function Gt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ni(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function Re(){var z;const S=null===(z=Ct())||void 0===z?void 0:z.forceEnvironment;if("node"===S)return!0;if("browser"===S)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Mn(){return typeof window<"u"||On()}function On(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Ai(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function Fr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function wi(){const z=Gt();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function re(){return!Re()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ue(){try{return"object"==typeof indexedDB}catch{return!1}}function be(){return new Promise((z,S)=>{try{let I=!0;const R="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(R);O.onsuccess=()=>{O.result.close(),I||self.indexedDB.deleteDatabase(R),z(!0)},O.onupgradeneeded=()=>{I=!1},O.onerror=()=>{var de;S((null===(de=O.error)||void 0===de?void 0:de.message)||"")}}catch(I){S(I)}})}class ve extends Error{constructor(S,I,R){super(I),this.code=S,this.customData=R,this.name="FirebaseError",Object.setPrototypeOf(this,ve.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ut.prototype.create)}}class ut{constructor(S,I,R){this.service=S,this.serviceName=I,this.errors=R}create(S,...I){const R=I[0]||{},O=`${this.service}/${S}`,de=this.errors[S],Se=de?function nn(z,S){return z.replace(Q,(I,R)=>{const O=S[R];return null!=O?String(O):`<${R}?>`})}(de,R):"Error";return new ve(O,`${this.serviceName}: ${Se} (${O}).`,R)}}const Q=/\{\$([^}]+)}/g;function Rt(z,S){return Object.prototype.hasOwnProperty.call(z,S)}function Er(z){for(const S in z)if(Object.prototype.hasOwnProperty.call(z,S))return!1;return!0}function Gn(z,S){if(z===S)return!0;const I=Object.keys(z),R=Object.keys(S);for(const O of I){if(!R.includes(O))return!1;const de=z[O],Se=S[O];if(hi(de)&&hi(Se)){if(!Gn(de,Se))return!1}else if(de!==Se)return!1}for(const O of R)if(!I.includes(O))return!1;return!0}function hi(z){return null!==z&&"object"==typeof z}function Kr(z){const S=[];for(const[I,R]of Object.entries(z))Array.isArray(R)?R.forEach(O=>{S.push(encodeURIComponent(I)+"="+encodeURIComponent(O))}):S.push(encodeURIComponent(I)+"="+encodeURIComponent(R));return S.length?"&"+S.join("&"):""}function pn(z){const S={};return z.replace(/^\?/,"").split("&").forEach(R=>{if(R){const[O,de]=R.split("=");S[decodeURIComponent(O)]=decodeURIComponent(de)}}),S}function Ir(z){const S=z.indexOf("?");if(!S)return"";const I=z.indexOf("#",S);return z.substring(S,I>0?I:void 0)}function Cr(z,S){const I=new $i(z,S);return I.subscribe.bind(I)}class $i{constructor(S,I){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=I,this.task.then(()=>{S(this)}).catch(R=>{this.error(R)})}next(S){this.forEachObserver(I=>{I.next(S)})}error(S){this.forEachObserver(I=>{I.error(S)}),this.close(S)}complete(){this.forEachObserver(S=>{S.complete()}),this.close()}subscribe(S,I,R){let O;if(void 0===S&&void 0===I&&void 0===R)throw new Error("Missing Observer.");O=function ms(z,S){if("object"!=typeof z||null===z)return!1;for(const I of S)if(I in z&&"function"==typeof z[I])return!0;return!1}(S,["next","error","complete"])?S:{next:S,error:I,complete:R},void 0===O.next&&(O.next=ho),void 0===O.error&&(O.error=ho),void 0===O.complete&&(O.complete=ho);const de=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),de}unsubscribeOne(S){void 0===this.observers||void 0===this.observers[S]||(delete this.observers[S],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(S){if(!this.finalized)for(let I=0;I<this.observers.length;I++)this.sendOne(I,S)}sendOne(S,I){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[S])try{I(this.observers[S])}catch(R){typeof console<"u"&&console.error&&console.error(R)}})}close(S){this.finalized||(this.finalized=!0,void 0!==S&&(this.finalError=S),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ho(){}function ys(z){return z&&z._delegate?z._delegate:z}},800:(uo,Vi,_t)=>{function L(n,t){return Object.is(n,t)}let Ne=null,V=!1,it=1;const Tn=Symbol("SIGNAL");function rt(n){const t=Ne;return Ne=n,t}const Ce={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Oe(n){if(V)throw new Error("");if(null===Ne)return;Ne.consumerOnSignalRead(n);const t=Ne.nextProducerIndex++;En(Ne),t<Ne.producerNode.length&&Ne.producerNode[t]!==n&&Bi(Ne)&&_n(Ne.producerNode[t],Ne.producerIndexOfThis[t]),Ne.producerNode[t]!==n&&(Ne.producerNode[t]=n,Ne.producerIndexOfThis[t]=Bi(Ne)?Yt(n,Ne,t):0),Ne.producerLastReadVersion[t]=n.version}function Nt(n){if((!Bi(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==it)){if(!n.producerMustRecompute(n)&&!$n(n))return n.dirty=!1,void(n.lastCleanEpoch=it);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=it}}function an(n){if(void 0===n.liveConsumerNode)return;const t=V;V=!0;try{for(const e of n.liveConsumerNode)e.dirty||tn(e)}finally{V=t}}function bi(){return!1!==Ne?.consumerAllowSignalWrites}function tn(n){n.dirty=!0,an(n),n.consumerMarkedDirty?.(n)}function It(n){return n&&(n.nextProducerIndex=0),rt(n)}function Ct(n,t){if(rt(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Bi(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)_n(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function $n(n){En(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(Nt(e),i!==e.version))return!0}return!1}function di(n){if(En(n),Bi(n))for(let t=0;t<n.producerNode.length;t++)_n(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Yt(n,t,e){if(Gt(n),0===n.liveConsumerNode.length&&ni(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=Yt(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function _n(n,t){if(Gt(n),1===n.liveConsumerNode.length&&ni(n))for(let i=0;i<n.producerNode.length;i++)_n(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];En(r),r.producerIndexOfThis[i]=t}}function Bi(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function En(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Gt(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function ni(n){return void 0!==n.producerNode}function Re(n){const t=Object.create(Fr);t.computation=n;const e=()=>{if(Nt(t),Oe(t),t.value===Ai)throw t.error;return t.value};return e[Tn]=t,e}const Mn=Symbol("UNSET"),On=Symbol("COMPUTING"),Ai=Symbol("ERRORED"),Fr={...Ce,value:Mn,dirty:!0,error:null,equal:L,producerMustRecompute:n=>n.value===Mn||n.value===On,producerRecomputeValue(n){if(n.value===On)throw new Error("Detected cycle in computations.");const t=n.value;n.value=On;const e=It(n);let i;try{i=n.computation()}catch(r){i=Ai,n.error=r}finally{Ct(n,e)}t!==Mn&&t!==Ai&&i!==Ai&&n.equal(t,i)?n.value=t:(n.value=i,n.version++)}};let wi=function qo(){throw new Error};function ps(){wi()}let re=null;function Te(n,t){bi()||ps(),n.equal(n.value,t)||(n.value=t,function Q(n){n.version++,function tt(){it++}(),an(n),re?.()}(n))}const nn={...Ce,equal:L,value:void 0};function De(n){return"function"==typeof n}function Wt(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const At=Wt(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Rt(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class vt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(De(i))try{i()}catch(o){t=o instanceof At?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Gn(o)}catch(s){t=t??[],s instanceof At?t=[...t,...s.errors]:t.push(s)}}if(t)throw new At(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Gn(t);else{if(t instanceof vt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Rt(e,t)}remove(t){const{_finalizers:e}=this;e&&Rt(e,t),t instanceof vt&&t._removeParent(this)}}vt.EMPTY=(()=>{const n=new vt;return n.closed=!0,n})();const Er=vt.EMPTY;function qr(n){return n instanceof vt||n&&"closed"in n&&De(n.remove)&&De(n.add)&&De(n.unsubscribe)}function Gn(n){De(n)?n():n.unsubscribe()}const hi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ri={setTimeout(n,t,...e){const{delegate:i}=Ri;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=Ri;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Kr(n){Ri.setTimeout(()=>{const{onUnhandledError:t}=hi;if(!t)throw n;t(n)})}function pn(){}const Ir=$i("C",void 0,void 0);function $i(n,t,e){return{kind:n,value:t,error:e}}let Gi=null;function ms(n){if(hi.useDeprecatedSynchronousErrorHandling){const t=!Gi;if(t&&(Gi={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=Gi;if(Gi=null,e)throw i}}else n()}class gs extends vt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,qr(t)&&t.add(this)):this.destination=Yr}static create(t,e,i){return new fo(t,e,i)}next(t){this.isStopped?Qi(function Cr(n){return $i("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Qi(function Lr(n){return $i("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Qi(Ir,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Yo=Function.prototype.bind;function _s(n,t){return Yo.call(n,t)}class Wn{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){vs(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){vs(i)}else vs(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){vs(e)}}}class fo extends gs{constructor(t,e,i){let r;if(super(),De(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let o;this&&hi.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&_s(t.next,o),error:t.error&&_s(t.error,o),complete:t.complete&&_s(t.complete,o)}):r=t}this.destination=new Wn(r)}}function vs(n){hi.useDeprecatedSynchronousErrorHandling?function ho(n){hi.useDeprecatedSynchronousErrorHandling&&Gi&&(Gi.errorThrown=!0,Gi.error=n)}(n):Kr(n)}function Qi(n,t){const{onStoppedNotification:e}=hi;e&&Ri.setTimeout(()=>e(n,t))}const Yr={closed:!0,next:pn,error:function Tr(n){throw n},complete:pn},Qo="function"==typeof Symbol&&Symbol.observable||"@@observable";function Dr(n){return n}function da(n){return 0===n.length?Dr:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let Qt=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function z(n){return n&&n instanceof gs||function ys(n){return n&&De(n.next)&&De(n.error)&&De(n.complete)}(n)&&qr(n)}(e)?e:new fo(e,i,r);return ms(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=ha(i))((r,o)=>{const s=new fo({next:a=>{try{e(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Qo](){return this}pipe(...e){return da(e)(this)}toPromise(e){return new(e=ha(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function ha(n){var t;return null!==(t=n??hi.Promise)&&void 0!==t?t:Promise}const S=Wt(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let I=(()=>{class n extends Qt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new R(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new S}next(e){ms(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){ms(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){ms(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Er:(this.currentObservers=null,o.push(e),new vt(()=>{this.currentObservers=null,Rt(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new Qt;return e.source=this,e}}return n.create=(t,e)=>new R(t,e),n})();class R extends I{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Er}}class O extends I{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function de(n){return De(n?.lift)}function Se(n){return t=>{if(de(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Le(n,t,e,i,r){return new jt(n,t,e,i,r)}class jt extends gs{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(c){t.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Me(n,t){return Se((e,i)=>{let r=0;e.subscribe(Le(i,o=>{i.next(n.call(t,o,r++))}))})}typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const Uu="https://g.co/ng/security#xss";class se extends Error{constructor(t,e){super(function Nc(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function pa(n){return{toString:n}.toString()}const Gs="__parameters__";function $a(n,t,e){return pa(()=>{const i=function Fl(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(c,l,u){const p=c.hasOwnProperty(Gs)?c[Gs]:Object.defineProperty(c,Gs,{value:[]})[Gs];for(;p.length<=u;)p.push(null);return(p[u]=p[u]||[]).push(s),c}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}const ii=globalThis;function Sn(n){for(let t in n)if(n[t]===Sn)return t;throw Error("Could not find renamed property on target object.")}function mD(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Ui(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ui).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Kh(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const gD=Sn({__forward_ref__:Sn});function vn(n){return n.__forward_ref__=vn,n.toString=function(){return Ui(this())},n}function Tt(n){return Ll(n)?n():n}function Ll(n){return"function"==typeof n&&n.hasOwnProperty(gD)&&n.__forward_ref__===vn}function pe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function qe(n){return{providers:n.providers||[],imports:n.imports||[]}}function ma(n){return Yb(n,Qh)||Yb(n,vD)}function Yb(n,t){return n.hasOwnProperty(t)?n[t]:null}function Yh(n){return n&&(n.hasOwnProperty(mg)||n.hasOwnProperty(rF))?n[mg]:null}const Qh=Sn({\u0275prov:Sn}),mg=Sn({\u0275inj:Sn}),vD=Sn({ngInjectableDef:Sn}),rF=Sn({ngInjectorDef:Sn});class ne{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=pe({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ga(n){return n&&!!n.\u0275providers}const Pc=Sn({\u0275cmp:Sn}),_g=Sn({\u0275dir:Sn}),vg=Sn({\u0275pipe:Sn}),e0=Sn({\u0275mod:Sn}),Wa=Sn({\u0275fac:Sn}),Hu=Sn({__NG_ELEMENT_ID__:Sn}),t0=Sn({__NG_ENV_ID__:Sn});function kt(n){return"string"==typeof n?n:null==n?"":String(n)}function r0(n,t){throw new se(-201,!1)}var rn=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(rn||{});let o0;function Xh(){return o0}function po(n){const t=o0;return o0=n,t}function s0(n,t,e){const i=ma(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&rn.Optional?null:void 0!==t?t:void r0()}const fi={},yg="__NG_DI_FLAG__",Vl="ngTempTokenPath",bg=/\n/gm,a0="__source";let Fc;function bs(n){const t=Fc;return Fc=n,t}function c0(n,t=rn.Default){if(void 0===Fc)throw new se(-203,!1);return null===Fc?s0(n,void 0,t):Fc.get(n,t&rn.Optional?null:void 0,t)}function $(n,t=rn.Default){return(Xh()||c0)(Tt(n),t)}function F(n,t=rn.Default){return $(n,Bl(t))}function Bl(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ef(n){const t=[];for(let e=0;e<n.length;e++){const i=Tt(n[e]);if(Array.isArray(i)){if(0===i.length)throw new se(900,!1);let r,o=rn.Default;for(let s=0;s<i.length;s++){const a=i[s],c=ID(a);"number"==typeof c?-1===c?r=a.token:o|=c:r=a}t.push($(r,o))}else t.push($(i))}return t}function Lc(n,t){return n[yg]=t,n.prototype[yg]=t,n}function ID(n){return n[yg]}const qa=Lc($a("Optional"),8),Ul=Lc($a("SkipSelf"),4);function Vc(n,t){return n.hasOwnProperty(Wa)?n[Wa]:null}function jl(n,t){n.forEach(e=>Array.isArray(e)?jl(e,t):t(e))}function $u(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function tf(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Ro(n,t,e){let i=Bc(n,t);return i>=0?n[1|i]=e:(i=~i,function d0(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Ig(n,t){const e=Bc(n,t);if(e>=0)return n[1|e]}function Bc(n,t){return function h0(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const Ws={},gn=[],ws=new ne(""),rf=new ne("",-1),Cg=new ne("");class Hl{get(t,e=fi){if(e===fi){const i=new Error(`NullInjectorError: No provider for ${Ui(t)}!`);throw i.name="NullInjectorError",i}return e}}var sf=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(sf||{}),xo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(xo||{}),Es=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Es||{});function Tg(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}function Dg(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const o=e[i++],s=e[i++],a=e[i++];n.setAttribute(t,s,a,o)}else{const o=r,s=e[++i];f0(o)?n.setProperty(t,o,s):n.setAttribute(t,o,s),i++}}return i}function af(n){return 3===n||4===n||6===n}function f0(n){return 64===n.charCodeAt(0)}function Is(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||cf(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function cf(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const p0="ng-template";function SD(n,t,e,i){let r=0;if(i){for(;r<t.length&&"string"==typeof t[r];r+=2)if("class"===t[r]&&-1!==Tg(t[r+1].toLowerCase(),e,0))return!0}else if(Sg(n))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&"string"==typeof(o=t[r]);)if(o.toLowerCase()===e)return!0}return!1}function Sg(n){return 4===n.type&&n.value!==p0}function Ag(n,t,e){return t===(4!==n.type||e?n.value:p0)}function m0(n,t,e){let i=4;const r=n.attrs,o=null!==r?function Rg(n){for(let t=0;t<n.length;t++)if(af(n[t]))return t;return n.length}(r):0;let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&i){if(i=2|1&i,""!==c&&!Ag(n,c,e)||""===c&&1===t.length){if(Cs(i))return!1;s=!0}}else if(8&i){if(null===r||!SD(n,r,c,e)){if(Cs(i))return!1;s=!0}}else{const l=t[++a],u=AD(c,r,Sg(n),e);if(-1===u){if(Cs(i))return!1;s=!0;continue}if(""!==l){let p;if(p=u>o?"":r[u+1].toLowerCase(),2&i&&l!==p){if(Cs(i))return!1;s=!0}}}}else{if(!s&&!Cs(i)&&!Cs(c))return!1;if(s&&Cs(c))continue;s=!1,i=c|1&i}}return Cs(i)||s}function Cs(n){return!(1&n)}function AD(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function xD(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function lf(n,t,e=!1){for(let i=0;i<t.length;i++)if(m0(n,t[i],e))return!0;return!1}function xg(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function uf(n,t){return n?":not("+t.trim()+")":t}function MD(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Cs(s)&&(t+=uf(o,r),r=""),i=s,o=o||!Cs(i);e++}return""!==r&&(t+=uf(o,r)),t}function Dt(n){return pa(()=>{const t=_0(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===sf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||xo.Emulated,styles:n.styles||gn,_:null,schemas:n.schemas||null,tView:null,id:""};df(e);const i=n.dependencies;return e.directiveDefs=hf(i,!1),e.pipeDefs=hf(i,!0),e.id=function kg(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)|0;return t+=2147483648,"c"+t}(e),e})}function Mg(n){return Xt(n)||Xi(n)}function Og(n){return null!==n}function We(n){return pa(()=>({type:n.type,bootstrap:n.bootstrap||gn,declarations:n.declarations||gn,imports:n.imports||gn,exports:n.exports||gn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function g0(n,t){if(null==n)return Ws;const e={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i];let o,s,a=Es.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),t?(e[o]=a!==Es.None?[i,a]:i,t[o]=s):e[o]=i}return e}function ae(n){return pa(()=>{const t=_0(n);return df(t),t})}function Xt(n){return n[Pc]||null}function Xi(n){return n[_g]||null}function Sr(n){return n[vg]||null}function Vr(n,t){const e=n[e0]||null;if(!e&&!0===t)throw new Error(`Type ${Ui(n)} does not have '\u0275mod' property.`);return e}function _0(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||Ws,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||gn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:g0(n.inputs,t),outputs:g0(n.outputs),debugInfo:null}}function df(n){n.features?.forEach(t=>t(n))}function hf(n,t){if(!n)return null;const e=t?Sr:Mg;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(Og)}function Ng(...n){return{\u0275providers:qu(0,n),\u0275fromNgModule:!0}}function qu(n,...t){const e=[],i=new Set;let r;const o=s=>{e.push(s)};return jl(t,s=>{const a=s;Ku(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&ff(r,o),e}function ff(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];Pg(r,o=>{t(o,i)})}}function Ku(n,t,e,i){if(!(n=Tt(n)))return!1;let r=null,o=Yh(n);const s=!o&&Xt(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(o=Yh(c),!o)return!1;r=c}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)Ku(l,t,e,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;i.add(r);try{jl(o.imports,u=>{Ku(u,t,e,i)&&(l||=[],l.push(u))})}finally{}void 0!==l&&ff(l,t)}if(!a){const l=Vc(r)||(()=>new r);t({provide:r,useFactory:l,deps:gn},r),t({provide:Cg,useValue:r,multi:!0},r),t({provide:ws,useValue:()=>$(r),multi:!0},r)}const c=o.providers;if(null!=c&&!a){const l=n;Pg(c,u=>{t(u,l)})}}}return r!==n&&void 0!==n.providers}function Pg(n,t){for(let e of n)ga(e)&&(e=e.\u0275providers),Array.isArray(e)?Pg(e,t):t(e)}const y0=Sn({provide:String,useValue:Sn});function pf(n){return null!==n&&"object"==typeof n&&y0 in n}function Ka(n){return"function"==typeof n}const Vg=new ne(""),mf={},ND={};let Yu;function gf(){return void 0===Yu&&(Yu=new Hl),Yu}class hr{}class Uc extends hr{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ug(t,s=>this.processProvider(s)),this.records.set(rf,zl(void 0,this)),r.has("environment")&&this.records.set(hr,zl(void 0,this));const o=this.records.get(Vg);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Cg,gn,rn.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=rt(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),rt(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=bs(this),i=po(void 0);try{return t()}finally{bs(e),po(i)}}get(t,e=fi,i=rn.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(t0))return t[t0](this);i=Bl(i);const o=bs(this),s=po(void 0);try{if(!(i&rn.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function VD(n){return"function"==typeof n||"object"==typeof n&&n instanceof ne}(t)&&ma(t);c=l&&this.injectableDefInScope(l)?zl(Bg(t),mf):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(i&rn.Self?gf():this.parent).get(t,e=i&rn.Optional&&e===fi?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Vl]=a[Vl]||[]).unshift(Ui(t)),o)throw a;return function wg(n,t,e,i){const r=n[Vl];throw t[a0]&&r.unshift(t[a0]),n.message=function l0(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Ui(t);if(Array.isArray(t))r=t.map(Ui).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ui(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(bg,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Vl]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{po(s),bs(o)}}resolveInjectorInitializers(){const t=rt(null),e=bs(this),i=po(void 0);try{const o=this.get(ws,gn,rn.Self);for(const s of o)s()}finally{bs(e),po(i),rt(t)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Ui(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new se(205,!1)}processProvider(t){let e=Ka(t=Tt(t))?t:Tt(t&&t.provide);const i=function PD(n){return pf(n)?zl(void 0,n.useValue):zl(w0(n),mf)}(t);if(!Ka(t)&&!0===t.multi){let r=this.records.get(e);r||(r=zl(void 0,mf,!0),r.factory=()=>ef(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){const i=rt(null);try{return e.value===mf&&(e.value=ND,e.value=e.factory()),"object"==typeof e.value&&e.value&&function LD(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{rt(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Tt(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function Bg(n){const t=ma(n),e=null!==t?t.factory:Vc(n);if(null!==e)return e;if(n instanceof ne)throw new se(204,!1);if(n instanceof Function)return function _f(n){if(n.length>0)throw new se(204,!1);const e=function _D(n){return n&&(n[Qh]||n[vD])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new se(204,!1)}function w0(n,t,e){let i;if(Ka(n)){const r=Tt(n);return Vc(r)||Bg(r)}if(pf(n))i=()=>Tt(n.useValue);else if(function b0(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...ef(n.deps||[]));else if(function Fg(n){return!(!n||!n.useExisting)}(n))i=()=>$(Tt(n.useExisting));else{const r=Tt(n&&(n.useClass||n.provide));if(!function FD(n){return!!n.deps}(n))return Vc(r)||Bg(r);i=()=>new r(...ef(n.deps))}return i}function zl(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Ug(n,t){for(const e of n)Array.isArray(e)?Ug(e,t):e&&ga(e)?Ug(e.\u0275providers,t):t(e)}function Ts(n,t){n instanceof Uc&&n.assertNotDestroyed();const i=bs(n),r=po(void 0);try{return t()}finally{bs(i),po(r)}}function vf(){return void 0!==Xh()||null!=function ED(){return Fc}()}function Qu(n){if(!vf())throw new se(-203,!1)}const ri=0,Pe=1,ft=2,Wi=3,Ks=4,er=5,Br=6,_a=7,qn=8,ji=9,Ys=10,Mt=11,Ju=12,E0=13,Gl=14,oi=15,jc=16,ed=17,va=18,m=19,d=20,h=21,g=22,w=23,T=25,W=1,Ie=7,ot=9,pt=10;var Ar=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Ar||{});function Zn(n){return Array.isArray(n)&&"object"==typeof n[W]}function tr(n){return Array.isArray(n)&&!0===n[W]}function bf(n){return!!(4&n.flags)}function ya(n){return n.componentOffset>-1}function td(n){return!(1&~n.flags)}function Zo(n){return!!n.template}function Hc(n){return!!(512&n[ft])}class fQ{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function mF(n,t,e,i){null!==t?t.applyValueToInputSignal(t,i):n[e]=i}function xi(){return gF}function gF(n){return n.type.prototype.ngOnChanges&&(n.setInput=mQ),pQ}function pQ(){const n=vF(this),t=n?.current;if(t){const e=n.previous;if(e===Ws)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function mQ(n,t,e,i,r){const o=this.declaredInputs[i],s=vF(n)||function gQ(n,t){return n[_F]=t}(n,{previous:Ws,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new fQ(l&&l.currentValue,e,c===Ws),mF(n,t,r,e)}xi.ngInherit=!0;const _F="__ngSimpleChanges__";function vF(n){return n[_F]||null}const Ya=function(n,t,e){};function An(n){for(;Array.isArray(n);)n=n[ri];return n}function Gg(n,t){return An(t[n])}function Mo(n,t){return An(t[n.index])}function Wg(n,t){return n.data[t]}function Ds(n,t){const e=t[n];return Zn(e)?e:e[ri]}function YD(n){return!(128&~n[ft])}function Qs(n,t){return null==t?null:n[t]}function wF(n){n[ed]=0}function EF(n){1024&n[ft]||(n[ft]|=1024,YD(n)&&T0(n))}function qg(n){return!!(9216&n[ft]||n[w]?.dirty)}function QD(n){n[Ys].changeDetectionScheduler?.notify(7),64&n[ft]&&(n[ft]|=1024),qg(n)&&T0(n)}function T0(n){n[Ys].changeDetectionScheduler?.notify(0);let t=zc(n);for(;null!==t&&!(8192&t[ft])&&(t[ft]|=8192,YD(t));)t=zc(t)}function D0(n,t){if(!(256&~n[ft]))throw new se(911,!1);null===n[h]&&(n[h]=[]),n[h].push(t)}function zc(n){const t=n[Wi];return tr(t)?t[Wi]:t}const Pt={lFrame:PF(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let CF=!1;function TF(){return Pt.bindingsEnabled}function od(){return null!==Pt.skipHydrationRootTNode}function _e(){return Pt.lFrame.lView}function ln(){return Pt.lFrame.tView}function nr(n){return Pt.lFrame.contextLView=n,n[qn]}function ir(n){return Pt.lFrame.contextLView=null,n}function Kn(){let n=DF();for(;null!==n&&64===n.type;)n=n.parent;return n}function DF(){return Pt.lFrame.currentTNode}function ba(n,t){const e=Pt.lFrame;e.currentTNode=n,e.isParent=t}function JD(){return Pt.lFrame.isParent}function eS(){Pt.lFrame.isParent=!1}function RF(){return CF}function xF(n){CF=n}function wa(){return Pt.lFrame.bindingIndex++}function Gc(n){const t=Pt.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function xQ(n,t){const e=Pt.lFrame;e.bindingIndex=e.bindingRootIndex=n,tS(t)}function tS(n){Pt.lFrame.currentDirectiveIndex=n}function nS(n){const t=Pt.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function iS(){return Pt.lFrame.currentQueryIndex}function A0(n){Pt.lFrame.currentQueryIndex=n}function OQ(n){const t=n[Pe];return 2===t.type?t.declTNode:1===t.type?n[er]:null}function kF(n,t,e){if(e&rn.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&rn.Host||(r=OQ(o),null===r||(o=o[Gl],10&r.type))););if(null===r)return!1;t=r,n=o}const i=Pt.lFrame=NF();return i.currentTNode=t,i.lView=n,!0}function rS(n){const t=NF(),e=n[Pe];Pt.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function NF(){const n=Pt.lFrame,t=null===n?null:n.child;return null===t?PF(n):t}function PF(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function FF(){const n=Pt.lFrame;return Pt.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const LF=FF;function oS(){const n=FF();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Xr(){return Pt.lFrame.selectedIndex}function sd(n){Pt.lFrame.selectedIndex=n}function pi(){const n=Pt.lFrame;return Wg(n.tView,n.selectedIndex)}let UF=!0;function Yg(){return UF}function Qa(n){UF=n}function R0(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-e,s),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),c&&(n.viewHooks??=[]).push(-e,c),l&&((n.viewHooks??=[]).push(e,l),(n.viewCheckHooks??=[]).push(e,l)),null!=u&&(n.destroyHooks??=[]).push(e,u)}}function x0(n,t,e){jF(n,t,3,e)}function M0(n,t,e,i){(3&n[ft])===e&&jF(n,t,e,i)}function sS(n,t){let e=n[ft];(3&e)===t&&(e&=16383,e+=1,n[ft]=e)}function jF(n,t,e,i){const o=i??-1,s=t.length-1;let a=0;for(let c=void 0!==i?65535&n[ed]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=i&&a>=i)break}else t[c]<0&&(n[ed]+=65536),(a<o||-1==o)&&(VQ(n,e,t,c),n[ed]=(4294901760&n[ed])+c+2),c++}function HF(n,t){Ya(4,n,t);const e=rt(null);try{t.call(n)}finally{rt(e),Ya(5,n,t)}}function VQ(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];r?n[ft]>>14<n[ed]>>16&&(3&n[ft])===t&&(n[ft]+=16384,HF(a,o)):HF(a,o)}const wf=-1;class Qg{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}const cS={};class ad{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=Bl(i);const r=this.injector.get(t,cS,i);return r!==cS||e===cS?r:this.parentInjector.get(t,e,i)}}function lS(n){return n!==wf}function Zg(n){return 32767&n}function Xg(n,t){let e=function HQ(n){return n>>16}(n),i=t;for(;e>0;)i=i[Gl],e--;return i}let uS=!0;function O0(n){const t=uS;return uS=n,t}const $F=255,GF=5;let $Q=0;const Za={};function k0(n,t){const e=WF(n,t);if(-1!==e)return e;const i=t[Pe];i.firstCreatePass&&(n.injectorIndex=t.length,dS(i.data,n),dS(t,null),dS(i.blueprint,null));const r=N0(n,t),o=n.injectorIndex;if(lS(r)){const s=Zg(r),a=Xg(r,t),c=a[Pe].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=r,o}function dS(n,t){n.push(0,0,0,0,0,0,0,0,t)}function WF(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function N0(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=JF(r),null===i)return wf;if(e++,r=r[Gl],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return wf}function hS(n,t,e){!function GQ(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Hu)&&(i=e[Hu]),null==i&&(i=e[Hu]=$Q++);const r=i&$F;t.data[n+(r>>GF)]|=1<<r}(n,t,e)}function qF(n,t,e){if(e&rn.Optional||void 0!==n)return n;r0()}function KF(n,t,e,i){if(e&rn.Optional&&void 0===i&&(i=null),!(e&(rn.Self|rn.Host))){const r=n[ji],o=po(void 0);try{return r?r.get(t,i,e&rn.Optional):s0(t,i,e&rn.Optional)}finally{po(o)}}return qF(i,0,e)}function YF(n,t,e,i=rn.Default,r){if(null!==n){if(2048&t[ft]&&!(i&rn.Self)){const s=function QQ(n,t,e,i,r){let o=n,s=t;for(;null!==o&&null!==s&&2048&s[ft]&&!(512&s[ft]);){const a=QF(o,s,e,i|rn.Self,Za);if(a!==Za)return a;let c=o.parent;if(!c){const l=s[d];if(l){const u=l.get(e,Za,i);if(u!==Za)return u}c=JF(s),s=s[Gl]}o=c}return r}(n,t,e,i,Za);if(s!==Za)return s}const o=QF(n,t,e,i,Za);if(o!==Za)return o}return KF(t,e,i,r)}function QF(n,t,e,i,r){const o=function KQ(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Hu)?n[Hu]:void 0;return"number"==typeof t?t>=0?t&$F:YQ:t}(e);if("function"==typeof o){if(!kF(t,n,i))return i&rn.Host?qF(r,0,i):KF(t,e,i,r);try{let s;if(s=o(i),null!=s||i&rn.Optional)return s;r0()}finally{LF()}}else if("number"==typeof o){let s=null,a=WF(n,t),c=wf,l=i&rn.Host?t[oi][er]:null;for((-1===a||i&rn.SkipSelf)&&(c=-1===a?N0(n,t):t[a+8],c!==wf&&XF(i,!1)?(s=t[Pe],a=Zg(c),t=Xg(c,t)):a=-1);-1!==a;){const u=t[Pe];if(ZF(o,a,u.data)){const p=qQ(a,t,e,s,i,l);if(p!==Za)return p}c=t[a+8],c!==wf&&XF(i,t[Pe].data[a+8]===l)&&ZF(o,a,t)?(s=u,a=Zg(c),t=Xg(c,t)):a=-1}}return r}function qQ(n,t,e,i,r,o){const s=t[Pe],a=s.data[n+8],u=P0(a,s,e,null==i?ya(a)&&uS:i!=s&&!!(3&a.type),r&rn.Host&&o===a);return null!==u?cd(t,s,u,a):Za}function P0(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,c=n.directiveStart,u=o>>20,_=r?a+u:n.directiveEnd;for(let v=i?a:a+u;v<_;v++){const b=s[v];if(v<c&&e===b||v>=c&&b.type===e)return v}if(r){const v=s[c];if(v&&Zo(v)&&v.type===e)return c}return null}function cd(n,t,e,i){let r=n[e];const o=t.data;if(function BQ(n){return n instanceof Qg}(r)){const s=r;s.resolving&&function n0(n,t){throw t&&t.join(" > "),new se(-200,n)}(function In(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():kt(n)}(o[e]));const a=O0(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?po(s.injectImpl):null;kF(n,i,rn.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function LQ(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=gF(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}r&&(e.preOrderHooks??=[]).push(0-n,r),o&&((e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o))}(e,o[e],t)}finally{null!==l&&po(l),O0(a),s.resolving=!1,LF()}}return r}function ZF(n,t,e){return!!(e[t+(n>>GF)]&1<<n)}function XF(n,t){return!(n&rn.Self||n&rn.Host&&t)}class Rr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return YF(this._tNode,this._lView,t,Bl(i),e)}}function YQ(){return new Rr(Kn(),_e())}function Ft(n){return pa(()=>{const t=n.prototype.constructor,e=t[Wa]||fS(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Wa]||fS(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function fS(n){return Ll(n)?()=>{const t=fS(Tt(n));return t&&t()}:Vc(n)}function JF(n){const t=n[Pe],e=t.type;return 2===e?t.declTNode:1===e?n[er]:null}function rL(n,t=null,e=null,i){const r=oL(n,t,e,i);return r.resolveInjectorInitializers(),r}function oL(n,t=null,e=null,i,r=new Set){const o=[e||gn,Ng(n)];return i=i||("object"==typeof n?void 0:Ui(n)),new Uc(o,t||gf(),i||null,r)}class un{static#e=this.THROW_IF_NOT_FOUND=fi;static#t=this.NULL=new Hl;static create(t,e){if(Array.isArray(t))return rL({name:""},e,t,"");{const i=t.name??"";return rL({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=pe({token:un,providedIn:"any",factory:()=>$(rf)});static#i=this.__NG_ELEMENT_ID__=-1}new ne("").__NG_ELEMENT_ID__=n=>{const t=Kn();if(null===t)throw new se(204,!1);if(2&t.type)return t.value;if(n&rn.Optional)return null;throw new se(204,!1)};function mS(n){return n.ngOriginalError}let Wc=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=sZ;static#t=this.__NG_ENV_ID__=e=>e}return n})();class oZ extends Wc{constructor(t){super(),this._lView=t}onDestroy(t){return D0(this._lView,t),()=>function ZD(n,t){if(null===n[h])return;const e=n[h].indexOf(t);-1!==e&&n[h].splice(e,1)}(this._lView,t)}}function sZ(){return new oZ(_e())}let qc=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new O(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>new n})}return n})();const nt=class aZ extends I{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,vf()&&(this.destroyRef=F(Wc,{optional:!0})??void 0,this.pendingTasks=F(qc,{optional:!0})??void 0)}emit(t){const e=rt(null);try{super.next(t)}finally{rt(e)}}subscribe(t,e,i){let r=t,o=e||(()=>null),s=i;if(t&&"object"==typeof t){const c=t;r=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:r,error:o,complete:s});return t instanceof vt&&t.add(a),a}wrapInTimeout(t){return e=>{const i=this.pendingTasks?.add();setTimeout(()=>{t(e),void 0!==i&&this.pendingTasks?.remove(i)})}}};function L0(...n){}function aL(n){let t,e;function i(){n=L0;try{void 0!==e&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(e),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),i()}),"function"==typeof requestAnimationFrame&&(e=requestAnimationFrame(()=>{n(),i()})),()=>i()}function cL(n){return queueMicrotask(()=>n()),()=>{n=L0}}const gS="isAngularZone",V0=gS+"_ID";let cZ=0;class $e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nt(!1),this.onMicrotaskEmpty=new nt(!1),this.onStable=new nt(!1),this.onError=new nt(!1),typeof Zone>"u")throw new se(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.callbackScheduled=!1,function dZ(n){const t=()=>{!function uZ(n){n.isCheckStableRunning||n.callbackScheduled||(n.callbackScheduled=!0,Zone.root.run(()=>{aL(()=>{n.callbackScheduled=!1,vS(n),n.isCheckStableRunning=!0,_S(n),n.isCheckStableRunning=!1})}),vS(n))}(n)},e=cZ++;n._inner=n._inner.fork({name:"angular",properties:{[gS]:!0,[V0]:e,[V0+e]:!0},onInvokeTask:(i,r,o,s,a,c)=>{if(function hZ(n){return dL(n,"__ignore_ng_zone__")}(c))return i.invokeTask(o,s,a,c);try{return lL(n),i.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),uL(n)}},onInvoke:(i,r,o,s,a,c,l)=>{try{return lL(n),i.invoke(o,s,a,c,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!function fZ(n){return dL(n,"__scheduler_tick__")}(c)&&t(),uL(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,vS(n),_S(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(gS)}static assertInAngularZone(){if(!$e.isInAngularZone())throw new se(909,!1)}static assertNotInAngularZone(){if($e.isInAngularZone())throw new se(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,lZ,L0,L0);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const lZ={};function _S(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function vS(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&!0===n.callbackScheduled)}function lL(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function uL(n){n._nesting--,_S(n)}class yS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nt,this.onMicrotaskEmpty=new nt,this.onStable=new nt,this.onError=new nt}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}function dL(n,t){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0]?.data?.[t]}class Zs{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&mS(t);for(;e&&mS(e);)e=mS(e);return e||null}}const mZ=new ne("",{providedIn:"root",factory:()=>{const n=F($e),t=F(Zs);return e=>n.runOutsideAngular(()=>t.handleError(e))}});function gZ(){return Cf(Kn(),_e())}function Cf(n,t){return new st(Mo(n,t))}let st=(()=>{class n{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=gZ}return n})();function fL(n){return n instanceof st?n.nativeElement:n}function _Z(){return this._results[Symbol.iterator]()}class ld{static#e=Symbol.iterator;get changes(){return this._changes??=new nt}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const e=ld.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=_Z)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const i=function mo(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function DD(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function e_(n){return!(128&~n.flags)}const wS=new Map;let yZ=0;const B0="__ngContext__";function go(n,t){Zn(t)?(n[B0]=t[m],function wZ(n){wS.set(n[m],n)}(t)):n[B0]=t}function IL(n){return TL(n[Ju])}function CL(n){return TL(n[Ks])}function TL(n){for(;null!==n&&!tr(n);)n=n[Ks];return n}let IS;const Df=new ne("",{providedIn:"root",factory:()=>BZ}),BZ="ng",kL=new ne(""),Jo=new ne("",{providedIn:"platform",factory:()=>"unknown"}),Xs=new ne(""),CS=new ne("",{providedIn:"root",factory:()=>function Wl(){if(void 0!==IS)return IS;if(typeof document<"u")return document;throw new se(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let NL=()=>null;function MS(n,t,e=!1){return NL(n,t,e)}const HL=new ne("",{providedIn:"root",factory:()=>!1});class dd{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Uu})`}}function Ss(n){return n instanceof dd?n.changingThisBreaksApplicationSecurity:n}const fX=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Jr=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Jr||{});function jS(n){const t=function c_(){const n=_e();return n&&n[Ys].sanitizer}();return t?t.sanitize(Jr.URL,n)||"":function Ja(n,t){const e=function rX(n){return n instanceof dd&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${Uu})`)}return e===t}(n,"URL")?Ss(n):function Q0(n){return(n=String(n)).match(fX)?n:"unsafe:"+n}(kt(n))}function As(n){return n instanceof Function?n():n}function es(n){return"browser"===(n??F(un)).get(Jo)}var ql=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ql||{});let $S;function GS(n,t){return $S(n,t)}function Mf(n,t,e,i,r){if(null!=i){let o,s=!1;tr(i)?o=i:Zn(i)&&(s=!0,i=i[ri]);const a=An(i);0===n&&null!==e?null==r?v2(t,e,a):hd(t,e,a,r||null,!0):1===n&&null!==e?hd(t,e,a,r||null,!0):2===n?function u_(n,t,e){n.removeChild(null,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function QX(n,t,e,i,r){const o=e[Ie];o!==An(e)&&Mf(t,n,i,o,r);for(let a=pt;a<e.length;a++){const c=e[a];iw(c[Pe],c,n,t,i,o)}}(t,n,o,e,r)}}function ew(n,t,e){return n.createElement(t,e)}function m2(n,t){t[Ys].changeDetectionScheduler?.notify(8),iw(n,t,t[Mt],2,null,null)}function g2(n,t){const e=n[ot],i=t[Wi];(Zn(i)||t[oi]!==i[Wi][oi])&&(n[ft]|=Ar.HasTransplantedViews),null===e?n[ot]=[t]:e.push(t)}function KS(n,t){const e=n[ot],i=e.indexOf(t);e.splice(i,1)}function l_(n,t){if(n.length<=pt)return;const e=pt+t,i=n[e];if(i){const r=i[jc];null!==r&&r!==n&&KS(r,i),t>0&&(n[e-1][Ks]=i[Ks]);const o=tf(n,pt+t);!function HX(n,t){m2(n,t),t[ri]=null,t[er]=null}(i[Pe],i);const s=o[va];null!==s&&s.detachView(o[Pe]),i[Wi]=null,i[Ks]=null,i[ft]&=-129}return i}function tw(n,t){if(!(256&t[ft])){const e=t[Mt];e.destroyNode&&iw(n,t,e,3,null,null),function $X(n){let t=n[Ju];if(!t)return YS(n[Pe],n);for(;t;){let e=null;if(Zn(t))e=t[Ju];else{const i=t[pt];i&&(e=i)}if(!e){for(;t&&!t[Ks]&&t!==n;)Zn(t)&&YS(t[Pe],t),t=t[Wi];null===t&&(t=n),Zn(t)&&YS(t[Pe],t),e=t&&t[Ks]}t=e}}(t)}}function YS(n,t){if(256&t[ft])return;const e=rt(null);try{t[ft]&=-129,t[ft]|=256,t[w]&&di(t[w]),function qX(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Qg)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],c=o[s+1];Ya(4,a,c);try{c.call(a)}finally{Ya(5,a,c)}}else{Ya(4,r,o);try{o.call(r)}finally{Ya(5,r,o)}}}}}(n,t),function WX(n,t){const e=n.cleanup,i=t[_a];if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else e[o].call(i[e[o+1]]);null!==i&&(t[_a]=null);const r=t[h];if(null!==r){t[h]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,t),1===t[Pe].type&&t[Mt].destroy();const i=t[jc];if(null!==i&&tr(t[Wi])){i!==t[Wi]&&KS(i,t);const r=t[va];null!==r&&r.detachView(n)}!function EZ(n){wS.delete(n[m])}(t)}finally{rt(e)}}function QS(n,t,e){return function _2(n,t,e){let i=t;for(;null!==i&&168&i.type;)i=(t=i).parent;if(null===i)return e[ri];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===xo.None||o===xo.Emulated)return null}return Mo(i,e)}}(n,t.parent,e)}function hd(n,t,e,i,r){n.insertBefore(t,e,i,r)}function v2(n,t,e){n.appendChild(t,e)}function y2(n,t,e,i,r){null!==i?hd(n,t,e,i,r):v2(n,t,e)}function ZS(n,t){return n.parentNode(t)}function b2(n,t,e){return E2(n,t,e)}let XS,E2=function w2(n,t,e){return 40&n.type?Mo(n,e):null};function nw(n,t,e,i){const r=QS(n,i,t),o=t[Mt],a=b2(i.parent||t[er],i,t);if(null!=r)if(Array.isArray(e))for(let c=0;c<e.length;c++)y2(o,r,e[c],a,!1);else y2(o,r,e,a,!1);void 0!==XS&&XS(o,i,t,e,r)}function fd(n,t){if(null!==t){const e=t.type;if(3&e)return Mo(t,n);if(4&e)return JS(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return fd(n,i);{const r=n[t.index];return tr(r)?JS(-1,r):An(r)}}if(128&e)return fd(n,t.next);if(32&e)return GS(t,n)()||An(n[t.index]);{const i=C2(n,t);return null!==i?Array.isArray(i)?i[0]:fd(zc(n[oi]),i):fd(n,t.next)}}return null}function C2(n,t){return null!==t?n[oi][er].projection[t.projection]:null}function JS(n,t){const e=pt+n+1;if(e<t.length){const i=t[e],r=i[Pe].firstChild;if(null!==r)return fd(i,r)}return t[Ie]}function eA(n,t,e,i,r,o,s){for(;null!=e;){if(128===e.type){e=e.next;continue}const a=i[e.index],c=e.type;if(s&&0===t&&(a&&go(An(a),i),e.flags|=2),32&~e.flags)if(8&c)eA(n,t,e.child,i,r,o,!1),Mf(t,n,r,a,o);else if(32&c){const l=GS(e,i);let u;for(;u=l();)Mf(t,n,r,u,o);Mf(t,n,r,a,o)}else 16&c?D2(n,t,i,e,r,o):Mf(t,n,r,a,o);e=s?e.projectionNext:e.next}}function iw(n,t,e,i,r,o){eA(e,i,n.firstChild,t,r,o,!1)}function D2(n,t,e,i,r,o){const s=e[oi],c=s[er].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Mf(t,n,r,c[l],o);else{let l=c;const u=s[Wi];e_(i)&&(l.flags|=128),eA(n,t,l,u,r,o,!0)}}function S2(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function A2(n,t,e){const{mergedAttrs:i,classes:r,styles:o}=e;null!==i&&Dg(n,t,i),null!==r&&S2(n,t,r),null!==o&&function XX(n,t,e){n.setAttribute(t,"style",e)}(n,t,o)}const qt={};function Fe(n=1){R2(ln(),_e(),Xr()+n,!1)}function R2(n,t,e,i){if(!i)if(3&~t[ft]){const o=n.preOrderHooks;null!==o&&M0(t,o,0,e)}else{const o=n.preOrderCheckHooks;null!==o&&x0(t,o,e)}sd(e)}function P(n,t=rn.Default){const e=_e();return null===e?$(n,t):YF(Kn(),e,Tt(n),t)}function tA(){throw new Error("invalid")}function x2(n,t,e,i,r,o){const s=rt(null);try{let a=null;r&Es.SignalBased&&(a=t[i][Tn]),null!==a&&void 0!==a.transformFn&&(o=a.transformFn(o)),r&Es.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(t,o)),null!==n.setInput?n.setInput(t,a,o,e,i):mF(t,a,i,o)}finally{rt(s)}}function rw(n,t,e,i,r,o,s,a,c,l,u){const p=t.blueprint.slice();return p[ri]=r,p[ft]=204|i,(null!==l||n&&2048&n[ft])&&(p[ft]|=2048),wF(p),p[Wi]=p[Gl]=n,p[qn]=e,p[Ys]=s||n&&n[Ys],p[Mt]=a||n&&n[Mt],p[ji]=c||n&&n[ji]||null,p[er]=o,p[m]=function bZ(){return yZ++}(),p[Br]=u,p[d]=l,p[oi]=2==t.type?n[oi]:p,p}function pd(n,t,e,i,r){let o=n.data[t];if(null===o)o=function nA(n,t,e,i,r){const o=DF(),s=JD(),c=n.data[t]=function sJ(n,t,e,i,r,o){let s=t?t.injectorIndex:-1,a=0;return od()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,t,e,i,r),function RQ(){return Pt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function Kg(){const n=Pt.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ba(o,!0),o}function d_(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function M2(n,t,e,i,r){const o=Xr(),s=2&i;try{sd(-1),s&&t.length>T&&R2(n,t,T,!1),Ya(s?2:0,r),e(i,r)}finally{sd(o),Ya(s?3:1,r)}}function iA(n,t,e){if(bf(t)){const i=rt(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,e[s],s)}}finally{rt(i)}}}function rA(n,t,e){TF()&&(function fJ(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;ya(e)&&function bJ(n,t,e){const i=Mo(t,n),r=O2(e);let s=16;e.signals?s=4096:e.onPush&&(s=64);const a=ow(n,rw(n,r,null,s,i,t,null,n[Ys].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||k0(e,t),go(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const c=n.data[a],l=cd(t,n,a,e);go(l,t),null!==s&&wJ(0,a-r,l,c,0,s),Zo(c)&&(Ds(e.index,t)[qn]=cd(t,n,a,e))}}(n,t,e,Mo(e,t)),!(64&~e.flags)&&L2(n,t,e))}function oA(n,t,e=Mo){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function O2(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=sA(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function sA(n,t,e,i,r,o,s,a,c,l,u){const p=T+i,_=p+r,v=function eJ(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:qt);return e}(p,_),b="function"==typeof l?l():l;return v[Pe]={type:n,blueprint:v,template:e,queries:null,viewQuery:a,declTNode:t,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:u}}let k2=()=>null;function N2(n,t,e,i,r){for(let o in t){if(!t.hasOwnProperty(o))continue;const s=t[o];if(void 0===s)continue;i??={};let a,c=Es.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(null!==r){if(!r.hasOwnProperty(o))continue;l=r[o]}0===n?P2(i,e,l,a,c):P2(i,e,l,a)}return i}function P2(n,t,e,i,r){let o;n.hasOwnProperty(e)?(o=n[e]).push(t,i):o=n[e]=[t,i],void 0!==r&&o.push(r)}function ts(n,t,e,i,r,o,s,a){const c=Mo(t,e);let u,l=t.inputs;!a&&null!=l&&(u=l[i])?(dA(n,e,u,i,r),ya(t)&&function lJ(n,t){const e=Ds(t,n);16&e[ft]||(e[ft]|=64)}(e,t.index)):3&t.type&&(i=function cJ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,o.setProperty(c,i,r))}function aA(n,t,e,i){if(TF()){const r=null===i?null:{"":-1},o=function mJ(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let o=0;o<e.length;o++){const s=e[o];if(lf(t,s.selectors,!1))if(i||(i=[]),Zo(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),cA(n,t,a.length)}else i.unshift(s),cA(n,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,e);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&F2(n,t,e,s,r,a),r&&function gJ(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new se(-301,!1);i.push(t[r],o)}}}(e,i,r)}e.mergedAttrs=Is(e.mergedAttrs,e.attrs)}function F2(n,t,e,i,r,o){for(let l=0;l<i.length;l++)hS(k0(e,t),n,i[l].type);!function vJ(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let l=0;l<i.length;l++){const u=i[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=d_(n,t,i.length,null);for(let l=0;l<i.length;l++){const u=i[l];e.mergedAttrs=Is(e.mergedAttrs,u.hostAttrs),yJ(n,e,t,c,u),_J(c,u,r),null!==u.contentQueries&&(e.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=64);const p=u.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),c++}!function aJ(n,t,e){const r=t.directiveEnd,o=n.data,s=t.attrs,a=[];let c=null,l=null;for(let u=t.directiveStart;u<r;u++){const p=o[u],_=e?e.get(p):null,b=_?_.outputs:null;c=N2(0,p.inputs,u,c,_?_.inputs:null),l=N2(1,p.outputs,u,l,b);const C=null===c||null===s||Sg(t)?null:EJ(c,u,s);a.push(C)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(n,e,o)}function L2(n,t,e){const i=e.directiveStart,r=e.directiveEnd,o=e.index,s=function MQ(){return Pt.lFrame.currentDirectiveIndex}();try{sd(o);for(let a=i;a<r;a++){const c=n.data[a],l=t[a];tS(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&pJ(c,l)}}finally{sd(-1),tS(s)}}function pJ(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function cA(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function _J(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Zo(t)&&(e[""]=n)}}function yJ(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=Vc(r.type)),s=new Qg(o,Zo(r),P);n.blueprint[i]=s,e[i]=s,function dJ(n,t,e,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~t.index;(function hJ(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(s)!=a&&s.push(a),s.push(e,i,o)}}(n,t,i,d_(n,e,r.hostVars,qt),r)}function ec(n,t,e,i,r,o){const s=Mo(n,t);!function lA(n,t,e,i,r,o,s){if(null==o)n.removeAttribute(t,r,e);else{const a=null==s?kt(o):s(o,i||"",r);n.setAttribute(t,r,a,e)}}(t[Mt],s,o,n.value,e,i,r)}function wJ(n,t,e,i,r,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)x2(i,e,s[a++],s[a++],s[a++],s[a++])}function EJ(n,t,e){let i=null,r=0;for(;r<e.length;){const o=e[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){i.push(o,s[a+1],s[a+2],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function V2(n,t,e,i){return[n,!0,0,t,null,i,null,e,null,null]}function B2(n,t){const e=n.contentQueries;if(null!==e){const i=rt(null);try{for(let r=0;r<e.length;r+=2){const s=e[r+1];if(-1!==s){const a=n.data[s];A0(e[r]),a.contentQueries(2,t[s],s)}}}finally{rt(i)}}}function ow(n,t){return n[Ju]?n[E0][Ks]=t:n[Ju]=t,n[E0]=t,t}function uA(n,t,e){A0(0);const i=rt(null);try{t(n,e)}finally{rt(i)}}function U2(n){return n[_a]??=[]}function j2(n){return n.cleanup??=[]}function H2(n,t,e){return(null===n||Zo(n))&&(e=function KD(n){for(;Array.isArray(n);){if("object"==typeof n[W])return n;n=n[ri]}return null}(e[t.index])),e[Mt]}function sw(n,t){const e=n[ji],i=e?e.get(Zs,null):null;i&&i.handleError(t)}function dA(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],c=e[o++];x2(n.data[s],t[s],i,a,c,r)}}function IJ(n,t){const e=Ds(t,n),i=e[Pe];!function CJ(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[ri];null!==r&&null===e[Br]&&(e[Br]=MS(r,e[ji])),hA(i,e,e[qn])}function hA(n,t,e){rS(t);try{const i=n.viewQuery;null!==i&&uA(1,i,e);const r=n.template;null!==r&&M2(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[va]?.finishViewCreation(n),n.staticContentQueries&&B2(n,t),n.staticViewQueries&&uA(2,n.viewQuery,e);const o=n.components;null!==o&&function TJ(n,t){for(let e=0;e<t.length;e++)IJ(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[ft]&=-5,oS()}}function Of(n,t,e,i){const r=rt(null);try{const o=t.tView,c=rw(n,o,e,4096&n[ft]?4096:16,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);c[jc]=n[t.index];const u=n[va];return null!==u&&(c[va]=u.createEmbeddedView(o)),hA(o,c,e),c}finally{rt(r)}}function md(n,t){return!t||null===t.firstChild||e_(n)}function kf(n,t,e,i=!0){const r=t[Pe];if(function GX(n,t,e,i){const r=pt+i,o=e.length;i>0&&(e[r-1][Ks]=t),i<o-pt?(t[Ks]=e[r],$u(e,pt+i,t)):(e.push(t),t[Ks]=null),t[Wi]=e;const s=t[jc];null!==s&&e!==s&&g2(s,t);const a=t[va];null!==a&&a.insertView(n),QD(t),t[ft]|=128}(r,t,n,e),i){const s=JS(e,n),a=t[Mt],c=ZS(a,n[Ie]);null!==c&&function zX(n,t,e,i,r,o){i[ri]=r,i[er]=t,iw(n,i,e,1,r,o)}(r,n[er],a,t,c,s)}const o=t[Br];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function h_(n,t,e,i,r=!1){for(;null!==e;){if(128===e.type){e=r?e.projectionNext:e.next;continue}const o=t[e.index];null!==o&&i.push(An(o)),tr(o)&&$2(o,i);const s=e.type;if(8&s)h_(n,t,e.child,i);else if(32&s){const a=GS(e,t);let c;for(;c=a();)i.push(c)}else if(16&s){const a=C2(t,e);if(Array.isArray(a))i.push(...a);else{const c=zc(t[oi]);h_(c[Pe],c,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function $2(n,t){for(let e=pt;e<n.length;e++){const i=n[e],r=i[Pe].firstChild;null!==r&&h_(i[Pe],i,r,t)}n[Ie]!==n[ri]&&t.push(n[Ie])}let G2=[];const RJ={...Ce,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{T0(n.lView)},consumerOnSignalRead(){this.lView[w]=this}},MJ={...Ce,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let t=zc(n.lView);for(;t&&!W2(t[Pe]);)t=zc(t);t&&EF(t)},consumerOnSignalRead(){this.lView[w]=this}};function W2(n){return 2!==n.type}const OJ=100;function aw(n,t=!0,e=0){const i=n[Ys],r=i.rendererFactory;r.begin?.();try{!function kJ(n,t){const e=RF();try{xF(!0),pA(n,t);let i=0;for(;qg(n);){if(i===OJ)throw new se(103,!1);i++,pA(n,1)}}finally{xF(e)}}(n,e)}catch(s){throw t&&sw(n,s),s}finally{r.end?.(),i.inlineEffectRunner?.flush()}}function NJ(n,t,e,i){const r=t[ft];if(!(256&~r))return;t[Ys].inlineEffectRunner?.flush(),rS(t);let a=!0,c=null,l=null;W2(n)?(l=function DJ(n){return n[w]??function SJ(n){const t=G2.pop()??Object.create(RJ);return t.lView=n,t}(n)}(t),c=It(l)):null===function ui(){return Ne}()?(a=!1,l=function xJ(n){const t=n[w]??Object.create(MJ);return t.lView=n,t}(t),c=It(l)):t[w]&&(di(t[w]),t[w]=null);try{wF(t),function MF(n){return Pt.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&M2(n,t,e,2,i);const u=!(3&~r);if(u){const v=n.preOrderCheckHooks;null!==v&&x0(t,v,null)}else{const v=n.preOrderHooks;null!==v&&M0(t,v,0,null),sS(t,0)}if(function PJ(n){for(let t=IL(n);null!==t;t=CL(t)){if(!(t[ft]&Ar.HasTransplantedViews))continue;const e=t[ot];for(let i=0;i<e.length;i++)EF(e[i])}}(t),K2(t,0),null!==n.contentQueries&&B2(n,t),u){const v=n.contentCheckHooks;null!==v&&x0(t,v)}else{const v=n.contentHooks;null!==v&&M0(t,v,1),sS(t,1)}!function JX(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)sd(~r);else{const o=r,s=e[++i],a=e[++i];xQ(s,o),a(2,t[o])}}}finally{sd(-1)}}(n,t);const p=n.components;null!==p&&Q2(t,p,0);const _=n.viewQuery;if(null!==_&&uA(2,_,i),u){const v=n.viewCheckHooks;null!==v&&x0(t,v)}else{const v=n.viewHooks;null!==v&&M0(t,v,2),sS(t,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[g]){for(const v of t[g])v();t[g]=null}t[ft]&=-73}catch(u){throw T0(t),u}finally{null!==l&&(Ct(l,c),a&&function AJ(n){n.lView[w]!==n&&(n.lView=null,G2.push(n))}(l)),oS()}}function K2(n,t){for(let e=IL(n);null!==e;e=CL(e))for(let i=pt;i<e.length;i++)Y2(e[i],t)}function FJ(n,t,e){Y2(Ds(t,n),e)}function Y2(n,t){YD(n)&&pA(n,t)}function pA(n,t){const i=n[Pe],r=n[ft],o=n[w];let s=!!(0===t&&16&r);if(s||=!!(64&r&&0===t),s||=!!(1024&r),s||=!(!o?.dirty||!$n(o)),s||=!1,o&&(o.dirty=!1),n[ft]&=-9217,s)NJ(i,n,i.template,n[qn]);else if(8192&r){K2(n,1);const a=i.components;null!==a&&Q2(n,a,1)}}function Q2(n,t,e){for(let i=0;i<t.length;i++)FJ(n,t[i],e)}function f_(n,t){const e=RF()?64:1088;for(n[Ys].changeDetectionScheduler?.notify(t);n;){n[ft]|=e;const i=zc(n);if(Hc(n)&&!i)return n;n=i}return null}class p_{get rootNodes(){const t=this._lView,e=t[Pe];return h_(e,t,e.firstChild,[])}constructor(t,e,i=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qn]}set context(t){this._lView[qn]=t}get destroyed(){return!(256&~this._lView[ft])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Wi];if(tr(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(l_(t,i),tf(e,i))}this._attachedToViewContainer=!1}tw(this._lView[Pe],this._lView)}onDestroy(t){D0(this._lView,t)}markForCheck(){f_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ft]&=-129}reattach(){QD(this._lView),this._lView[ft]|=128}detectChanges(){this._lView[ft]|=1024,aw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Hc(this._lView),e=this._lView[jc];null!==e&&!t&&KS(e,this._lView),m2(this._lView[Pe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new se(902,!1);this._appRef=t;const e=Hc(this._lView),i=this._lView[jc];null!==i&&!e&&g2(i,this._lView),QD(this._lView)}}let Un=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=BJ}return n})();const LJ=Un,VJ=class extends LJ{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=Of(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:i});return new p_(r)}};function BJ(){return cw(Kn(),_e())}function cw(n,t){return 4&n.type?new VJ(t,n,Cf(n,t)):null}let _V=()=>null;function _d(n,t){return _V(n,t)}class Pf{}const E_=new ne("",{providedIn:"root",factory:()=>!1}),vV=new ne("");class Mee{}class yV{}class kee{resolveComponentFactory(t){throw function Oee(n){const t=Error(`No component factory found for ${Ui(n)}.`);return t.ngComponent=n,t}(t)}}class Ff{static#e=this.NULL=new kee}class pw{}let Pee=(()=>{class n{static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>null})}return n})();const wV=new Set;function ko(n){wV.has(n)||(wV.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var No=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(No||{});const EV={destroy(){}};function DA(n,t){!t&&Qu();const e=t?.injector??F(un);return es(e)?(ko("NgAfterRender"),IV(n,e,!1,t?.phase??No.MixedReadWrite)):EV}function Zc(n,t){!t&&Qu();const e=t?.injector??F(un);return es(e)?(ko("NgAfterNextRender"),IV(n,e,!0,t?.phase??No.MixedReadWrite)):EV}function IV(n,t,e,i){const r=function Fee(n,t){if(n instanceof Function)switch(t){case No.EarlyRead:return{earlyRead:n};case No.Write:return{write:n};case No.MixedReadWrite:return{mixedReadWrite:n};case No.Read:return{read:n}}return n}(n,i),o=t.get(mw),s=o.handler??=new Vee,a=[],c=[],l=()=>{for(const v of c)s.unregister(v);u()},u=t.get(Wc).onDestroy(l);let p=0;const _=(v,b)=>{if(!b)return;const C=e?(...N)=>(p--,p<1&&l(),b(...N)):b,D=Ts(t,()=>new Lee(v,a,C));s.register(D),c.push(D),p++};return _(No.EarlyRead,r.earlyRead),_(No.Write,r.write),_(No.MixedReadWrite,r.mixedReadWrite),_(No.Read,r.read),{destroy:l}}class Lee{constructor(t,e,i){this.phase=t,this.pipelinedArgs=e,this.callbackFn=i,this.zone=F($e),this.errorHandler=F(Zs,{optional:!0}),F(Pf,{optional:!0})?.notify(6)}invoke(){try{const t=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,t)}catch(t){this.errorHandler?.handleError(t)}}}class Vee{constructor(){this.executingCallbacks=!1,this.buckets={[No.EarlyRead]:new Set,[No.Write]:new Set,[No.MixedReadWrite]:new Set,[No.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const e of t)e.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let mw=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const e=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of e)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>new n})}return n})();function _w(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=Kh(r,a):2==o&&(i=Kh(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}class DV extends Ff{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Xt(t);return new T_(e,this.ngModule)}}function SV(n,t){const e=[];for(const i in n){if(!n.hasOwnProperty(i))continue;const r=n[i];if(void 0===r)continue;const o=Array.isArray(r),s=o?r[0]:r;e.push(t?{propName:s,templateName:i,isSignal:!!((o?r[1]:Es.None)&Es.SignalBased)}:{propName:s,templateName:i})}return e}class T_ extends yV{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=SV(t.inputs,!0);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return SV(this.componentDef.outputs,!1)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function Gu(n){return n.map(MD).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){const o=rt(null);try{let s=(r=r||this.ngModule)instanceof hr?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new ad(t,s):t,c=a.get(pw,null);if(null===c)throw new se(407,!1);const l=a.get(Pee,null),_={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:a.get(mw,null),changeDetectionScheduler:a.get(Pf,null)},v=c.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",C=i?function tJ(n,t,e,i){const o=i.get(HL,!1)||e===xo.ShadowDom,s=n.selectRootElement(t,o);return function nJ(n){k2(n)}(s),s}(v,i,this.componentDef.encapsulation,a):ew(v,b,function jee(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(b));let D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let N=null;null!==C&&(N=MS(C,a,!0));const k=sA(0,null,null,1,0,null,null,null,null,null,null),j=rw(null,k,null,D,null,null,_,v,a,null,N);let Y,me;rS(j);try{const we=this.componentDef;let B,M=null;we.findHostDirectiveDefs?(B=[],M=new Map,we.findHostDirectiveDefs(we,B,M),B.push(we)):B=[we];const U=function zee(n,t){const e=n[Pe],i=T;return n[i]=t,pd(e,i,2,"#host",null)}(j,C),G=function $ee(n,t,e,i,r,o,s){const a=r[Pe];!function Gee(n,t,e,i){for(const r of n)t.mergedAttrs=Is(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(_w(t,t.mergedAttrs,!0),null!==e&&A2(i,e,t))}(i,n,t,s);let c=null;null!==t&&(c=MS(t,r[ji]));const l=o.rendererFactory.createRenderer(t,e);let u=16;e.signals?u=4096:e.onPush&&(u=64);const p=rw(r,O2(e),null,u,r[n.index],n,o,l,null,null,c);return a.firstCreatePass&&cA(a,n,i.length-1),ow(r,p),r[n.index]=p}(U,C,we,B,j,_,v);me=Wg(k,T),C&&function qee(n,t,e,i){if(i)Dg(n,e,["ng-version","18.2.0"]);else{const{attrs:r,classes:o}=function OD(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!Cs(r))break;r=o}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&Dg(n,e,r),o&&o.length>0&&S2(n,e,o.join(" "))}}(v,we,C,i),void 0!==e&&function Kee(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const o=e[r];i.push(null!=o?Array.from(o):null)}}(me,this.ngContentSelectors,e),Y=function Wee(n,t,e,i,r,o){const s=Kn(),a=r[Pe],c=Mo(s,r);F2(a,r,s,e,null,i);for(let u=0;u<e.length;u++)go(cd(r,a,s.directiveStart+u,s),r);L2(a,r,s),c&&go(c,r);const l=cd(r,a,s.directiveStart+s.componentOffset,s);if(n[qn]=r[qn]=l,null!==o)for(const u of o)u(l,t);return iA(a,s,r),l}(G,we,B,M,j,[Yee]),hA(k,j,null)}finally{oS()}return new Hee(this.componentType,Y,Cf(me,j),j,me)}finally{rt(o)}}}class Hee extends Mee{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new p_(r,void 0,!1),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const o=this._rootLView;dA(o[Pe],o,r,t,e),this.previousInputValues.set(t,e),f_(Ds(this._tNode.index,o),1)}}get injector(){return new Rr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Yee(){const n=Kn();R0(_e()[Pe],n)}let fr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Qee}return n})();function Qee(){return xV(Kn(),_e())}const Zee=fr,AV=class extends Zee{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Cf(this._hostTNode,this._hostLView)}get injector(){return new Rr(this._hostTNode,this._hostLView)}get parentInjector(){const t=N0(this._hostTNode,this._hostLView);if(lS(t)){const e=Xg(t,this._hostLView),i=Zg(t);return new Rr(e[Pe].data[i+8],e)}return new Rr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=RV(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-pt}createEmbeddedView(t,e,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const s=_d(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(a,r,md(this._hostTNode,s)),a}createComponent(t,e,i,r,o){const s=t&&!function Zu(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const b=e||{};a=b.index,i=b.injector,r=b.projectableNodes,o=b.environmentInjector||b.ngModuleRef}const c=s?t:new T_(Xt(t)),l=i||this.parentInjector;if(!o&&null==c.ngModule){const C=(s?l:this.parentInjector).get(hr,null);C&&(o=C)}const u=Xt(c.componentType??{}),p=_d(this._lContainer,u?.id??null),v=c.create(l,r,p?.firstChild??null,o);return this.insertImpl(v.hostView,a,md(this._hostTNode,p)),v}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,i){const r=t._lView;if(function bQ(n){return tr(n[Wi])}(r)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const c=r[Wi],l=new AV(c,c[er],c[Wi]);l.detach(l.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;return kf(s,r,o,i),t.attachToViewContainerRef(),$u(RA(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=RV(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=l_(this._lContainer,e);i&&(tf(RA(this._lContainer),e),tw(i[Pe],i))}detach(t){const e=this._adjustIndex(t,-1),i=l_(this._lContainer,e);return i&&null!=tf(RA(this._lContainer),e)?new p_(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function RV(n){return n[8]}function RA(n){return n[8]||(n[8]=[])}function xV(n,t){let e;const i=t[n.index];return tr(i)?e=i:(e=V2(i,t,null,n),t[n.index]=e,ow(t,e)),MV(e,t,n,i),new AV(e,n,t)}let MV=function kV(n,t,e,i){if(n[Ie])return;let r;r=8&e.type?An(i):function Xee(n,t){const e=n[Mt],i=e.createComment(""),r=Mo(t,n);return hd(e,ZS(e,r),i,function KX(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[Ie]=r},xA=()=>!1;class MA{constructor(t){this.queryList=t,this.matches=null}clone(){return new MA(this.queryList)}setDirty(){this.queryList.setDirty()}}class OA{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new OA(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==LA(t,e).matches&&this.queries[e].setDirty()}}class NV{constructor(t,e,i=null){this.flags=e,this.read=i,this.predicate="string"==typeof t?function ste(n){return n.split(",").map(t=>t.trim())}(t):t}}class kA{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new kA(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class NA{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new NA(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,nte(e,o)),this.matchTNodeWithReadOption(t,e,P0(e,t,o,!1,!1))}else i===Un?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,P0(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===st||r===fr||r===Un&&4&e.type)this.addMatch(e.index,-2);else{const o=P0(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function nte(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function rte(n,t,e,i){return-1===e?function ite(n,t){return 11&n.type?Cf(n,t):4&n.type?cw(n,t):null}(t,n):-2===e?function ote(n,t,e){return e===st?Cf(t,n):e===Un?cw(t,n):e===fr?xV(t,n):void 0}(n,t,i):cd(n,n[Pe],e,t)}function PV(n,t,e,i){const r=t[va].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let c=0;null!==s&&c<s.length;c+=2){const l=s[c];a.push(l<0?null:rte(t,o[l],s[c+1],e.metadata.read))}r.matches=a}return r.matches}function PA(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=PV(n,t,r,e);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)i.push(s[a/2]);else{const l=o[a+1],u=t[-c];for(let p=pt;p<u.length;p++){const _=u[p];_[jc]===_[Wi]&&PA(_[Pe],_,l,i)}if(null!==u[ot]){const p=u[ot];for(let _=0;_<p.length;_++){const v=p[_];PA(v[Pe],v,l,i)}}}}}return i}function FA(n,t){return n[va].queries[t].queryList}function FV(n,t,e){const i=new ld(!(4&~e));return function oJ(n,t,e,i){const r=U2(t);r.push(e),n.firstCreatePass&&j2(n).push(i,r.length-1)}(n,t,i,i.destroy),(t[va]??=new OA).queries.push(new MA(i))-1}function VV(n,t,e,i){const r=ln();if(r.firstCreatePass){const o=Kn();BV(r,new NV(t,e,i),o.index),function ate(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),!(2&~e)&&(r.staticContentQueries=!0)}return FV(r,_e(),e)}function BV(n,t,e){null===n.queries&&(n.queries=new kA),n.queries.track(new NA(t,e))}function LA(n,t){return n.queries.getByIndex(t)}function UV(n,t){const e=n[Pe],i=LA(e,t);return i.crossesNgTemplate?PA(e,n,t,[]):PV(e,n,i,t)}function Lf(n,t){ko("NgSignals");const e=function ue(n){const t=Object.create(nn);t.value=n;const e=()=>(Oe(t),t.value);return e[Tn]=t,e}(n),i=e[Tn];return t?.equal&&(i.equal=t.equal),e.set=r=>Te(i,r),e.update=r=>function ve(n,t){bi()||ps(),Te(n,t(n.value))}(i,r),e.asReadonly=jV.bind(e),e}function jV(){const n=this[Tn];if(void 0===n.readonlyFn){const t=()=>this();t[Tn]=n,n.readonlyFn=t}return n.readonlyFn}function VA(n,t){let e;const i=Re(()=>{e._dirtyCounter();const r=function cte(n,t){const e=n._lView,i=n._queryIndex;if(void 0===e||void 0===i||4&e[ft])return t?void 0:gn;const r=FA(e,i),o=UV(e,i);return r.reset(o,fL),t?r.first:r._changesDetected||void 0===n._flatValue?n._flatValue=r.toArray():n._flatValue}(e,n);if(t&&void 0===r)throw new se(-951,!1);return r});return e=i[Tn],e._dirtyCounter=Lf(0),e._flatValue=void 0,i}function qV(n,t){return function zV(){return VA(!0,!1)}()}const ute=(qV.required=function lte(n,t){return function $V(){return VA(!0,!0)}()},qV);function et(n){let t=function eB(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Zo(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new se(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=bw(n.inputs),s.inputTransforms=bw(n.inputTransforms),s.declaredInputs=bw(n.declaredInputs),s.outputs=bw(n.outputs);const a=r.hostBindings;a&&Ite(n,a);const c=r.viewQuery,l=r.contentQueries;if(c&&wte(n,c),l&&Ete(n,l),yte(n,r),mD(n.outputs,r.outputs),Zo(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===et&&(e=!1)}}t=Object.getPrototypeOf(t)}!function bte(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Is(r.hostAttrs,e=Is(e,r.hostAttrs))}}(i)}function yte(n,t){for(const e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;const i=t.inputs[e];if(void 0!==i&&(n.inputs[e]=i,n.declaredInputs[e]=t.declaredInputs[e],null!==t.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=t.inputTransforms[r]}}}function bw(n){return n===Ws?{}:n===gn?[]:n}function wte(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function Ete(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function Ite(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function Ur(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[3]&&(e[i]=r[3])}n.inputTransforms=e}class vd{}class rB{}class BA extends vd{constructor(t,e,i,r=!0){super(),this.ngModuleType=t,this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new DV(this);const o=Vr(t);this._bootstrapComponents=As(o.bootstrap),this._r3Injector=oL(t,e,[{provide:vd,useValue:this},{provide:Ff,useValue:this.componentFactoryResolver},...i],Ui(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class UA extends rB{constructor(t){super(),this.moduleType=t}create(t){return new BA(this.moduleType,t,[])}}class oB extends vd{constructor(t){super(),this.componentFactoryResolver=new DV(this),this.instance=null;const e=new Uc([...t.providers,{provide:vd,useValue:this},{provide:Ff,useValue:this.componentFactoryResolver}],t.parent||gf(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Ew(n,t,e=null){return new oB({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}function Iw(n){return!!function jA(n){return null!==n&&("function"==typeof n||"object"==typeof n)}(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function rr(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function A_(n,t,e,i,r,o,s,a,c,l){const u=e+T,p=t.firstCreatePass?function Nte(n,t,e,i,r,o,s,a,c){const l=t.consts,u=pd(t,n,4,s||null,a||null);aA(t,e,u,Qs(l,c)),R0(t,u);const p=u.tView=sA(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,u),p.queries=t.queries.embeddedTView(u)),u}(u,t,n,i,r,o,s,a,c):t.data[u];ba(p,!1);const _=sB(t,n,p,e);Yg()&&nw(t,n,_,p),go(_,n);const v=V2(_,n,_,p);return n[u]=v,ow(n,v),function OV(n,t,e){return xA(n,t,e)}(v,p,n),td(p)&&rA(t,n,p),null!=c&&oA(n,p,l),p}function dt(n,t,e,i,r,o,s,a){const c=_e(),l=ln();return A_(c,l,n,t,e,i,r,Qs(l.consts,o),s,a),dt}let sB=function aB(n,t,e,i){return Qa(!0),t[Mt].createComment("")};function Lt(n,t,e,i){const r=_e();return rr(r,wa(),t)&&(ln(),ec(pi(),r,n,t,e,i)),Lt}function qf(n,t,e,i){return rr(n,wa(),e)?t+kt(e)+i:qt}function xw(n,t){return n<<17|t<<2}function Zl(n){return n>>17&32767}function XA(n){return 2|n}function wd(n){return(131068&n)>>2}function JA(n,t){return-131069&n|t<<2}function eR(n){return 1|n}function VB(n,t,e,i){const r=n[e+1],o=null===t;let s=i?Zl(r):wd(r),a=!1;for(;0!==s&&(!1===a||o);){const l=n[s+1];yne(n[s],t)&&(a=!0,n[s+1]=i?eR(l):XA(l)),s=i?Zl(l):wd(l)}a&&(n[e+1]=i?XA(r):eR(r))}function yne(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Bc(n,t)>=0}const xr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function BB(n){return n.substring(xr.key,xr.keyEnd)}function UB(n,t){const e=xr.textEnd;return e===t?-1:(t=xr.keyEnd=function Ine(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,xr.key=t,e),tp(n,t,e))}function tp(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Jt(n,t,e){const i=_e();return rr(i,wa(),t)&&ts(ln(),pi(),i,n,t,i[Mt],e,!1),Jt}function tR(n,t,e,i,r){const s=r?"class":"style";dA(n,e,t.inputs[s],s,i)}function St(n,t){return function Ea(n,t,e,i){const r=_e(),o=ln(),s=Gc(2);o.firstUpdatePass&&WB(o,n,s,i),t!==qt&&rr(r,s,t)&&KB(o,o.data[Xr()],r,r[Mt],n,r[s+1]=function Nne(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Ui(Ss(n)))),n}(t,e),i,s)}(n,t,null,!0),St}function ic(n){!function Ia(n,t,e,i){const r=ln(),o=Gc(2);r.firstUpdatePass&&WB(r,null,o,i);const s=_e();if(e!==qt&&rr(s,o,e)){const a=r.data[Xr()];if(QB(a,i)&&!GB(r,o)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(e=Kh(c,e||"")),tR(r,a,s,e,i)}else!function kne(n,t,e,i,r,o,s,a){r===qt&&(r=gn);let c=0,l=0,u=0<r.length?r[0]:null,p=0<o.length?o[0]:null;for(;null!==u||null!==p;){const _=c<r.length?r[c+1]:void 0,v=l<o.length?o[l+1]:void 0;let C,b=null;u===p?(c+=2,l+=2,_!==v&&(b=p,C=v)):null===p||null!==u&&u<p?(c+=2,b=u):(l+=2,b=p,C=v),null!==b&&KB(n,t,e,i,b,C,s,a),u=c<r.length?r[c]:null,p=l<o.length?o[l]:null}}(r,a,s,s[Mt],s[o+1],s[o+1]=function Mne(n,t,e){if(null==e||""===e)return gn;const i=[],r=Ss(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,o)}}(One,rc,n,!0)}function rc(n,t){for(let e=function wne(n){return function HB(n){xr.key=0,xr.keyEnd=0,xr.value=0,xr.valueEnd=0,xr.textEnd=n.length}(n),UB(n,tp(n,0,xr.textEnd))}(t);e>=0;e=UB(t,e))Ro(n,BB(t),!0)}function GB(n,t){return t>=n.expandoStartIndex}function WB(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Xr()],s=GB(n,e);QB(o,i)&&null===t&&!s&&(t=!1),t=function Sne(n,t,e,i){const r=nS(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=O_(e=nR(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=nR(r,n,t,e,i),null===o){let c=function Ane(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==wd(i))return n[Zl(i)]}(n,t,i);void 0!==c&&Array.isArray(c)&&(c=nR(null,n,t,c[1],i),c=O_(c,t.attrs,i),function Rne(n,t,e,i){n[Zl(e?t.classBindings:t.styleBindings)]=i}(n,t,i,c))}else o=function xne(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=O_(i,n[o].hostAttrs,e);return O_(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function _ne(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Zl(s),c=wd(s);n[i]=e;let u,l=!1;if(Array.isArray(e)?(u=e[1],(null===u||Bc(e,u)>0)&&(l=!0)):u=e,r)if(0!==c){const _=Zl(n[a+1]);n[i+1]=xw(_,a),0!==_&&(n[_+1]=JA(n[_+1],i)),n[a+1]=function mne(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=xw(a,0),0!==a&&(n[a+1]=JA(n[a+1],i)),a=i;else n[i+1]=xw(c,0),0===a?a=i:n[c+1]=JA(n[c+1],i),c=i;l&&(n[i+1]=XA(n[i+1])),VB(n,u,i,!0),VB(n,u,i,!1),function vne(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Bc(o,t)>=0&&(e[i+1]=eR(e[i+1]))}(t,u,n,i,o),s=xw(a,c),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}function nR(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=O_(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function O_(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ro(n,s,!!e||t[++o]))}return void 0===n?null:n}function One(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&Ro(n,i,e)}function KB(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const c=n.data,l=c[a+1],u=function gne(n){return!(1&~n)}(l)?YB(c,t,e,r,wd(l),s):void 0;Mw(u)||(Mw(o)||function pne(n){return!(2&~n)}(l)&&(o=YB(c,null,e,r,a,s)),function ZX(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let o=-1===i.indexOf("-")?void 0:ql.DashCase;null==r?n.removeStyle(e,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ql.Important),n.setStyle(e,i,r,o))}}(i,s,Gg(Xr(),e),r,o))}function YB(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const c=n[r],l=Array.isArray(c),u=l?c[1]:c,p=null===u;let _=e[r+1];_===qt&&(_=p?gn:void 0);let v=p?Ig(_,i):u===i?_:void 0;if(l&&!Mw(v)&&(v=Ig(c,i)),Mw(v)&&(a=v,s))return a;const b=n[r+1];r=s?Zl(b):wd(b)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=Ig(c,i))}return a}function Mw(n){return void 0!==n}function QB(n,t){return!!(n.flags&(t?8:16))}function zt(n,t){ko("NgControlFlow");const e=_e(),i=wa(),r=e[i]!==qt?e[i]:-1,o=-1!==r?Ow(e,T+r):void 0;if(rr(e,i,n)){const a=rt(null);try{if(void 0!==o&&function fA(n,t){const e=l_(n,t);return void 0!==e&&tw(e[Pe],e),e}(o,0),-1!==n){const c=T+n,l=Ow(e,c),u=function sR(n,t){return Wg(n,t)}(e[Pe],c),p=_d(l,u.tView.ssrId);kf(l,Of(e,u,t,{dehydratedView:p}),0,md(u,p))}}finally{rt(a)}}else if(void 0!==o){const a=function z2(n,t){const e=pt+t;if(e<n.length)return n[e]}(o,0);void 0!==a&&(a[qn]=t)}}function Ow(n,t){return n[t]}function te(n,t,e,i){const r=_e(),o=ln(),s=T+n,a=r[Mt],c=o.firstCreatePass?function Xne(n,t,e,i,r,o){const s=t.consts,c=pd(t,n,2,i,Qs(s,r));return aA(t,e,c,Qs(s,o)),null!==c.attrs&&_w(c,c.attrs,!1),null!==c.mergedAttrs&&_w(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,r,t,e,i):o.data[s],l=eU(o,r,c,a,t,n);r[s]=l;const u=td(c);return ba(c,!0),A2(a,l,c),!function Bf(n){return!(32&~n.flags)}(c)&&Yg()&&nw(o,r,l,c),0===function wQ(){return Pt.lFrame.elementDepthCount}()&&go(l,r),function EQ(){Pt.lFrame.elementDepthCount++}(),u&&(rA(o,r,c),iA(o,c,r)),null!==i&&oA(r,c),te}function oe(){let n=Kn();JD()?eS():(n=n.parent,ba(n,!1));const t=n;(function CQ(n){return Pt.skipHydrationRootTNode===n})(t)&&function AQ(){Pt.skipHydrationRootTNode=null}(),function IQ(){Pt.lFrame.elementDepthCount--}();const e=ln();return e.firstCreatePass&&(R0(e,n),bf(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function UQ(n){return!!(8&n.flags)}(t)&&tR(e,t,_e(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function jQ(n){return!!(16&n.flags)}(t)&&tR(e,t,_e(),t.stylesWithoutHost,!1),oe}function hn(n,t,e,i){return te(n,t,e,i),oe(),hn}let eU=(n,t,e,i,r,o)=>(Qa(!0),ew(i,r,function BF(){return Pt.lFrame.currentNamespace}()));function eo(){return _e()}function ar(n,t,e){const i=_e();return rr(i,wa(),t)&&ts(ln(),pi(),i,n,t,i[Mt],e,!0),ar}function aR(n,t,e){const i=_e();if(rr(i,wa(),t)){const o=ln(),s=pi();ts(o,s,i,n,t,H2(nS(o.data),s,i),e,!0)}return aR}const kw="en-US";let rU=kw,EU=(n,t,e)=>{};function gt(n,t,e,i){const r=_e(),o=ln(),s=Kn();return dR(o,r,r[Mt],s,n,t,i),gt}function uR(n,t){const e=Kn(),i=_e(),r=ln();return dR(r,i,H2(nS(r.data),e,i),e,n,t),uR}function dR(n,t,e,i,r,o,s){const a=td(i),l=n.firstCreatePass&&j2(n),u=t[qn],p=U2(t);let _=!0;if(3&i.type||s){const C=Mo(i,t),D=s?s(C):C,N=p.length,k=s?Y=>s(An(Y[i.index])):i.index;let j=null;if(!s&&a&&(j=function qie(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[_a],c=r[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==j)(j.__ngLastListenerFn__||j).__ngNextListenerFn__=o,j.__ngLastListenerFn__=o,_=!1;else{o=TU(i,t,u,o),EU(C,r,o);const Y=e.listen(D,r,o);p.push(o,Y),l&&l.push(r,k,N,N+1)}}else o=TU(i,t,u,o);const v=i.outputs;let b;if(_&&null!==v&&(b=v[r])){const C=b.length;if(C)for(let D=0;D<C;D+=2){const me=t[b[D]][b[D+1]].subscribe(o),we=p.length;p.push(o,me),l&&l.push(r,i.index,we,-(we+1))}}}function CU(n,t,e,i){const r=rt(null);try{return Ya(6,t,e),!1!==e(i)}catch(o){return sw(n,o),!1}finally{Ya(7,t,e),rt(r)}}function TU(n,t,e,i){return function r(o){if(o===Function)return i;f_(n.componentOffset>-1?Ds(n.index,t):t,5);let a=CU(t,e,i,o),c=r.__ngNextListenerFn__;for(;c;)a=CU(t,e,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function lt(n=1){return function kQ(n){return(Pt.lFrame.contextLView=function IF(n,t){for(;n>0;)t=t[Gl],n--;return t}(n,Pt.lFrame.contextLView))[qn]}(n)}function Kie(n,t){let e=null;const i=function RD(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?lf(n,o,!0):xg(i,o))return r}else e=r}return e}function jr(n){const t=_e()[oi][er];if(!t.projection){const i=t.projection=function nf(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){if(128!==o.type){const s=n?Kie(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function $t(n,t=0,e,i,r,o){const s=_e(),a=ln(),c=i?n+1:null;null!==c&&A_(s,a,c,i,r,o,null,e);const l=pd(a,T+n,16,null,e||null);null===l.projection&&(l.projection=t),eS();const p=!s[Br]||od();null===s[oi][er].projection[l.projection]&&null!==c?function Yie(n,t,e){const i=T+e,r=t.data[i],o=n[i],s=_d(o,r.tView.ssrId);kf(o,Of(n,r,void 0,{dehydratedView:s}),0,md(r,s))}(s,a,c):p&&32&~l.flags&&function YX(n,t,e){D2(t[Mt],0,t,e,QS(n,e,t),b2(e.parent||t[er],e,t))}(a,s,l)}function Lw(n,t,e,i,r){const o=_e(),s=qf(o,t,e,i);return s!==qt&&ts(ln(),pi(),o,n,s,o[Mt],r,!1),Lw}function Zt(n,t,e,i){VV(n,t,e,i)}function Yn(n,t,e){!function LV(n,t,e){const i=ln();return i.firstCreatePass&&(BV(i,new NV(n,t,e),-1),!(2&~t)&&(i.staticViewQueries=!0)),FV(i,_e(),t)}(n,t,e)}function Qe(n){const t=_e(),e=ln(),i=iS();A0(i+1);const r=LA(e,i);if(n.dirty&&function yQ(n){return!(4&~n[ft])}(t)===!(2&~r.metadata.flags)){if(null===r.matches)n.reset([]);else{const o=UV(t,i);n.reset(o,fL),n.notifyOnChanges()}return!0}return!1}function Ze(){return FA(_e(),iS())}function PU(n,t,e,i,r){!function WV(n,t){const e=n[Tn];e._lView=_e(),e._queryIndex=t,e._queryList=FA(e._lView,t),e._queryList.onDirty(()=>e._dirtyCounter.update(i=>i+1))}(t,VV(n,e,i,r))}function Ca(n){return function rd(n,t){return n[t]}(function SF(){return Pt.lFrame.contextLView}(),T+n)}function Ve(n,t=""){const e=_e(),i=ln(),r=n+T,o=i.firstCreatePass?pd(i,r,1,t,null):i.data[r],s=WU(i,e,o,t,n);e[r]=s,Yg()&&nw(i,e,s,o),ba(o,!1)}let WU=(n,t,e,i,r)=>(Qa(!0),function WS(n,t){return n.createText(t)}(t[Mt],i));function is(n){return ea("",n,""),is}function ea(n,t,e){const i=_e(),r=qf(i,n,t,e);return r!==qt&&function Yc(n,t,e){const i=Gg(t,n);!function p2(n,t,e){n.setValue(t,e)}(n[Mt],i,e)}(i,Xr(),r),ea}function fR(n,t,e,i,r){if(n=Tt(n),Array.isArray(n))for(let o=0;o<n.length;o++)fR(n[o],t,e,i,r);else{const o=ln(),s=_e(),a=Kn();let c=Ka(n)?n:Tt(n.provide);const l=w0(n),u=1048575&a.providerIndexes,p=a.directiveStart,_=a.providerIndexes>>20;if(Ka(n)||!n.multi){const v=new Qg(l,r,P),b=mR(c,t,r?u:u+_,p);-1===b?(hS(k0(a,s),o,c),pR(o,n,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(v),s.push(v)):(e[b]=v,s[b]=v)}else{const v=mR(c,t,u+_,p),b=mR(c,t,u,u+_),D=b>=0&&e[b];if(r&&!D||!r&&!(v>=0&&e[v])){hS(k0(a,s),o,c);const N=function pre(n,t,e,i,r){const o=new Qg(n,e,P);return o.multi=[],o.index=t,o.componentProviders=0,oj(o,r,i&&!e),o}(r?fre:hre,e.length,r,i,l);!r&&D&&(e[b].providerFactory=N),pR(o,n,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(N),s.push(N)}else pR(o,n,v>-1?v:b,oj(e[r?b:v],l,!r&&i));!r&&i&&D&&e[b].componentProviders++}}}function pR(n,t,e,i){const r=Ka(t),o=function Lg(n){return!!n.useClass}(t);if(r||o){const c=(o?Tt(t.useClass):t).prototype.ngOnDestroy;if(c){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=l.indexOf(e);-1===u?l.push(e,[i,c]):l[u+1].push(i,c)}else l.push(e,c)}}}function oj(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function mR(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function hre(n,t,e,i){return gR(this.multi,[])}function fre(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=cd(e,e[Pe],this.providerFactory.index,i);o=a.slice(0,s),gR(r,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],gR(r,o);return o}function gR(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function bt(n,t=[]){return e=>{e.providersResolver=(i,r)=>function dre(n,t,e){const i=ln();if(i.firstCreatePass){const r=Zo(n);fR(e,i.data,i.blueprint,r,!0),fR(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}let mre=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=qu(0,e.type),r=i.length>0?Ew([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=pe({token:n,providedIn:"environment",factory:()=>new n($(hr))})}return n})();function dn(n){ko("NgStandalone"),n.getStandaloneInjector=t=>t.get(mre).getOrCreateStandaloneInjector(n)}function Ta(n,t){return cw(n,t)}class Jl{constructor(t){this.full=t;const e=t.split(".");this.major=e[0],this.minor=e[1],this.patch=e.slice(2).join(".")}}const eoe=new Jl("18.2.0");let Aj=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const kj=new ne(""),zw=new ne("");let TR,IR=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,TR||(function Doe(n){TR=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$e.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e()},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)($($e),$(CR),$(zw))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})(),CR=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return TR?.findTestabilityInTree(this,e,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function W_(n){return!!n&&"function"==typeof n.then}function Nj(n){return!!n&&"function"==typeof n.subscribe}const DR=new ne("");let Pj=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=F(DR,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const o=r();if(W_(o))e.push(o);else if(Nj(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});e.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const $w=new ne("");function Lj(n,t){return Array.isArray(t)?t.reduce(Lj,n):{...n,...t}}let xs=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(mZ),this.afterRenderEffectManager=F(mw),this.zonelessEnabled=F(E_),this.externalTestViews=new Set,this.beforeRender=new I,this.afterTick=new I,this.componentTypes=[],this.components=[],this.isStable=F(qc).hasPendingTasks.pipe(Me(e=>!e)),this._injector=F(hr)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let e;return new Promise(i=>{e=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{e.unsubscribe()})}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof yV;if(!this._injector.get(Pj).done)throw!r&&function qs(n){const t=Xt(n)||Xi(n)||Sr(n);return null!==t&&t.standalone}(e),new se(405,!1);let s;s=r?e:this._injector.get(Ff).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function Soe(n){return n.isBoundToModule}(s)?void 0:this._injector.get(vd),l=s.create(un.NULL,[],i||s.selector,a),u=l.location.nativeElement,p=l.injector.get(kj,null);return p?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Gw(this.components,l),p?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(e){if(this._runningTick)throw new se(101,!1);const i=rt(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(e)}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,rt(i),this.afterTick.next()}}detectChangesInAttachedViews(e){let i=null;this._injector.destroyed||(i=this._injector.get(pw,null,{optional:!0}));let r=0;const o=this.afterRenderEffectManager;for(;r<10;){const s=0===r;if(e||!s){this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:c}of this._views)xoe(a,c,s,this.zonelessEnabled)}else i?.begin?.(),i?.end?.();if(r++,o.executeInternalCallbacks(),!this.allViews.some(({_lView:a})=>qg(a))&&(o.execute(),!this.allViews.some(({_lView:a})=>qg(a))))break}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Gw(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get($w,[]);[...this._bootstrapListeners,...i].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Gw(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new se(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Gw(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function xoe(n,t,e,i){(e||qg(n))&&aw(n,t,e&&!i?0:1)}class Moe{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let Bj=(()=>{class n{compileModuleSync(e){return new UA(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=As(Vr(e).declarations).reduce((s,a)=>{const c=Xt(a);return c&&s.push(new T_(c)),s},[]);return new Moe(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Noe=(()=>{class n{constructor(){this.zone=F($e),this.changeDetectionScheduler=F(Pf),this.applicationRef=F(xs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function SR({ngZoneFactory:n,ignoreChangesOutsideZone:t}){return n??=()=>new $e(AR()),[{provide:$e,useFactory:n},{provide:ws,multi:!0,useFactory:()=>{const e=F(Noe,{optional:!0});return()=>e.initialize()}},{provide:ws,multi:!0,useFactory:()=>{const e=F(Foe);return()=>{e.initialize()}}},!0===t?{provide:vV,useValue:!0}:[]]}function AR(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}let Foe=(()=>{class n{constructor(){this.subscription=new vt,this.initialized=!1,this.zone=F($e),this.pendingTasks=F(qc)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{$e.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{$e.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),q_=(()=>{class n{constructor(){this.appRef=F(xs),this.taskService=F(qc),this.ngZone=F($e),this.zonelessEnabled=F(E_),this.disableScheduling=F(vV,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new vt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(V0):null,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof yS||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&5===e)return;switch(e){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const i=this.useMicrotaskScheduler?cL:aL;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=i(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(V0+this.angularZoneId))}tick(e){if(this.runningTick||this.appRef.destroyed)return;const i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(e)},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(i),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,cL(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ac=new ne("",{providedIn:"root",factory:()=>F(ac,rn.Optional|rn.SkipSelf)||function Loe(){return typeof $localize<"u"&&$localize.locale||kw}()}),xR=new ne("");function qw(n){return!!n.platformInjector}let Gj=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const o=i?.ignoreChangesOutsideZone,s=[SR({ngZoneFactory:()=>function pZ(n="zone.js",t){return"noop"===n?new yS:"zone.js"===n?new $e(t):n}(i?.ngZone,AR({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),ignoreChangesOutsideZone:o}),{provide:Pf,useExisting:q_}],a=function Rte(n,t,e){return new BA(n,t,e,!1)}(e.moduleType,this.injector,s);return function $j(n){const t=qw(n)?n.r3Injector:n.moduleRef.injector,e=t.get($e);return e.run(()=>{qw(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();const i=t.get(Zs,null);let r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:o=>{i.handleError(o)}})}),qw(n)){const o=()=>t.destroy(),s=n.platformInjector.get(xR);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else n.moduleRef.onDestroy(()=>{Gw(n.allPlatformModules,n.moduleRef),r.unsubscribe()});return function Roe(n,t,e){try{const i=e();return W_(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(i,e,()=>{const o=t.get(Pj);return o.runInitializers(),o.donePromise.then(()=>{if(function uie(n){"string"==typeof n&&(rU=n.toLowerCase().replace(/_/g,"-"))}(t.get(ac,kw)||kw),qw(n)){const a=t.get(xs);return void 0!==n.rootComponent&&a.bootstrap(n.rootComponent),a}return function zoe(n,t){const e=n.injector.get(xs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>e.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new se(-403,!1);n.instance.ngDoBootstrap(e)}t.push(n)}(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}({moduleRef:a,allPlatformModules:this._modules})}bootstrapModule(e,i=[]){const r=Lj({},i);return function koe(n,t,e){const i=new UA(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new se(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(xR,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)($(un))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),eu=null;const Wj=new ne("");function qj(n,t,e=[]){const i=`Platform: ${t}`,r=new ne(i);return(o=[])=>{let s=MR();if(!s||s.injector.get(Wj,!1)){const a=[...e,...o,{provide:r,useValue:!0}];n?n(a):function $oe(n){if(eu&&!eu.get(Wj,!1))throw new se(400,!1);(function Fj(){!function Ko(n){wi=n}(()=>{throw new se(600,!1)})})(),eu=n;const t=n.get(Gj);(function Yj(n){n.get(kL,null)?.forEach(e=>e())})(n)}(function Kj(n=[],t){return un.create({name:t,providers:[{provide:Vg,useValue:"platform"},{provide:xR,useValue:new Set([()=>eu=null])},...n]})}(a,i))}return function Goe(){const t=MR();if(!t)throw new se(401,!1);return t}()}}function MR(){return eu?.get(Gj)??null}let pr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=qoe}return n})();function qoe(n){return function Koe(n,t,e){if(ya(n)&&!e){const i=Ds(n.index,t);return new p_(i,i)}return 175&n.type?new p_(t[oi],t):null}(Kn(),_e(),!(16&~n))}class tH{constructor(){}supports(t){return Iw(t)}create(t){return new Joe(t)}}const Xoe=(n,t)=>t;class Joe{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Xoe}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<iH(i,r,o)?e:i,a=iH(s,r,o),c=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const l=a-r,u=c-r;if(l!=u){for(let _=0;_<l;_++){const v=_<o.length?o[_]:o[_]=0,b=v+_;u<=b&&b<l&&(o[_]=v+1)}o[s.previousIndex]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Iw(t))throw new se(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function Ote(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new ese(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new nH),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nH),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ese{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tse{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class nH{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new tse,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iH(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}function oH(){return new tu([new tH])}let tu=(()=>{class n{static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:oH});constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||oH()),deps:[[n,new Ul,new qa]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new se(901,!1)}}return n})();const sse=qj(null,"core",[]);let ase=(()=>{class n{constructor(e){}static#e=this.\u0275fac=function(i){return new(i||n)($(xs))};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})();const EH=new ne("");function yn(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function Cd(n,t){ko("NgSignals");const e=Re(n);return t?.equal&&(e[Tn].equal=t.equal),e}function Da(n){const t=rt(null);try{return n()}finally{rt(t)}}function BR(n,t){const e=Xt(n),i=t.elementInjector||gf();return new T_(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}let NH=null;function Xc(){return NH}class Wse{}const yt=new ne("");let UR=(()=>{class n{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:()=>F(Kse),providedIn:"platform"})}return n})();const qse=new ne("");let Kse=(()=>{class n extends UR{constructor(){super(),this._doc=F(yt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xc().getBaseHref(this._doc)}onPopState(e){const i=Xc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Xc().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function jR(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function PH(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Jc(n){return n&&"?"!==n[0]?"?"+n:n}let Td=(()=>{class n{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:()=>F(LH),providedIn:"root"})}return n})();const FH=new ne("");let LH=(()=>{class n extends Td{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??F(yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return jR(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Jc(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+Jc(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+Jc(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)($(UR),$(FH,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yse=(()=>{class n extends Td{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=jR(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Jc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Jc(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)($(UR),$(FH,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})(),Dd=(()=>{class n{constructor(e){this._subject=new nt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Xse(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(PH(VH(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Jc(i))}normalize(e){return n.stripTrailingSlash(function Zse(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,VH(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Jc(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Jc(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=Jc;static#t=this.joinWithSlash=jR;static#n=this.stripTrailingSlash=PH;static#i=this.\u0275fac=function(i){return new(i||n)($(Td))};static#r=this.\u0275prov=pe({token:n,factory:()=>function Qse(){return new Dd($(Td))}(),providedIn:"root"})}return n})();function VH(n){return n.replace(/\/index.html$/,"")}function KH(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}class Lae{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ZH=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Lae(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),XH(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{XH(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(P(fr),P(Un),P(tu))};static#t=this.\u0275dir=ae({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function XH(n,t){n.context.$implicit=t.item}let ap=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(e,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static#e=this.\u0275fac=function(i){return new(i||n)(P(fr))};static#t=this.\u0275dir=ae({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[xi]})}return n})(),rs=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})();const iz="browser";function rz(n){return n===iz}function pE(n){return"server"===n}let hce=(()=>{class n{static#e=this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>rz(F(Jo))?new fce(F(yt),window):new mce})}return n})();class fce{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){const e=function pce(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}}class mce{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}}class oz{}class zce extends Wse{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class s1 extends zce{static makeCurrent(){!function Gse(n){NH??=n}(new s1)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function $ce(){return ev=ev||document.querySelector("base"),ev?ev.getAttribute("href"):null}();return null==e?null:function Gce(n){return new URL(n,document.baseURI).pathname}(e)}resetBaseElement(){ev=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return KH(document.cookie,t)}}let ev=null,qce=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const vE=new ne("");let mz=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(o=>o.supports(e)),!i)throw new se(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)($(vE),$($e))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class a1{constructor(t){this._doc=t}}const c1="ng-app-id";let gz=(()=>{class n{constructor(e,i,r,o={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=pE(o),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${c1}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const o=r.get(e);return o.usage+=i,o.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===e)return r.delete(i),o.removeAttribute(c1),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(c1,this.appId),e.appendChild(s),s}}addStyleToHost(e,i){const r=this.getStyleElement(e,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)($(yt),$(Df),$(CS,8),$(Jo))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const l1={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},u1=/%COMP%/g,Zce=new ne("",{providedIn:"root",factory:()=>!0});function vz(n,t){return t.map(e=>e.replace(u1,n))}let d1=(()=>{class n{constructor(e,i,r,o,s,a,c,l=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=pE(a),this.defaultRenderer=new h1(e,s,c,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===xo.ShadowDom&&(i={...i,encapsulation:xo.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof bz?r.applyToHost(e):r instanceof f1&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case xo.Emulated:o=new bz(c,l,i,this.appId,u,s,a,p);break;case xo.ShadowDom:return new tle(c,l,e,i,s,a,this.nonce,p);default:o=new f1(c,l,i,u,s,a,p)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)($(mz),$(gz),$(Df),$(Zce),$(yt),$(Jo),$($e),$(CS))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class h1{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(l1[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(yz(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(yz(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new se(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=l1[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=l1[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(ql.DashCase|ql.Important)?t.style.setProperty(e,i,r&ql.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&ql.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){null!=t&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=Xc().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function yz(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class tle extends h1{constructor(t,e,i,r,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=vz(r.id,r.styles);for(const u of l){const p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=u,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class f1 extends h1{constructor(t,e,i,r,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=c?vz(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class bz extends f1{constructor(t,e,i,r,o,s,a,c){const l=r+"-"+i.id;super(t,e,i,o,s,a,c,l),this.contentAttr=function Xce(n){return"_ngcontent-%COMP%".replace(u1,n)}(l),this.hostAttr=function Jce(n){return"_nghost-%COMP%".replace(u1,n)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let nle=(()=>{class n extends a1{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)($(yt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})(),ile=(()=>{class n extends a1{constructor(e){super(e),this.delegate=F(EH,{optional:!0})}supports(e){return!!this.delegate&&this.delegate.supports(e)}addEventListener(e,i,r){return this.delegate.addEventListener(e,i,r)}removeEventListener(e,i,r){return this.delegate.removeEventListener(e,i,r)}static#e=this.\u0275fac=function(i){return new(i||n)($(yt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const wz=["alt","control","meta","shift"],rle={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ole={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let sle=(()=>{class n extends a1{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xc().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),wz.forEach(l=>{const u=i.indexOf(l);u>-1&&(i.splice(u,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(e,i){let r=rle[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),wz.forEach(s=>{s!==r&&(0,ole[s])(e)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)($(yt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const ule=qj(sse,"browser",[{provide:Jo,useValue:iz},{provide:kL,useValue:function ale(){s1.makeCurrent()},multi:!0},{provide:yt,useFactory:function lle(){return function VZ(n){IS=n}(document),document},deps:[]}]),dle=new ne(""),Cz=[{provide:zw,useClass:class Wce{addToWindow(t){ii.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new se(5103,!1);return o},ii.getAllAngularTestabilities=()=>t.getAllTestabilities(),ii.getAllAngularRootElements=()=>t.getAllRootElements(),ii.frameworkStabilizers||(ii.frameworkStabilizers=[]),ii.frameworkStabilizers.push(i=>{const r=ii.getAllAngularTestabilities();let o=r.length;const s=function(){o--,0==o&&i()};r.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Xc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:kj,useClass:IR,deps:[$e,CR,zw]},{provide:IR,useClass:IR,deps:[$e,CR,zw]}],Tz=[{provide:Vg,useValue:"root"},{provide:Zs,useFactory:function cle(){return new Zs},deps:[]},{provide:vE,useClass:nle,multi:!0,deps:[yt,$e,Jo]},{provide:vE,useClass:sle,multi:!0,deps:[yt]},{provide:vE,useClass:ile,multi:!0},d1,gz,mz,{provide:pw,useExisting:d1},{provide:oz,useClass:qce,deps:[]},[]];let p1=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:Df,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)($(dle,12))};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({providers:[...Tz,...Cz],imports:[rs,ase]})}return n})(),Dz=(()=>{class n{constructor(e){this._doc=e,this._dom=Xc()}addTag(e,i=!1){return e?this._getOrCreateElement(e,i):null}addTags(e,i=!1){return e?e.reduce((r,o)=>(o&&r.push(this._getOrCreateElement(o,i)),r),[]):[]}getTag(e){return e&&this._doc.querySelector(`meta[${e}]`)||null}getTags(e){if(!e)return[];const i=this._doc.querySelectorAll(`meta[${e}]`);return i?[].slice.call(i):[]}updateTag(e,i){if(!e)return null;i=i||this._parseSelector(e);const r=this.getTag(i);return r?this._setMetaElementAttributes(e,r):this._getOrCreateElement(e,!0)}removeTag(e){this.removeTagElement(this.getTag(e))}removeTagElement(e){e&&this._dom.remove(e)}_getOrCreateElement(e,i=!1){if(!i){const s=this._parseSelector(e),a=this.getTags(s).filter(c=>this._containsAttributes(e,c))[0];if(void 0!==a)return a}const r=this._dom.createElement("meta");return this._setMetaElementAttributes(e,r),this._doc.getElementsByTagName("head")[0].appendChild(r),r}_setMetaElementAttributes(e,i){return Object.keys(e).forEach(r=>i.setAttribute(this._getMetaKeyMap(r),e[r])),i}_parseSelector(e){const i=e.name?"name":"property";return`${i}="${e[i]}"`}_containsAttributes(e,i){return Object.keys(e).every(r=>i.getAttribute(this._getMetaKeyMap(r))===e[r])}_getMetaKeyMap(e){return hle[e]||e}static#e=this.\u0275fac=function(i){return new(i||n)($(yt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const hle={httpEquiv:"http-equiv"};let fle=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)($(yt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var lp=_t(635);const g1=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Rz(n){return De(n?.then)}function xz(n){return De(n[Qo])}function Mz(n){return Symbol.asyncIterator&&De(n?.[Symbol.asyncIterator])}function Oz(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const kz=function vle(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Nz(n){return De(n?.[kz])}function Pz(n){return(0,lp.AQ)(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield(0,lp.N3)(e.read());if(r)return yield(0,lp.N3)(void 0);yield yield(0,lp.N3)(i)}}finally{e.releaseLock()}})}function Fz(n){return De(n?.getReader)}function _r(n){if(n instanceof Qt)return n;if(null!=n){if(xz(n))return function yle(n){return new Qt(t=>{const e=n[Qo]();if(De(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(g1(n))return function ble(n){return new Qt(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Rz(n))return function wle(n){return new Qt(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Kr)})}(n);if(Mz(n))return Lz(n);if(Nz(n))return function Ele(n){return new Qt(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Fz(n))return function Ile(n){return Lz(Pz(n))}(n)}throw Oz(n)}function Lz(n){return new Qt(t=>{(function Cle(n,t){var e,i,r,o;return(0,lp.sH)(this,void 0,void 0,function*(){try{for(e=(0,lp.xN)(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function nl(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function nu(n,t=0){return Se((e,i)=>{e.subscribe(Le(i,r=>nl(i,n,()=>i.next(r),t),()=>nl(i,n,()=>i.complete(),t),r=>nl(i,n,()=>i.error(r),t)))})}function up(n,t=0){return Se((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function Vz(n,t){if(!n)throw new Error("Iterable cannot be null");return new Qt(e=>{nl(e,t,()=>{const i=n[Symbol.asyncIterator]();nl(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function jn(n,t){return t?function xle(n,t){if(null!=n){if(xz(n))return function Tle(n,t){return _r(n).pipe(up(t),nu(t))}(n,t);if(g1(n))return function Sle(n,t){return new Qt(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(Rz(n))return function Dle(n,t){return _r(n).pipe(up(t),nu(t))}(n,t);if(Mz(n))return Vz(n,t);if(Nz(n))return function Ale(n,t){return new Qt(e=>{let i;return nl(e,t,()=>{i=n[kz](),nl(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>De(i?.return)&&i.return()})}(n,t);if(Fz(n))return function Rle(n,t){return Vz(Pz(n),t)}(n,t)}throw Oz(n)}(n,t):_r(n)}function Bz(n){return n&&De(n.schedule)}function _1(n){return n[n.length-1]}function bE(n){return De(_1(n))?n.pop():void 0}function nv(n){return Bz(_1(n))?n.pop():void 0}function Ge(...n){return jn(n,nv(n))}const{isArray:Ole}=Array,{getPrototypeOf:kle,prototype:Nle,keys:Ple}=Object;function Uz(n){if(1===n.length){const t=n[0];if(Ole(t))return{args:t,keys:null};if(function Fle(n){return n&&"object"==typeof n&&kle(n)===Nle}(t)){const e=Ple(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:Lle}=Array;function v1(n){return Me(t=>function Vle(n,t){return Lle(t)?n(...t):n(t)}(n,t))}function jz(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Ad(...n){const t=nv(n),e=bE(n),{args:i,keys:r}=Uz(n);if(0===i.length)return jn([],t);const o=new Qt(function Ble(n,t,e=Dr){return i=>{Hz(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)Hz(t,()=>{const l=jn(n[c],t);let u=!1;l.subscribe(Le(i,p=>{o[c]=p,u||(u=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>jz(r,s):Dr));return e?o.pipe(v1(e)):o}function Hz(n,t,e){n?nl(e,n,t):t()}const wE=Wt(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Hr(n,t,e=1/0){return De(t)?Hr((i,r)=>Me((o,s)=>t(i,o,r,s))(_r(n(i,r))),e):("number"==typeof t&&(e=t),Se((i,r)=>function Ule(n,t,e,i,r,o,s,a){const c=[];let l=0,u=0,p=!1;const _=()=>{p&&!c.length&&!l&&t.complete()},v=C=>l<i?b(C):c.push(C),b=C=>{o&&t.next(C),l++;let D=!1;_r(e(C,u++)).subscribe(Le(t,N=>{r?.(N),o?v(N):t.next(N)},()=>{D=!0},void 0,()=>{if(D)try{for(l--;c.length&&l<i;){const N=c.shift();s?nl(t,s,()=>b(N)):b(N)}_()}catch(N){t.error(N)}}))};return n.subscribe(Le(t,v,()=>{p=!0,_()})),()=>{a?.()}}(i,r,n,e)))}function dp(n=1/0){return Hr(Dr,n)}function hp(...n){return function jle(){return dp(1)}()(jn(n,nv(n)))}function iv(n){return new Qt(t=>{_r(n()).subscribe(t)})}function rv(n,t){const e=De(n)?n:()=>n,i=r=>r.error(e());return new Qt(t?r=>t.schedule(i,0,r):i)}const os=new Qt(n=>n.complete());function y1(){return Se((n,t)=>{let e=null;n._refCount++;const i=Le(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class b1 extends Qt{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,de(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new vt;const e=this.getSubject();t.add(this.source.subscribe(Le(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=vt.EMPTY)}return t}refCount(){return y1()(this)}}function _i(n,t){return Se((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(Le(i,c=>{r?.unsubscribe();let l=0;const u=o++;_r(n(c,u)).subscribe(r=Le(i,p=>i.next(t?t(c,p,u,l++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Mi(n){return n<=0?()=>os:Se((t,e)=>{let i=0;t.subscribe(Le(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Os(...n){const t=nv(n);return Se((e,i)=>{(t?hp(n,e,t):hp(n,e)).subscribe(i)})}function Rn(n,t){return Se((e,i)=>{let r=0;e.subscribe(Le(i,o=>n.call(t,o,r++)&&i.next(o)))})}function EE(n){return Se((t,e)=>{let i=!1;t.subscribe(Le(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function zz(n=zle){return Se((t,e)=>{let i=!1;t.subscribe(Le(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function zle(){return new wE}function iu(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Rn((r,o)=>n(r,o,i)):Dr,Mi(1),e?EE(t):zz(()=>new wE))}function fp(n,t){return De(t)?Hr(n,t,1):Hr(n,1)}function Hi(n,t,e){const i=De(n)||t||e?{next:n,error:t,complete:e}:n;return i?Se((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(Le(o,c=>{var l;null===(l=i.next)||void 0===l||l.call(i,c),o.next(c)},()=>{var c;a=!1,null===(c=i.complete)||void 0===c||c.call(i),o.complete()},c=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,c),o.error(c)},()=>{var c,l;a&&(null===(c=i.unsubscribe)||void 0===c||c.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):Dr}function Rd(n){return Se((t,e)=>{let o,i=null,r=!1;i=t.subscribe(Le(e,void 0,void 0,s=>{o=_r(n(s,Rd(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function IE(n,t){return Se(function $le(n,t,e,i,r){return(o,s)=>{let a=e,c=t,l=0;o.subscribe(Le(s,u=>{const p=l++;c=a?n(c,u,p):(a=!0,u),i&&s.next(c)},r&&(()=>{a&&s.next(c),s.complete()})))}}(n,t,arguments.length>=2,!0))}function w1(n){return n<=0?()=>os:Se((t,e)=>{let i=[];t.subscribe(Le(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function pp(n){return Se((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function mn(n){return Se((t,e)=>{_r(n).subscribe(Le(e,()=>e.complete(),pn)),!e.closed&&t.subscribe(e)})}const on="primary",ov=Symbol("RouteTitle");class Wle{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function mp(n){return new Wle(n)}function qle(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(":"===s[0])r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function cc(n,t){const e=n?E1(n):void 0,i=t?E1(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Gz(n[r],t[r]))return!1;return!0}function E1(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Gz(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function Wz(n){return n.length>0?n[n.length-1]:null}function ru(n){return function tv(n){return!!n&&(n instanceof Qt||De(n.lift)&&De(n.subscribe))}(n)?n:W_(n)?jn(Promise.resolve(n)):Ge(n)}const Yle={exact:function Yz(n,t,e){if(!Md(n.segments,t.segments)||!CE(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Yz(n.children[i],t.children[i],e))return!1;return!0},subset:Qz},qz={exact:function Qle(n,t){return cc(n,t)},subset:function Zle(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Gz(n[e],t[e]))},ignored:()=>!0};function Kz(n,t,e){return Yle[e.paths](n.root,t.root,e.matrixParams)&&qz[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Qz(n,t,e){return Zz(n,t,t.segments,e)}function Zz(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Md(r,e)||t.hasChildren()||!CE(r,e,i))}if(n.segments.length===e.length){if(!Md(n.segments,e)||!CE(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Qz(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Md(n.segments,r)&&CE(n.segments,r,i)&&n.children[on])&&Zz(n.children[on],t,o,i)}}function CE(n,t,e){return t.every((i,r)=>qz[e](n[r].parameters,i.parameters))}class xd{constructor(t=new Xn([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=mp(this.queryParams),this._queryParamMap}toString(){return eue.serialize(this)}}class Xn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return DE(this)}}class sv{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=mp(this.parameters),this._parameterMap}toString(){return e$(this)}}function Md(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let gp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:()=>new TE,providedIn:"root"})}return n})();class TE{parse(t){const e=new due(t);return new xd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${av(t.root,!0)}`,i=function iue(n){const t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${SE(e)}=${SE(r)}`).join("&"):`${SE(e)}=${SE(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function tue(n){return encodeURI(n)}(t.fragment)}`:""}`}}const eue=new TE;function DE(n){return n.segments.map(t=>e$(t)).join("/")}function av(n,t){if(!n.hasChildren())return DE(n);if(t){const e=n.children[on]?av(n.children[on],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==on&&i.push(`${r}:${av(o,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Jle(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===on&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==on&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===on?[av(n.children[on],!1)]:[`${r}:${av(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[on]?`${DE(n)}/${e[0]}`:`${DE(n)}/(${e.join("//")})`}}function Xz(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function SE(n){return Xz(n).replace(/%3B/gi,";")}function I1(n){return Xz(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function AE(n){return decodeURIComponent(n)}function Jz(n){return AE(n.replace(/\+/g,"%20"))}function e$(n){return`${I1(n.path)}${function nue(n){return Object.entries(n).map(([t,e])=>`;${I1(t)}=${I1(e)}`).join("")}(n.parameters)}`}const rue=/^[^\/()?;#]+/;function C1(n){const t=n.match(rue);return t?t[0]:""}const oue=/^[^\/()?;=#]+/,aue=/^[^=?&#]+/,lue=/^[^&#]+/;class due{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xn([],{}):new Xn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[on]=new Xn(t,e)),i}parseSegment(){const t=C1(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new se(4009,!1);return this.capture(t),new sv(AE(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function sue(n){const t=n.match(oue);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=C1(this.remaining);r&&(i=r,this.capture(i))}t[AE(e)]=AE(i)}parseQueryParam(t){const e=function cue(n){const t=n.match(aue);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function uue(n){const t=n.match(lue);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=Jz(e),o=Jz(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=C1(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new se(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=on);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[on]:new Xn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new se(4011,!1)}}function t$(n){return n.segments.length>0?new Xn([],{[on]:n}):n}function n$(n){const t={};for(const[i,r]of Object.entries(n.children)){const o=n$(r);if(i===on&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function hue(n){if(1===n.numberOfChildren&&n.children[on]){const t=n.children[on];return new Xn(n.segments.concat(t.segments),t.children)}return n}(new Xn(n.segments,t))}function Od(n){return n instanceof xd}function i$(n){let t;const r=t$(function e(o){const s={};for(const c of o.children){const l=e(c);s[c.outlet]=l}const a=new Xn(o.url,s);return o===n&&(t=a),a}(n.root));return t??r}function r$(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return T1(r,r,r,e,i);const o=function pue(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new s$(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new s$(e,t,i)}(t);if(o.toRoot())return T1(r,r,new Xn([],{}),e,i);const s=function mue(n,t,e){if(n.isAbsolute)return new xE(t,!0,0);if(!e)return new xE(t,!1,NaN);if(null===e.parent)return new xE(e,!0,0);const i=RE(n.commands[0])?0:1;return function gue(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new se(4005,!1);r=i.segments.length}return new xE(i,!1,r-o)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?lv(s.segmentGroup,s.index,o.commands):a$(s.segmentGroup,s.index,o.commands);return T1(r,s.segmentGroup,a,e,i)}function RE(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function cv(n){return"object"==typeof n&&null!=n&&n.outlets}function T1(n,t,e,i,r){let s,o={};i&&Object.entries(i).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=n===t?e:o$(n,t,e);const a=t$(n$(s));return new xd(a,o,r)}function o$(n,t,e){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===t?e:o$(o,t,e)}),new Xn(n.segments,i)}class s${constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&RE(i[0]))throw new se(4003,!1);const r=i.find(cv);if(r&&r!==Wz(i))throw new se(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xE{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function a$(n,t,e){if(n??=new Xn([],{}),0===n.segments.length&&n.hasChildren())return lv(n,t,e);const i=function vue(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(cv(a))break;const c=`${a}`,l=i<e.length-1?e[i+1]:null;if(r>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!l$(c,l,s))return o;i+=2}else{if(!l$(c,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Xn(n.segments.slice(0,i.pathIndex),{});return o.children[on]=new Xn(n.segments.slice(i.pathIndex),n.children),lv(o,0,r)}return i.match&&0===r.length?new Xn(n.segments,{}):i.match&&!n.hasChildren()?D1(n,t,e):i.match?lv(n,0,r):D1(n,t,e)}function lv(n,t,e){if(0===e.length)return new Xn(n.segments,{});{const i=function _ue(n){return cv(n[0])?n[0].outlets:{[on]:n}}(e),r={};if(Object.keys(i).some(o=>o!==on)&&n.children[on]&&1===n.numberOfChildren&&0===n.children[on].segments.length){const o=lv(n.children[on],t,e);return new Xn(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=a$(n.children[o],t,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Xn(n.segments,r)}}function D1(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(cv(o)){const c=yue(o.outlets);return new Xn(i,c)}if(0===r&&RE(e[0])){i.push(new sv(n.segments[t].path,c$(e[0]))),r++;continue}const s=cv(o)?o.outlets[on]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&RE(a)?(i.push(new sv(s,c$(a))),r+=2):(i.push(new sv(s,{})),r++)}return new Xn(i,{})}function yue(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=D1(new Xn([],{}),0,i))}),t}function c$(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function l$(n,t,e){return n==e.path&&cc(t,e.parameters)}const uv="imperative";var Cn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Cn||{});class lc{constructor(t,e){this.id=t,this.url=e}}class ME extends lc{constructor(t,e,i="imperative",r=null){super(t,e),this.type=Cn.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class il extends lc{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=Cn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ks=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(ks||{}),OE=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(OE||{});class kd extends lc{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=Cn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _p extends lc{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=Cn.NavigationSkipped}}class S1 extends lc{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=Cn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class u$ extends lc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=Cn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bue extends lc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=Cn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wue extends lc{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Cn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Eue extends lc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=Cn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Iue extends lc{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=Cn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cue{constructor(t){this.route=t,this.type=Cn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Tue{constructor(t){this.route=t,this.type=Cn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Due{constructor(t){this.snapshot=t,this.type=Cn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sue{constructor(t){this.snapshot=t,this.type=Cn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Aue{constructor(t){this.snapshot=t,this.type=Cn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rue{constructor(t){this.snapshot=t,this.type=Cn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d${constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=Cn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class A1{}class kE{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}}function Ra(n){return n.outlet||on}function dv(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Pue{get injector(){return dv(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new hv(this.rootInjector),this.attachRef=null}}let hv=(()=>{class n{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Pue(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)($(hr))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class h${constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=R1(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=R1(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=x1(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return x1(t,this._root).map(e=>e.value)}}function R1(n,t){if(n===t.value)return t;for(const e of t.children){const i=R1(n,e);if(i)return i}return null}function x1(n,t){if(n===t.value)return[t];for(const e of t.children){const i=x1(n,e);if(i.length)return i.unshift(t),i}return[]}class xa{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function vp(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class f$ extends h${constructor(t,e){super(t),this.snapshot=e,M1(this,t)}toString(){return this.snapshot.toString()}}function p$(n){const t=function Fue(n){const o=new PE([],{},{},"",{},on,n,null,{});return new m$("",new xa(o,[]))}(n),e=new O([new sv("",{})]),i=new O({}),r=new O({}),o=new O({}),s=new O(""),a=new ou(e,i,o,s,r,on,n,t.root);return a.snapshot=t.root,new f$(new xa(a,[]),t)}class ou{constructor(t,e,i,r,o,s,a,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Me(l=>l[ov]))??Ge(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Me(t=>mp(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Me(t=>mp(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function NE(n,t,e="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===t||"always"!==e&&""!==r?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.data,...r?.data,...n._resolvedData}},r&&_$(r)&&(i.resolve[ov]=r.title),i}class PE{get title(){return this.data?.[ov]}constructor(t,e,i,r,o,s,a,c,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=mp(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=mp(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class m$ extends h${constructor(t,e){super(e),this.url=t,M1(this,e)}toString(){return g$(this._root)}}function M1(n,t){t.value._routerState=n,t.children.forEach(e=>M1(n,e))}function g$(n){const t=n.children.length>0?` { ${n.children.map(g$).join(", ")} } `:"";return`${n.value}${t}`}function O1(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,cc(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),cc(t.params,e.params)||n.paramsSubject.next(e.params),function Kle(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!cc(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),cc(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function k1(n,t){const e=cc(n.params,t.params)&&function Xle(n,t){return Md(n,t)&&n.every((e,i)=>cc(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||k1(n.parent,t.parent))}function _$(n){return"string"==typeof n.title||null===n.title}let N1=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=on,this.activateEvents=new nt,this.deactivateEvents=new nt,this.attachEvents=new nt,this.detachEvents=new nt,this.parentContexts=F(hv),this.location=F(fr),this.changeDetector=F(pr),this.inputBinder=F(FE,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new se(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new se(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new se(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new se(4013,!1);this._activatedRoute=e;const r=this.location,s=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new P1(e,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ae({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[xi]})}return n})();class P1{__ngOutletInjector(t){return new P1(this.route,this.childContexts,t)}constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===ou?this.route:t===hv?this.childContexts:this.parent.get(t,e)}}const FE=new ne("");let v$=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=Ad([i.queryParams,i.params,i.data]).pipe(_i(([o,s,a],c)=>(a={...o,...s,...a},0===c?Ge(a):Promise.resolve(a)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const s=function $se(n){const t=Xt(n);if(!t)return null;const e=new T_(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)e.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();function fv(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Vue(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return fv(n,i,r);return fv(n,i)})}(n,t,e);return new xa(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>fv(n,a)),s}}const i=function Bue(n){return new ou(new O(n.url),new O(n.params),new O(n.queryParams),new O(n.fragment),new O(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>fv(n,o));return new xa(i,r)}}class F1{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}}const y$="ngNavigationCancelingError";function LE(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Od(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=b$(!1,ks.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function b$(n,t){const e=new Error(`NavigationCancelingError: ${n||""}`);return e[y$]=!0,e.cancellationCode=t,e}function w$(n){return!!n&&n[y$]}class Hue{constructor(t,e,i,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),O1(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=vp(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=vp(t);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=vp(t);for(const s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=vp(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Rue(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Sue(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(O1(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),O1(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}}class E${constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class VE{constructor(t,e){this.component=t,this.route=e}}function zue(n,t,e){const i=n._root;return pv(i,t?t._root:null,e,[i.value])}function yp(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function Kb(n){return null!==ma(n)}(n)?t.get(n):n:i}function pv(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=vp(t);return n.children.forEach(s=>{(function Gue(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function Wue(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Md(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Md(n.url,t.url)||!cc(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!k1(n,t)||!cc(n.queryParams,t.queryParams);default:return!k1(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new E$(i)):(o.data=s.data,o._resolvedData=s._resolvedData),pv(n,t,o.component?a?a.children:null:e,i,r),c&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new VE(a.outlet.component,s))}else s&&mv(t,a,r),r.canActivateChecks.push(new E$(i)),pv(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>mv(a,e.getContext(s),r)),r}function mv(n,t,e){const i=vp(n),r=n.value;Object.entries(i).forEach(([o,s])=>{mv(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new VE(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function gv(n){return"function"==typeof n}function I$(n){return n instanceof wE||"EmptyError"===n?.name}const BE=Symbol("INITIAL_VALUE");function bp(){return _i(n=>Ad(n.map(t=>t.pipe(Mi(1),Os(BE)))).pipe(Me(t=>{for(const e of t)if(!0!==e){if(e===BE)return BE;if(!1===e||Jue(e))return e}return!0}),Rn(t=>t!==BE),Mi(1)))}function Jue(n){return Od(n)||n instanceof F1}function C$(n){return function ua(...n){return da(n)}(Hi(t=>{if("boolean"!=typeof t)throw LE(0,t)}),Me(t=>!0===t))}class L1{constructor(t){this.segmentGroup=t||null}}class UE extends Error{constructor(t){super(),this.urlTree=t}}function wp(n){return rv(new L1(n))}class hde{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ge(i);if(r.numberOfChildren>1||!r.children[on])return rv(new se(4e3,!1));r=r.children[on]}}applyRedirectCommands(t,e,i,r,o){if("string"!=typeof e){const a=e,{queryParams:c,fragment:l,routeConfig:u,url:p,outlet:_,params:v,data:b,title:C}=r,D=Ts(o,()=>a({params:v,data:b,queryParams:c,fragment:l,routeConfig:u,url:p,outlet:_,title:C}));if(D instanceof xd)throw new UE(D);e=D}const s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if("/"===e[0])throw new UE(s);return s}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new xd(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,o])=>{if("string"==typeof o&&":"===o[0]){const a=o.substring(1);i[r]=e[a]}else i[r]=o}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return Object.entries(e.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,i,r)}),new Xn(o,s)}createSegments(t,e,i,r){return e.map(o=>":"===o.path[0]?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new se(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const V1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fde(n,t,e,i,r){const o=B1(n,t,e);return o.matched?(i=function xue(n,t){return n.providers&&!n._injector&&(n._injector=Ew(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function lde(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Ge(r.map(s=>{const a=yp(s,n);return ru(function Xue(n){return n&&gv(n.canMatch)}(a)?a.canMatch(t,e):Ts(n,()=>a(t,e)))})).pipe(bp(),C$()):Ge(!0)}(i,t,e).pipe(Me(s=>!0===s?o:{...V1}))):Ge(o)}function B1(n,t,e){if("**"===t.path)return function pde(n){return{matched:!0,parameters:n.length>0?Wz(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...V1}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||qle)(e,n,t);if(!r)return{...V1};const o={};Object.entries(r.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function T$(n,t,e,i){return e.length>0&&function _de(n,t,e){return e.some(i=>jE(n,t,i)&&Ra(i)!==on)}(n,e,i)?{segmentGroup:new Xn(t,gde(i,new Xn(e,n.children))),slicedSegments:[]}:0===e.length&&function vde(n,t,e){return e.some(i=>jE(n,t,i))}(n,e,i)?{segmentGroup:new Xn(n.segments,mde(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Xn(n.segments,n.children),slicedSegments:e}}function mde(n,t,e,i){const r={};for(const o of e)if(jE(n,t,o)&&!i[Ra(o)]){const s=new Xn([],{});r[Ra(o)]=s}return{...i,...r}}function gde(n,t){const e={};e[on]=t;for(const i of n)if(""===i.path&&Ra(i)!==on){const r=new Xn([],{});e[Ra(i)]=r}return e}function jE(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class wde{}class Cde{constructor(t,e,i,r,o,s,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new hde(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new se(4002,`'${t.segmentGroup}'`)}recognize(){const t=T$(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(Me(({children:e,rootSnapshot:i})=>{const r=new xa(i,e),o=new m$("",r),s=function fue(n,t,e=null,i=null){return r$(i$(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){const e=new PE([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),on,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,on,e).pipe(Me(i=>({children:i,rootSnapshot:e})),Rd(i=>{if(i instanceof UE)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof L1?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,r,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i,o):this.processSegment(t,e,i,i.segments,r,!0,o).pipe(Me(s=>s instanceof xa?[s]:[]))}processChildren(t,e,i,r){const o=[];for(const s of Object.keys(i.children))"primary"===s?o.unshift(s):o.push(s);return jn(o).pipe(fp(s=>{const a=i.children[s],c=function Nue(n,t){const e=n.filter(i=>Ra(i)===t);return e.push(...n.filter(i=>Ra(i)!==t)),e}(e,s);return this.processSegmentGroup(t,c,a,s,r)}),IE((s,a)=>(s.push(...a),s)),EE(null),function Gle(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Rn((r,o)=>n(r,o,i)):Dr,w1(1),e?EE(t):zz(()=>new wE))}(),Hr(s=>{if(null===s)return wp(i);const a=D$(s);return function Tde(n){n.sort((t,e)=>t.value.outlet===on?-1:e.value.outlet===on?1:t.value.outlet.localeCompare(e.value.outlet))}(a),Ge(a)}))}processSegment(t,e,i,r,o,s,a){return jn(e).pipe(fp(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,i,r,o,s,a).pipe(Rd(l=>{if(l instanceof L1)return Ge(null);throw l}))),iu(c=>!!c),Rd(c=>{if(I$(c))return function bde(n,t,e){return 0===t.length&&!n.children[e]}(i,r,o)?Ge(new wde):wp(i);throw c}))}processSegmentAgainstRoute(t,e,i,r,o,s,a,c){return function yde(n,t,e,i){return!!(Ra(n)===i||i!==on&&jE(t,e,n))&&B1(t,n,e).matched}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,o,s,c):wp(r):wp(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s,a){const{matched:c,parameters:l,consumedSegments:u,positionalParamSegments:p,remainingSegments:_}=B1(e,r,o);if(!c)return wp(e);"string"==typeof r.redirectTo&&"/"===r.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const v=new PE(o,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,S$(r),Ra(r),r.component??r._loadedComponent??null,r,A$(r)),b=NE(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(b.params),v.data=Object.freeze(b.data);const C=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,p,v,t);return this.applyRedirects.lineralizeSegments(r,C).pipe(Hr(D=>this.processSegment(t,i,e,D.concat(_),s,!1,a)))}matchSegmentAgainstRoute(t,e,i,r,o,s){const a=fde(e,i,r,t);return"**"===i.path&&(e.children={}),a.pipe(_i(c=>c.matched?this.getChildConfig(t=i._injector??t,i,r).pipe(_i(({routes:l})=>{const u=i._loadedInjector??t,{parameters:p,consumedSegments:_,remainingSegments:v}=c,b=new PE(_,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,S$(i),Ra(i),i.component??i._loadedComponent??null,i,A$(i)),C=NE(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(C.params),b.data=Object.freeze(C.data);const{segmentGroup:D,slicedSegments:N}=T$(e,_,v,l);if(0===N.length&&D.hasChildren())return this.processChildren(u,l,D,b).pipe(Me(j=>new xa(b,j)));if(0===l.length&&0===N.length)return Ge(new xa(b,[]));const k=Ra(i)===o;return this.processSegment(u,l,D,N,k?on:o,!0,b).pipe(Me(j=>new xa(b,j instanceof xa?[j]:[])))})):wp(e)))}getChildConfig(t,e,i){return e.children?Ge({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Ge({routes:e._loadedRoutes,injector:e._loadedInjector}):function cde(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Ge(!0):Ge(r.map(s=>{const a=yp(s,n);return ru(function Kue(n){return n&&gv(n.canLoad)}(a)?a.canLoad(t,e):Ts(n,()=>a(t,e)))})).pipe(bp(),C$())}(t,e,i).pipe(Hr(r=>r?this.configLoader.loadChildren(t,e).pipe(Hi(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function dde(){return rv(b$(!1,ks.GuardRejected))}())):Ge({routes:[],injector:t})}}function Dde(n){const t=n.value.routeConfig;return t&&""===t.path}function D$(n){const t=[],e=new Set;for(const i of n){if(!Dde(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=D$(i.children);t.push(new xa(i.value,r))}return t.filter(i=>!e.has(i))}function S$(n){return n.data||{}}function A$(n){return n.resolve||{}}function Ade(n,t){return Hr(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Ge(e);const o=new Set(r.map(c=>c.route)),s=new Set;for(const c of o)if(!s.has(c))for(const l of R$(c))s.add(l);let a=0;return jn(s).pipe(fp(c=>o.has(c)?function Rde(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!_$(r)&&(o[ov]=r.title),function xde(n,t,e,i){const r=E1(n);if(0===r.length)return Ge({});const o={};return jn(r).pipe(Hr(s=>function Mde(n,t,e,i){const r=dv(t)??i,o=yp(n,r);return ru(o.resolve?o.resolve(t,e):Ts(r,()=>o(t,e)))}(n[s],t,e,i).pipe(iu(),Hi(a=>{if(a instanceof F1)throw LE(new TE,a);o[s]=a}))),w1(1),function $z(n){return Me(()=>n)}(o),Rd(s=>I$(s)?os:rv(s)))}(o,n,t,i).pipe(Me(s=>(n._resolvedData=s,n.data=NE(n,n.parent,e).resolve,null)))}(c,i,n,t):(c.data=NE(c,c.parent,n).resolve,Ge(void 0))),Hi(()=>a++),w1(1),Hr(c=>a===s.size?Ge(e):os))})}function R$(n){const t=n.children.map(e=>R$(e)).flat();return[n,...t]}function U1(n){return _i(t=>{const e=n(t);return e?jn(e).pipe(Me(()=>t)):Ge(t)})}let x$=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===on);return i}getResolvedTitleForRoute(e){return e.data[ov]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:()=>F(Ode),providedIn:"root"})}return n})(),Ode=(()=>{class n extends x${constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)($(fle))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ep=new ne("",{providedIn:"root",factory:()=>({})});let M$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Dt({type:n,selectors:[["ng-component"]],standalone:!0,features:[dn],decls:1,vars:0,template:function(i,r){1&i&&hn(0,"router-outlet")},dependencies:[N1],encapsulation:2})}return n})();function j1(n){const t=n.children&&n.children.map(j1),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==on&&(e.component=M$),e}const Ip=new ne("");let H1=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(Bj)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Ge(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=ru(e.loadComponent()).pipe(Me(O$),Hi(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),pp(()=>{this.componentLoaders.delete(e)})),r=new b1(i,()=>new I).pipe(y1());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Ge({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function kde(n,t,e,i){return ru(n.loadChildren()).pipe(Me(O$),Hr(r=>r instanceof rB||Array.isArray(r)?Ge(r):jn(t.compileModuleAsync(r))),Me(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(e).injector,s=o.get(Ip,[],{optional:!0,self:!0}).flat()),{routes:s.map(j1),injector:o}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(pp(()=>{this.childrenLoaders.delete(i)})),s=new b1(o,()=>new I).pipe(y1());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function O$(n){return function Nde(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let z1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:()=>F(Pde),providedIn:"root"})}return n})(),Pde=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const k$=new ne(""),N$=new ne("");function Fde(n,t,e){const i=n.get(N$),r=n.get(yt);return n.get($e).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o;const s=new Promise(l=>{o=l}),a=r.startViewTransition(()=>(o(),function Lde(n){return new Promise(t=>{Zc({read:()=>setTimeout(t)},{injector:n})})}(n))),{onViewTransitionCreated:c}=i;return c&&Ts(n,()=>c({transition:a,from:t,to:e})),s})}const P$=new ne("");let HE=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new I,this.transitionAbortSubject=new I,this.configLoader=F(H1),this.environmentInjector=F(hr),this.urlSerializer=F(gp),this.rootContexts=F(hv),this.location=F(Dd),this.inputBindingEnabled=null!==F(FE,{optional:!0}),this.titleStrategy=F(x$),this.options=F(Ep,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=F(z1),this.createViewTransition=F(k$,{optional:!0}),this.navigationErrorHandler=F(P$,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ge(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new Tue(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Cue(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new O({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:uv,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Rn(o=>0!==o.id),Me(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),_i(o=>{let s=!1,a=!1;return Ge(o).pipe(_i(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ks.SupersededByNewNavigation),os;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:"string"==typeof c.extras.browserUrl?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const l=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const p="";return this.events.next(new _p(c.id,this.urlSerializer.serialize(c.rawUrl),p,OE.IgnoredSameUrlNavigation)),c.resolve(!1),os}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ge(c).pipe(_i(p=>{const _=this.transitions?.getValue();return this.events.next(new ME(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),_!==this.transitions?.getValue()?os:Promise.resolve(p)}),function Sde(n,t,e,i,r,o){return Hr(s=>function Ede(n,t,e,i,r,o,s="emptyOnly"){return new Cde(n,t,e,i,r,s,o).recognize()}(n,t,e,i,s.extractedUrl,r,o).pipe(Me(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Hi(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const _=new u$(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(_)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:p,extractedUrl:_,source:v,restoredState:b,extras:C}=c,D=new ME(p,this.urlSerializer.serialize(_),v,b);this.events.next(D);const N=p$(this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:N,urlAfterRedirects:_,extras:{...C,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=_,Ge(o)}{const p="";return this.events.next(new _p(c.id,this.urlSerializer.serialize(c.extractedUrl),p,OE.IgnoredByUrlHandlingStrategy)),c.resolve(!1),os}}),Hi(c=>{const l=new bue(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Me(c=>(this.currentTransition=o={...c,guards:zue(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function ede(n,t){return Hr(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?Ge({...e,guardsResult:!0}):function tde(n,t,e,i){return jn(n).pipe(Hr(r=>function ade(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Ge(o.map(a=>{const c=dv(t)??r,l=yp(a,c);return ru(function Zue(n){return n&&gv(n.canDeactivate)}(l)?l.canDeactivate(n,t,e,i):Ts(c,()=>l(n,t,e,i))).pipe(iu())})).pipe(bp()):Ge(!0)}(r.component,r.route,e,t,i)),iu(r=>!0!==r,!0))}(s,i,r,n).pipe(Hr(a=>a&&function que(n){return"boolean"==typeof n}(a)?function nde(n,t,e,i){return jn(t).pipe(fp(r=>hp(function rde(n,t){return null!==n&&t&&t(new Due(n)),Ge(!0)}(r.route.parent,i),function ide(n,t){return null!==n&&t&&t(new Aue(n)),Ge(!0)}(r.route,i),function sde(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function $ue(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>iv(()=>Ge(s.guards.map(c=>{const l=dv(s.node)??e,u=yp(c,l);return ru(function Que(n){return n&&gv(n.canActivateChild)}(u)?u.canActivateChild(i,n):Ts(l,()=>u(i,n))).pipe(iu())})).pipe(bp())));return Ge(o).pipe(bp())}(n,r.path,e),function ode(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Ge(!0);const r=i.map(o=>iv(()=>{const s=dv(t)??e,a=yp(o,s);return ru(function Yue(n){return n&&gv(n.canActivate)}(a)?a.canActivate(t,n):Ts(s,()=>a(t,n))).pipe(iu())}));return Ge(r).pipe(bp())}(n,r.route,e))),iu(r=>!0!==r,!0))}(i,o,n,t):Ge(a)),Me(a=>({...e,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Hi(c=>{if(o.guardsResult=c.guardsResult,c.guardsResult&&"boolean"!=typeof c.guardsResult)throw LE(0,c.guardsResult);const l=new wue(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),Rn(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",ks.GuardRejected),!1)),U1(c=>{if(c.guards.canActivateChecks.length)return Ge(c).pipe(Hi(l=>{const u=new Eue(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),_i(l=>{let u=!1;return Ge(l).pipe(Ade(this.paramsInheritanceStrategy,this.environmentInjector),Hi({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",ks.NoDataFromResolver)}}))}),Hi(l=>{const u=new Iue(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),U1(c=>{const l=u=>{const p=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(u.routeConfig).pipe(Hi(_=>{u.component=_}),Me(()=>{})));for(const _ of u.children)p.push(...l(_));return p};return Ad(l(c.targetSnapshot.root)).pipe(EE(null),Mi(1))}),U1(()=>this.afterPreactivation()),_i(()=>{const{currentSnapshot:c,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return u?jn(u).pipe(Me(()=>o)):Ge(o)}),Me(c=>{const l=function Lue(n,t,e){const i=fv(n,t._root,e?e._root:void 0);return new f$(i,t)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},this.currentNavigation.targetRouterState=l,o}),Hi(()=>{this.events.next(new A1)}),((n,t,e,i)=>Me(r=>(new Hue(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Mi(1),Hi({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new il(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),mn(this.transitionAbortSubject.pipe(Hi(c=>{throw c}))),pp(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",ks.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Rd(c=>{if(a=!0,w$(c))this.events.next(new kd(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function Uue(n){return w$(n)&&Od(n.url)}(c)?this.events.next(new kE(c.url,c.navigationBehaviorOptions)):o.resolve(!1);else{const l=new S1(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0);try{const u=Ts(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof F1){const{message:p,cancellationCode:_}=LE(0,u);this.events.next(new kd(o.id,this.urlSerializer.serialize(o.extractedUrl),p,_)),this.events.next(new kE(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(l);const p=e.errorHandler(c);o.resolve(!!p)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return os}))}))}cancelNavigationTransition(e,i,r){const o=new kd(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vde(n){return n!==uv}let Bde=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:()=>F(jde),providedIn:"root"})}return n})();class Ude{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let jde=(()=>{class n extends Ude{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ft(n)))(r||n)}})();static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),F$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:()=>F(Hde),providedIn:"root"})}return n})(),Hde=(()=>{class n extends F${constructor(){super(...arguments),this.location=F(Dd),this.urlSerializer=F(gp),this.options=F(Ep,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=F(z1),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new xd,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=p$(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{"popstate"===i.type&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof ME)this.stateMemento=this.createStateMemento();else if(e instanceof _p)this.rawUrlTree=i.initialUrl;else if(e instanceof u$){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else e instanceof A1?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof kd&&(e.code===ks.GuardRejected||e.code===ks.NoDataFromResolver)?this.restoreHistory(i):e instanceof S1?this.restoreHistory(i,!0):e instanceof il&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){const r=e instanceof xd?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===e.finalUrl&&0===o&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Ft(n)))(r||n)}})();static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _v=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(_v||{});function L$(n,t){n.events.pipe(Rn(e=>e instanceof il||e instanceof kd||e instanceof S1||e instanceof _p),Me(e=>e instanceof il||e instanceof _p?_v.COMPLETE:e instanceof kd&&(e.code===ks.Redirect||e.code===ks.SupersededByNewNavigation)?_v.REDIRECTING:_v.FAILED),Rn(e=>e!==_v.REDIRECTING),Mi(1)).subscribe(()=>{t()})}function zde(n){throw n}const $de={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gde={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ss=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=F(Aj),this.stateManager=F(F$),this.options=F(Ep,{optional:!0})||{},this.pendingTasks=F(qc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=F(HE),this.urlSerializer=F(gp),this.location=F(Dd),this.urlHandlingStrategy=F(z1),this._events=new I,this.errorHandler=this.options.errorHandler||zde,this.navigated=!1,this.routeReuseStrategy=F(Bde),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=F(Ip,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!F(FE,{optional:!0}),this.eventsSubscription=new vt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==r&&null!==o)if(this.stateManager.handleRouterEvent(i,o),i instanceof kd&&i.code!==ks.Redirect&&i.code!==ks.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof il)this.navigated=!0;else if(i instanceof kE){const s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),c={browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Vde(r.source),...s};this.scheduleNavigation(a,uv,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function qde(n){return!(n instanceof A1||n instanceof kE)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),uv,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const c={...r};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(j1),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:s;let p,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{p=i$(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||"/"!==e[0][0])&&(e=[]),p=this.currentUrlTree.root}return r$(p,e,u,l??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Od(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,uv,null,i)}navigate(e,i={skipLocationChange:!1}){return function Wde(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new se(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(r=!0===i?{...$de}:!1===i?{...Gde}:i,Od(e))return Kz(this.currentUrlTree,e,r);const o=this.parseUrl(e);return Kz(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,o])=>(null!=o&&(i[r]=o),i),{})}scheduleNavigation(e,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((p,_)=>{a=p,c=_});const u=this.pendingTasks.add();return L$(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class V${}let Qde=(()=>{class n{constructor(e,i,r,o,s){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Rn(e=>e instanceof il),fp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=Ew(o.providers,e,`Route: ${o.path}`));const s=o._injector??e,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return jn(r).pipe(dp())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Ge(null);const o=r.pipe(Hr(s=>null===s?Ge(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));return i.loadComponent&&!i._loadedComponent?jn([o,this.loader.loadComponent(i)]).pipe(dp()):o})}static#e=this.\u0275fac=function(i){return new(i||n)($(ss),$(Bj),$(hr),$(V$),$(H1))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const G1=new ne("");let B$=(()=>{class n{constructor(e,i,r,o,s={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ME?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof il?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof _p&&e.code===OE.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof d$&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new d$(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){tA()};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();function uc(n,t){return{\u0275kind:n,\u0275providers:t}}function j$(){const n=F(un);return t=>{const e=n.get(xs);if(t!==e.components[0])return;const i=n.get(ss),r=n.get(H$);1===n.get(W1)&&i.initialNavigation(),n.get(z$,null,rn.Optional)?.setUpPreloading(),n.get(G1,null,rn.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const H$=new ne("",{factory:()=>new I}),W1=new ne("",{providedIn:"root",factory:()=>1}),z$=new ne("");function ehe(n){return uc(0,[{provide:z$,useExisting:Qde},{provide:V$,useExisting:n}])}function nhe(n){return uc(9,[{provide:k$,useValue:Fde},{provide:N$,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const $$=new ne("ROUTER_FORROOT_GUARD"),ihe=[Dd,{provide:gp,useClass:TE},ss,hv,{provide:ou,useFactory:function U$(n){return n.routerState.root},deps:[ss]},H1,[]];let q1=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[ihe,[],{provide:Ip,multi:!0,useValue:e},{provide:$$,useFactory:ahe,deps:[[ss,new qa,new Ul]]},{provide:Ep,useValue:i||{}},i?.useHash?{provide:Td,useClass:Yse}:{provide:Td,useClass:LH},{provide:G1,useFactory:()=>{const n=F(hce),t=F($e),e=F(Ep),i=F(HE),r=F(gp);return e.scrollOffset&&n.setOffset(e.scrollOffset),new B$(r,i,n,t,e)}},i?.preloadingStrategy?ehe(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?che(i):[],i?.bindToComponentInputs?uc(8,[v$,{provide:FE,useExisting:v$}]).\u0275providers:[],i?.enableViewTransitions?nhe().\u0275providers:[],[{provide:G$,useFactory:j$},{provide:$w,multi:!0,useExisting:G$}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Ip,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)($($$,8))};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})();function ahe(n){return"guarded"}function che(n){return["disabled"===n.initialNavigation?uc(3,[{provide:DR,multi:!0,useFactory:()=>{const t=F(ss);return()=>{t.setUpLocationChangeListener()}}},{provide:W1,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?uc(2,[{provide:W1,useValue:0},{provide:DR,multi:!0,deps:[un],useFactory:t=>{const e=t.get(qse,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(ss),o=t.get(H$);L$(r,()=>{i(!0)}),t.get(HE).afterPreactivation=()=>(i(!0),o.closed?Ge(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const G$=new ne("");let K1;try{K1=typeof Intl<"u"&&Intl.v8BreakIterator}catch{K1=!1}let Cp,cr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?rz(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!K1)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)($(Jo))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const W$=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function q$(){if(Cp)return Cp;if("object"!=typeof document||!document)return Cp=new Set(W$),Cp;let n=document.createElement("input");return Cp=new Set(W$.filter(t=>(n.setAttribute("type",t),n.type===t))),Cp}let vv,Pd,Y1;function Nd(n){return function uhe(){if(null==vv&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>vv=!0}))}finally{vv=vv||!1}return vv}()?n:!!n.capture}function K$(){if(null==Pd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Pd=!1,Pd;if("scrollBehavior"in document.documentElement.style)Pd=!0;else{const n=Element.prototype.scrollTo;Pd=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Pd}function Q1(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function hc(n){return n.composedPath?n.composedPath()[0]:n.target}function Z1(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function su(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class Rhe extends vt{constructor(t,e){super()}schedule(t,e=0){return this}}const WE={setInterval(n,t,...e){const{delegate:i}=WE;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=WE;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class qE extends Rhe{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,i=0){return WE.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&WE.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Rt(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const J1={now:()=>(J1.delegate||Date).now(),delegate:void 0};class wv{constructor(t,e=wv.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}wv.now=J1.now;class KE extends wv{constructor(t,e=wv.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const Dp=new KE(qE),xhe=Dp;function ex(n,t=Dp){return Se((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const l=o;o=null,i.next(l)}};function c(){const l=s+n,u=t.now();if(u<l)return r=this.schedule(void 0,l-u),void i.add(r);a()}e.subscribe(Le(i,l=>{o=l,s=t.now(),r||(r=t.schedule(c,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function tx(n){return Rn((t,e)=>n<=e)}function nx(n,t=Dr){return n=n??Mhe,Se((e,i)=>{let r,o=!0;e.subscribe(Le(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function Mhe(n,t){return n===t}let Ohe=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),X$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({providers:[Ohe]})}return n})();function YE(n){return null!=n&&"false"!=`${n}`}function J$(n,t=0){return function e3(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):2===arguments.length?t:0}function QE(n){return Array.isArray(n)?n:[n]}function vr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function au(n){return n instanceof st?n.nativeElement:n}const t3=new Set;let Fd,khe=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Phe}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Nhe(n,t){if(!t3.has(n))try{Fd||(Fd=document.createElement("style"),t&&Fd.setAttribute("nonce",t),Fd.setAttribute("type","text/css"),document.head.appendChild(Fd)),Fd.sheet&&(Fd.sheet.insertRule(`@media ${n} {body{ }}`,0),t3.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)($(cr),$(CS,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Phe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let ix=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new I}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return n3(QE(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=Ad(n3(QE(e)).map(s=>this._registerQuery(s).observable));return o=hp(o.pipe(Mi(1)),o.pipe(tx(1),ex(0))),o.pipe(Me(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Qt(s=>{const a=c=>this._zone.run(()=>s.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Os(i),Me(({matches:s})=>({query:e,matches:s})),mn(this._destroySubject)),mql:i};return this._queries.set(e,o),o}static#e=this.\u0275fac=function(i){return new(i||n)($(khe),$($e))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function n3(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}let ox=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Ghe(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function $he(n){try{return n.frameElement}catch{return null}}(function Jhe(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===h3(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=h3(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Zhe(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function Xhe(n){return!function qhe(n){return function Yhe(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Whe(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function Khe(n){return function Qhe(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||d3(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(i){return new(i||n)($(cr))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function d3(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function h3(n){if(!d3(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class f3{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,o=!1,s){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._injector=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?Zc(t,{injector:this._injector}):setTimeout(t)}}let p3=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._injector=F(un),this._document=r}create(e,i=!1){return new f3(e,this._checker,this._ngZone,this._document,i,this._injector)}static#e=this.\u0275fac=function(i){return new(i||n)($(ox),$($e),$(yt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function m3(n){return 0===n.buttons||0===n.detail}function g3(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const efe=new ne("cdk-input-modality-detector-options"),tfe={ignoreKeys:[18,17,224,91,16]},Sp=Nd({passive:!0,capture:!0});let nfe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new O(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=hc(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(m3(s)?"keyboard":"mouse"),this._mostRecentTarget=hc(s))},this._onTouchstart=s=>{g3(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=hc(s))},this._options={...tfe,...o},this.modalityDetected=this._modality.pipe(tx(1)),this.modalityChanged=this.modalityDetected.pipe(nx()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Sp),r.addEventListener("mousedown",this._onMousedown,Sp),r.addEventListener("touchstart",this._onTouchstart,Sp)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Sp),document.removeEventListener("mousedown",this._onMousedown,Sp),document.removeEventListener("touchstart",this._onTouchstart,Sp))}static#e=this.\u0275fac=function(i){return new(i||n)($(cr),$($e),$(yt),$(efe,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ife=new ne("liveAnnouncerElement",{providedIn:"root",factory:function rfe(){return null}}),ofe=new ne("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let sfe=0,afe=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,s;return 1===i.length&&"number"==typeof i[0]?s=i[0]:[o,s]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==s&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof s&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+sfe++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(i){return new(i||n)($(ife,8),$($e),$(yt),$(ofe,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ZE=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(ZE||{});const cfe=new ne("cdk-focus-monitor-default-options"),XE=Nd({passive:!0,capture:!0});let Ev=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new I,this._rootNodeFocusAndBlurListener=a=>{for(let l=hc(a);l;l=l.parentElement)"focus"===a.type?this._onFocus(a,l):this._onBlur(a,l)},this._document=o,this._detectionMode=s?.detectionMode||ZE.IMMEDIATE}monitor(e,i=!1){const r=au(e);if(!this._platform.isBrowser||1!==r.nodeType)return Ge();const o=function hhe(n){if(function dhe(){if(null==Y1){const n=typeof document<"u"?document.head:null;Y1=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Y1}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new I,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=au(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=au(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===ZE.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,this._detectionMode===ZE.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=hc(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,XE),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,XE)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(mn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,XE),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,XE),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)($($e),$(cr),$(nfe),$(yt,8),$(cfe,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ld=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Ld||{});const v3="cdk-high-contrast-black-on-white",y3="cdk-high-contrast-white-on-black",sx="cdk-high-contrast-active";let b3=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=F(ix).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Ld.NONE;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Ld.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Ld.BLACK_ON_WHITE}return Ld.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(sx,v3,y3),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===Ld.BLACK_ON_WHITE?e.add(sx,v3):i===Ld.WHITE_ON_BLACK&&e.add(sx,y3)}}static#e=this.\u0275fac=function(i){return new(i||n)($(cr),$(yt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),w3=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)($(b3))};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({imports:[X$]})}return n})();const lfe=new ne("cdk-dir-doc",{providedIn:"root",factory:function ufe(){return F(yt)}}),dfe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let rl=(()=>{class n{constructor(e){this.value="ltr",this.change=new nt,e&&(this.value=function hfe(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?dfe.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)($(lfe,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Iv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})();const pfe=new ne("mat-sanity-checks",{providedIn:"root",factory:function ffe(){return!0}});let xn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Z1()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)($(b3),$(pfe,8),$(yt))};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({imports:[Iv,Iv]})}return n})();class ax{constructor(t,e,i,r,o){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=o,this.errorState=!1}updateErrorState(){const t=this.errorState,e=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=i?.isErrorState(r,e)??!1;o!==t&&(this.errorState=o,this._stateChanges.next())}}let cx=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ia=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(ia||{});class bfe{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=ia.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const C3=Nd({passive:!0,capture:!0});class wfe{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=hc(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,C3)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,C3)))}}const T3={enterDuration:225,exitDuration:150},D3=Nd({passive:!0,capture:!0}),S3=["mousedown","touchstart"],A3=["mouseup","mouseleave","touchend","touchcancel"];class JE{static#e=this._eventManager=new wfe;constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=au(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...T3,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=i.radius||function Ife(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,c=e-r.top,l=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=c-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);const p=window.getComputedStyle(u),v=p.transitionDuration,b="none"===p.transitionProperty||"0s"===v||"0s, 0s"===v||0===r.width&&0===r.height,C=new bfe(this,u,i,b);u.style.transform="scale3d(1, 1, 1)",C.state=ia.FADING_IN,i.persistent||(this._mostRecentTransientRipple=C);let D=null;return!b&&(l||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const N=()=>{D&&(D.fallbackTimer=null),clearTimeout(j),this._finishRippleTransition(C)},k=()=>this._destroyRipple(C),j=setTimeout(k,l+100);u.addEventListener("transitionend",N),u.addEventListener("transitioncancel",k),D={onTransitionEnd:N,onTransitionCancel:k,fallbackTimer:j}}),this._activeRipples.set(C,D),(b||!l)&&this._finishRippleTransition(C),C}fadeOutRipple(t){if(t.state===ia.FADING_OUT||t.state===ia.HIDDEN)return;const e=t.element,i={...T3,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=ia.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=au(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,S3.forEach(i=>{JE._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{A3.forEach(e=>{this._triggerElement.addEventListener(e,this,D3)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===ia.FADING_IN?this._startFadeOutTransition(t):t.state===ia.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=ia.VISIBLE,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=ia.HIDDEN,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),null!==e.fallbackTimer&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){const e=m3(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!g3(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(t.state===ia.VISIBLE||t.config.terminateOnPointerUp&&t.state===ia.FADING_IN)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(S3.forEach(e=>JE._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(A3.forEach(e=>t.removeEventListener(e,this,D3)),this._pointerUpEventsRegistered=!1))}}const eI=new ne("mat-ripple-global-options");let Cfe=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new JE(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||n)(P(st),P($e),P(cr),P(eI,8),P(Xs,8))};static#t=this.\u0275dir=ae({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&St("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return n})(),tI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({imports:[xn,xn]})}return n})(),Tfe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({imports:[xn]})}return n})(),nI=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({imports:[tI,xn,Tfe]})}return n})();const R3={capture:!0},x3=["focus","mousedown","mouseenter","touchstart"],lx="mat-ripple-loader-uninitialized",ux="mat-ripple-loader-class-name",M3="mat-ripple-loader-centered",iI="mat-ripple-loader-disabled";let O3=(()=>{class n{constructor(){this._document=F(yt,{optional:!0}),this._animationMode=F(Xs,{optional:!0}),this._globalRippleOptions=F(eI,{optional:!0}),this._platform=F(cr),this._ngZone=F($e),this._hosts=new Map,this._onInteraction=e=>{const i=hc(e);if(i instanceof HTMLElement){const r=i.closest(`[${lx}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}},this._ngZone.runOutsideAngular(()=>{for(const e of x3)this._document?.addEventListener(e,this._onInteraction,R3)})}ngOnDestroy(){const e=this._hosts.keys();for(const i of e)this.destroyRipple(i);for(const i of x3)this._document?.removeEventListener(i,this._onInteraction,R3)}configureRipple(e,i){e.setAttribute(lx,this._globalRippleOptions?.namespace??""),(i.className||!e.hasAttribute(ux))&&e.setAttribute(ux,i.className||""),i.centered&&e.setAttribute(M3,""),i.disabled&&e.setAttribute(iI,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,i){const r=this._hosts.get(e);r?r.disabled=i:i?e.setAttribute(iI,""):e.removeAttribute(iI)}_createRipple(e){if(!this._document)return;const i=this._hosts.get(e);if(i)return i;e.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(ux)),e.append(r);const o=new Cfe(new st(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return o._isInitialized=!0,o.trigger=e,o.centered=e.hasAttribute(M3),o.disabled=e.hasAttribute(iI),this.attachRipple(e,o),o}attachRipple(e,i){e.removeAttribute(lx),this._hosts.set(e,i)}destroyRipple(e){const i=this._hosts.get(e);i&&(i.ngOnDestroy(),this._hosts.delete(e))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Rfe=["*",[["mat-toolbar-row"]]],xfe=["*","mat-toolbar-row"];let Mfe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ae({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return n})(),Ofe=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(P(st),P(cr),P(yt))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&Zt(o,Mfe,5),2&i){let s;Qe(s=Ze())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,r){2&i&&(ic(r.color?"mat-"+r.color:""),St("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[dn],ngContentSelectors:xfe,decls:2,vars:0,template:function(i,r){1&i&&(jr(Rfe),$t(0),$t(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-app-surface));color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-app-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-app-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-app-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-app-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-app-title-large-tracking));margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),k3=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({imports:[xn,xn]})}return n})();const kfe=["mat-button",""],N3=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],P3=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Nfe=["mat-fab",""],Pfe=new ne("MAT_BUTTON_CONFIG"),Ffe=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let F3=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,i,r,o){this._elementRef=e,this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=F(Ev),this._rippleLoader=F(O3),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const s=F(Pfe,{optional:!0}),a=e.nativeElement,c=a.classList;this.disabledInteractive=s?.disabledInteractive??!1,this.color=s?.color??null,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(const{attribute:l,mdcClasses:u}of Ffe)a.hasAttribute(l)&&c.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){tA()};static#t=this.\u0275dir=ae({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",yn],disabled:[2,"disabled","disabled",yn],ariaDisabled:[2,"aria-disabled","ariaDisabled",yn],disabledInteractive:[2,"disabledInteractive","disabledInteractive",yn]},features:[Ur]})}return n})(),dx=(()=>{class n extends F3{constructor(e,i,r,o){super(e,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(P(st),P(cr),P($e),P(Xs,8))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(Lt("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),ic(r.color?"mat-"+r.color:""),St("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[et,dn],attrs:kfe,ngContentSelectors:P3,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(jr(N3),hn(0,"span",0),$t(1),te(2,"span",1),$t(3,1),oe(),$t(4,2),hn(5,"span",2)(6,"span",3)),2&i&&St("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-app-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-app-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-app-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-app-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-app-level1));height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-app-label-large-weight))}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-app-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-app-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-app-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-app-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-app-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-app-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-app-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-app-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-app-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-app-corner-full));border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-app-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-app-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-app-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-app-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})();const Lfe=new ne("mat-mdc-fab-default-options",{providedIn:"root",factory:L3});function L3(){return{color:"accent"}}const V3=L3();let Vfe=(()=>{class n extends F3{constructor(e,i,r,o,s){super(e,i,r,o),this._options=s,this._isFab=!0,this._options=this._options||V3,this.color=this._options.color||V3.color}static#e=this.\u0275fac=function(i){return new(i||n)(P(st),P(cr),P($e),P(Xs,8),P(Lfe,8))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["button","mat-fab",""]],hostVars:18,hostBindings:function(i,r){2&i&&(Lt("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),ic(r.color?"mat-"+r.color:""),St("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0)("mdc-fab--extended",r.extended)("mat-mdc-extended-fab",r.extended))},inputs:{extended:[2,"extended","extended",yn]},exportAs:["matButton"],standalone:!0,features:[Ur,et,dn],attrs:Nfe,ngContentSelectors:P3,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(jr(N3),hn(0,"span",0),$t(1),te(2,"span",1),$t(3,1),oe(),$t(4,2),hn(5,"span",2)(6,"span",3)),2&i&&St("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-fab-base{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color, var(--mat-app-primary-container));border-radius:var(--mdc-fab-container-shape, var(--mat-app-corner-large));color:var(--mat-fab-foreground-color, var(--mat-app-on-primary-container, inherit));box-shadow:var(--mdc-fab-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color, var(--mat-app-on-primary-container))}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow, var(--mat-app-level4))}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color, var(--mat-app-primary-container));border-radius:var(--mdc-fab-small-container-shape, var(--mat-app-corner-medium));color:var(--mat-fab-small-foreground-color, var(--mat-app-on-primary-container, inherit));box-shadow:var(--mdc-fab-small-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color, var(--mat-app-on-primary-container))}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity))}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow, var(--mat-app-level4))}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mdc-extended-fab-container-elevation-shadow, var(--mat-app-level3));height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape, var(--mat-app-corner-large));font-family:var(--mdc-extended-fab-label-text-font, var(--mat-app-label-large-font));font-size:var(--mdc-extended-fab-label-text-size, var(--mat-app-label-large-size));font-weight:var(--mdc-extended-fab-label-text-weight, var(--mat-app-label-large-weight));letter-spacing:var(--mdc-extended-fab-label-text-tracking, var(--mat-app-label-large-tracking))}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow, var(--mat-app-level4))}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow, var(--mat-app-level3))}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return n})(),hx=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({imports:[xn,tI,xn]})}return n})(),Bfe=(()=>{class n{constructor(e){this._router=e,this.lastSelectedTab="home"}ngOnInit(){this.changeTabColor()}goToTab(e){this.changeTabColor(),this._router.navigate([`/${e}`])}changeTabColor(){this._router.events.subscribe(()=>{let e=this._router.url.split("/")[1],i=document.getElementById(this.lastSelectedTab+"-tab");i&&(i.style.color="black"),""===e&&(e="home");let r=document.getElementById(e+"-tab");r&&(r.style.color="#FB8500"),this.lastSelectedTab=e})}static#e=this.\u0275fac=function(i){return new(i||n)(P(ss))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["app-navbar"]],decls:12,vars:0,consts:[[3,"click"],[1,"spacer"],["mat-button","","id","home-tab",3,"click"],["mat-button","","id","about-tab",3,"click"],["mat-button","","id","contact-tab",3,"click"]],template:function(i,r){1&i&&(te(0,"mat-toolbar")(1,"span",0),gt("click",function(){return r.goToTab("home")}),Ve(2,"Rico"),te(3,"a"),Ve(4,"."),oe()(),hn(5,"span",1),te(6,"button",2),gt("click",function(){return r.goToTab("home")}),Ve(7,"Home"),oe(),te(8,"button",3),gt("click",function(){return r.goToTab("about")}),Ve(9,"About"),oe(),te(10,"button",4),gt("click",function(){return r.goToTab("contact")}),Ve(11,"Contact"),oe()())},dependencies:[Ofe,dx],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}mat-toolbar[_ngcontent-%COMP%]{background:#fff;border-bottom:gray 1px solid;height:62px}mat-toolbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Poppins,serif;font-weight:600;font-size:1.5rem}mat-toolbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fb8500}mat-toolbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{cursor:pointer}mat-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Poppins,serif;font-weight:600;font-size:1rem;margin-bottom:2px}mat-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fb8500;border-bottom:#FB8500 2px solid;border-radius:0}"]})}return n})(),Ufe=(()=>{class n{constructor(){this.title="portfolio-rico"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Dt({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(i,r){1&i&&hn(0,"app-navbar")(1,"router-outlet")},dependencies:[N1,Bfe]})}return n})();function fx(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new fo({next:()=>{i.unsubscribe(),n()}});return _r(t(...e)).subscribe(i)}var he=_t(467);class rI{}class oI{}class ra{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ra?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ra;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ra?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class jfe{encodeKey(t){return j3(t)}encodeValue(t){return j3(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const zfe=/%(\d[a-f0-9])/gi,$fe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function j3(n){return encodeURIComponent(n).replace(zfe,(t,e)=>$fe[e]??t)}function sI(n){return`${n}`}class cu{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new jfe,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Hfe(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],c=e.get(s)||[];c.push(a),e.set(s,c)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(sI):[sI(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new cu({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(sI(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(sI(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Gfe{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function H3(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function z3(n){return typeof Blob<"u"&&n instanceof Blob}function $3(n){return typeof FormData<"u"&&n instanceof FormData}class Tv{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Wfe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new ra,this.context??=new Gfe,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new cu,this.urlWithParams=e}serializeBody(){return null===this.body?null:"string"==typeof this.body||H3(this.body)||z3(this.body)||$3(this.body)||function qfe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof cu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$3(this.body)?null:z3(this.body)?this.body.type||null:H3(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof cu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=void 0!==t.body?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress;let l=t.headers||this.headers,u=t.params||this.params;const p=t.context??this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((_,v)=>_.set(v,t.setHeaders[v]),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((_,v)=>_.set(v,t.setParams[v]),u)),new Tv(e,i,s,{params:u,headers:l,context:p,reportProgress:c,responseType:r,withCredentials:a,transferCache:o})}}var lu=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(lu||{});class px{constructor(t,e=200,i="OK"){this.headers=t.headers||new ra,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class aI extends px{constructor(t={}){super(t),this.type=lu.ResponseHeader}clone(t={}){return new aI({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Vd extends px{constructor(t={}){super(t),this.type=lu.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Vd({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ap extends px{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function mx(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let cI=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Tv)o=e;else{let c,l;c=r.headers instanceof ra?r.headers:new ra(r.headers),r.params&&(l=r.params instanceof cu?r.params:new cu({fromObject:r.params})),o=new Tv(e,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const s=Ge(o).pipe(fp(c=>this.handler.handle(c)));if(e instanceof Tv||"events"===r.observe)return s;const a=s.pipe(Rn(c=>c instanceof Vd));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Me(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Me(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Me(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Me(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new cu).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,mx(r,i))}post(e,i,r={}){return this.request("POST",e,mx(r,i))}put(e,i,r={}){return this.request("PUT",e,mx(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)($(rI))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const Qfe=/^\)\]\}',?\n/;function W3(n){if(n.url)return n.url;const t="X-Request-URL".toLocaleLowerCase();return n.headers.get(t)}let gx=(()=>{class n{constructor(){this.fetchImpl=F(Xfe,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=F($e)}handle(e){return new Qt(i=>{const r=new AbortController;return this.doRequest(e,r.signal,i).then(_x,o=>i.error(new Ap({error:o}))),()=>r.abort()})}doRequest(e,i,r){var o=this;return(0,he.A)(function*(){const s=o.createRequestInit(e);let a;try{const b=o.ngZone.runOutsideAngular(()=>o.fetchImpl(e.urlWithParams,{signal:i,...s}));(function Jfe(n){n.then(_x,_x)})(b),r.next({type:lu.Sent}),a=yield b}catch(b){return void r.error(new Ap({error:b,status:b.status??0,statusText:b.statusText,url:e.urlWithParams,headers:b.headers}))}const c=new ra(a.headers),l=a.statusText,u=W3(a)??e.urlWithParams;let p=a.status,_=null;if(e.reportProgress&&r.next(new aI({headers:c,status:p,statusText:l,url:u})),a.body){const b=a.headers.get("content-length"),C=[],D=a.body.getReader();let k,j,N=0;const Y=typeof Zone<"u"&&Zone.current;yield o.ngZone.runOutsideAngular((0,he.A)(function*(){for(;;){const{done:we,value:B}=yield D.read();if(we)break;if(C.push(B),N+=B.length,e.reportProgress){j="text"===e.responseType?(j??"")+(k??=new TextDecoder).decode(B,{stream:!0}):void 0;const M=()=>r.next({type:lu.DownloadProgress,total:b?+b:void 0,loaded:N,partialText:j});Y?Y.run(M):M()}}}));const me=o.concatChunks(C,N);try{const we=a.headers.get("Content-Type")??"";_=o.parseBody(e,me,we)}catch(we){return void r.error(new Ap({error:we,headers:new ra(a.headers),status:a.status,statusText:a.statusText,url:W3(a)??e.urlWithParams}))}}0===p&&(p=_?200:0),p>=200&&p<300?(r.next(new Vd({body:_,headers:c,status:p,statusText:l,url:u})),r.complete()):r.error(new Ap({error:_,headers:c,status:p,statusText:l,url:u}))})()}parseBody(e,i,r){switch(e.responseType){case"json":const o=(new TextDecoder).decode(i).replace(Qfe,"");return""===o?null:JSON.parse(o);case"text":return(new TextDecoder).decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(e){const i={},r=e.withCredentials?"include":void 0;if(e.headers.forEach((o,s)=>i[o]=s.join(",")),e.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!e.headers.has("Content-Type")){const o=e.detectContentTypeHeader();null!==o&&(i["Content-Type"]=o)}return{body:e.serializeBody(),method:e.method,headers:i,credentials:r}}concatChunks(e,i){const r=new Uint8Array(i);let o=0;for(const s of e)r.set(s,o),o+=s.length;return r}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class Xfe{}function _x(){}function q3(n,t){return t(n)}function epe(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const npe=new ne(""),Dv=new ne(""),K3=new ne(""),Y3=new ne("",{providedIn:"root",factory:()=>!0});function ipe(){let n=null;return(t,e)=>{null===n&&(n=(F(npe,{optional:!0})??[]).reduceRight(epe,q3));const i=F(qc);if(F(Y3)){const o=i.add();return n(t,e).pipe(pp(()=>i.remove(o)))}return n(t,e)}}let Q3=(()=>{class n extends rI{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=F(qc),this.contributeToStability=F(Y3)}handle(e){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Dv),...this.injector.get(K3,[])]));this.chain=i.reduceRight((r,o)=>function tpe(n,t,e){return(i,r)=>Ts(e,()=>t(i,o=>n(o,r)))}(r,o,this.injector),q3)}if(this.contributeToStability){const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(pp(()=>this.pendingTasks.remove(i)))}return this.chain(e,i=>this.backend.handle(i))}static#e=this.\u0275fac=function(i){return new(i||n)($(oI),$(hr))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const cpe=/^\)\]\}',?\n/;let X3=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new se(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?jn(i.\u0275loadImpl()):Ge(null)).pipe(_i(()=>new Qt(o=>{const s=i.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((C,D)=>s.setRequestHeader(C,D.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const C=e.detectContentTypeHeader();null!==C&&s.setRequestHeader("Content-Type",C)}if(e.responseType){const C=e.responseType.toLowerCase();s.responseType="json"!==C?C:"text"}const a=e.serializeBody();let c=null;const l=()=>{if(null!==c)return c;const C=s.statusText||"OK",D=new ra(s.getAllResponseHeaders()),N=function lpe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return c=new aI({headers:D,status:s.status,statusText:C,url:N}),c},u=()=>{let{headers:C,status:D,statusText:N,url:k}=l(),j=null;204!==D&&(j=typeof s.response>"u"?s.responseText:s.response),0===D&&(D=j?200:0);let Y=D>=200&&D<300;if("json"===e.responseType&&"string"==typeof j){const me=j;j=j.replace(cpe,"");try{j=""!==j?JSON.parse(j):null}catch(we){j=me,Y&&(Y=!1,j={error:we,text:j})}}Y?(o.next(new Vd({body:j,headers:C,status:D,statusText:N,url:k||void 0})),o.complete()):o.error(new Ap({error:j,headers:C,status:D,statusText:N,url:k||void 0}))},p=C=>{const{url:D}=l(),N=new Ap({error:C,status:s.status||0,statusText:s.statusText||"Unknown Error",url:D||void 0});o.error(N)};let _=!1;const v=C=>{_||(o.next(l()),_=!0);let D={type:lu.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(D.total=C.total),"text"===e.responseType&&s.responseText&&(D.partialText=s.responseText),o.next(D)},b=C=>{let D={type:lu.UploadProgress,loaded:C.loaded};C.lengthComputable&&(D.total=C.total),o.next(D)};return s.addEventListener("load",u),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),e.reportProgress&&(s.addEventListener("progress",v),null!==a&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:lu.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",u),s.removeEventListener("timeout",p),e.reportProgress&&(s.removeEventListener("progress",v),null!==a&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static#e=this.\u0275fac=function(i){return new(i||n)($(oz))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();const vx=new ne(""),J3=new ne("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),e4=new ne("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class t4{}let hpe=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=KH(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(i){return new(i||n)($(yt),$(Jo),$(J3))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();function fpe(n,t){const e=n.url.toLowerCase();if(!F(vx)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=F(t4).getToken(),r=F(e4);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var uu=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(uu||{});function ppe(...n){const t=[cI,X3,Q3,{provide:rI,useExisting:Q3},{provide:oI,useFactory:()=>F(gx,{optional:!0})??F(X3)},{provide:Dv,useValue:fpe,multi:!0},{provide:vx,useValue:!0},{provide:t4,useClass:hpe}];for(const e of n)t.push(...e.\u0275providers);return function Wu(n){return{\u0275providers:n}}(t)}const n4=new ne("");function mpe(){return function Bd(n,t){return{\u0275kind:n,\u0275providers:t}}(uu.LegacyInterceptors,[{provide:n4,useFactory:ipe},{provide:Dv,useExisting:n4,multi:!0}])}let m4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({imports:[xn,xn]})}return n})();var Vt=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Vt||{});const ol="*";function sl(n,t){return{type:Vt.Trigger,name:n,definitions:t,options:{}}}function Vo(n,t=null){return{type:Vt.Animate,styles:t,timings:n}}function Ii(n){return{type:Vt.Style,styles:n,offset:null}}function Ma(n,t,e){return{type:Vt.State,name:n,styles:t,options:e}}function Bo(n,t,e=null){return{type:Vt.Transition,expr:n,animation:t,options:e}}class Av{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class g4{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Npe=["addListener","removeListener"],Ppe=["addEventListener","removeEventListener"],Fpe=["on","off"];function qi(n,t,e,i){if(De(e)&&(i=e,e=void 0),i)return qi(n,t,e).pipe(v1(i));const[r,o]=function Bpe(n){return De(n.addEventListener)&&De(n.removeEventListener)}(n)?Ppe.map(s=>a=>n[s](t,a,e)):function Lpe(n){return De(n.addListener)&&De(n.removeListener)}(n)?Npe.map(_4(n,t)):function Vpe(n){return De(n.on)&&De(n.off)}(n)?Fpe.map(_4(n,t)):[];if(!r&&g1(n))return Hr(s=>qi(s,t,e))(_r(n));if(!r)throw new TypeError("Invalid event target");return new Qt(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>o(a)})}function _4(n,t){return e=>i=>n[e](t,i)}const Rv={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Rv;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new vt(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Rv;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Rv;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class jpe extends KE{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Upe extends qE{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Rv.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(Rv.cancelAnimationFrame(e),t._scheduled=void 0)}});let Cx,zpe=1;const hI={};function v4(n){return n in hI&&(delete hI[n],!0)}const $pe={setImmediate(n){const t=zpe++;return hI[t]=!0,Cx||(Cx=Promise.resolve()),Cx.then(()=>v4(t)&&n()),t},clearImmediate(n){v4(n)}},{setImmediate:Gpe,clearImmediate:Wpe}=$pe,fI={setImmediate(...n){const{delegate:t}=fI;return(t?.setImmediate||Gpe)(...n)},clearImmediate(n){const{delegate:t}=fI;return(t?.clearImmediate||Wpe)(n)},delegate:void 0};new class Kpe extends KE{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class qpe extends qE{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=fI.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(fI.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function Tx(n=0,t,e=xhe){let i=-1;return null!=t&&(Bz(t)?e=t:i=t),new Qt(r=>{let o=function Zpe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function y4(n,t=Dp){return function Qpe(n){return Se((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const l=r;r=null,e.next(l)}s&&e.complete()},c=()=>{o=null,s&&e.complete()};t.subscribe(Le(e,l=>{i=!0,r=l,o||_r(n(l)).subscribe(o=Le(e,a,c))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>Tx(n,t))}let b4=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new I,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Qt(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(y4(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ge()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Rn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=au(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>qi(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)($($e),$(cr),$(yt,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pI=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new I,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(y4(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)($(cr),$($e),$(yt,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})(),Dx=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({imports:[Iv,Rp,Iv,Rp]})}return n})();class Sx{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class xv extends Sx{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class mI extends Sx{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class tme extends Sx{constructor(t){super(),this.element=t instanceof st?t.nativeElement:t}}class gI{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof xv?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof mI?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof tme?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class nme extends gI{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,c=this._document.createComment("dom-portal");a.parentNode.insertBefore(c,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{c.parentNode&&c.parentNode.replaceChild(a,c)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||un.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Mv=(()=>{class n extends gI{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new nt,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(P(Ff),P(fr),P(yt))};static#t=this.\u0275dir=ae({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[et]})}return n})(),Ov=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})();function as(...n){const t=nv(n),e=function Mle(n,t){return"number"==typeof _1(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?_r(i[0]):dp(e)(jn(i,t)):os}const w4=K$();class ime{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=vr(-this._previousScrollPosition.left),t.style.top=vr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),w4&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),w4&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class rme{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Rn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class E4{enable(){}disable(){}attach(){}}function Ax(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function I4(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class ome{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Ax(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let sme=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new E4,this.close=s=>new rme(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new ime(this._viewportRuler,this._document),this.reposition=s=>new ome(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)($(b4),$(pI),$($e),$(yt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class _I{constructor(t){if(this.scrollStrategy=new E4,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class ame{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let C4=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)($(yt))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cme=(()=>{class n extends C4{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)($(yt),$($e,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lme=(()=>{class n extends C4{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=hc(o)},this._clickListener=o=>{const s=hc(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const c=this._attachedOverlays.slice();for(let l=c.length-1;l>-1;l--){const u=c[l];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(T4(u.overlayElement,s)||T4(u.overlayElement,a))break;const p=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)($(yt),$(cr),$($e,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function T4(n,t){const e=typeof ShadowRoot<"u"&&ShadowRoot;let i=t;for(;i;){if(i===n)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}let vI=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Z1()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),Z1()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)($(yt),$(cr))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class yI{constructor(t,e,i,r,o,s,a,c,l,u=!1,p){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=u,this._injector=p,this._backdropElement=null,this._backdropClick=new I,this._attachments=new I,this._detachments=new I,this._locationChanges=vt.EMPTY,this._backdropClickHandler=_=>this._backdropClick.next(_),this._backdropTransitionendHandler=_=>{this._disposeBackdrop(_.target)},this._keydownEvents=new I,this._outsidePointerEvents=new I,this._renders=new I,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=Da(()=>DA(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),Zc(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=vr(this._config.width),t.height=vr(this._config.height),t.minWidth=vr(this._config.minWidth),t.minHeight=vr(this._config.minHeight),t.maxWidth=vr(this._config.maxWidth),t.maxHeight=vr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=QE(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const t=this._renders.pipe(mn(as(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const D4="cdk-overlay-connected-position-bounding-box",ume=/([A-Za-z%]+)$/;class dme{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new I,this._resizeSubscription=vt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(D4),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let c=this._getOriginPoint(t,r,a),l=this._getOverlayPoint(c,e,a),u=this._getOverlayFit(l,e,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,c);this._canFitWithFlexibleDimensions(u,l,i)?o.push({position:a,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:l,originPoint:c,position:a,overlayRect:e})}if(o.length){let a=null,c=-1;for(const l of o){const u=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);u>c&&(c=u,a=l)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&jd(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(D4),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?s:a}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=A4(e);let{x:s,y:a}=t,c=this._getOffset(r,"x"),l=this._getOffset(r,"y");c&&(s+=c),l&&(a+=l);let _=0-a,v=a+o.height-i.height,b=this._subtractOverflows(o.width,0-s,s+o.width-i.width),C=this._subtractOverflows(o.height,_,v),D=b*C;return{visibleArea:D,isCompletelyWithinViewport:o.width*o.height===D,fitsInViewportVertically:C===o.height,fitsInViewportHorizontally:b==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=S4(this._overlayRef.getConfig().minHeight),a=S4(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=s&&s<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=A4(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),c=Math.max(o.top-i.top-t.y,0),l=Math.max(o.left-i.left-t.x,0);let u=0,p=0;return u=r.width<=o.width?l||-s:t.x<this._viewportMargin?o.left-i.left-t.x:0,p=r.height<=o.height?c||-a:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:u,y:p},{x:t.x+u,y:t.y+p}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!function hme(n,t){return n===t||n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new ame(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,s,a,u,p,_;if("top"===e.overlayY)s=t.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const v=Math.min(i.bottom-t.y+i.top,t.y),b=this._lastBoundingBoxSize.height;o=2*v,s=t.y-v,o>b&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-b/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)_=i.width-t.x+2*this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)p=t.x,u=i.right-t.x;else{const v=Math.min(i.right-t.x+i.left,t.x),b=this._lastBoundingBoxSize.width;u=2*v,p=t.x-v,u>b&&!this._isInitialRender&&!this._growAfterOpen&&(p=t.x-b/2)}return{top:s,left:p,bottom:a,right:_,width:u,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=vr(i.height),r.top=vr(i.top),r.bottom=vr(i.bottom),r.width=vr(i.width),r.left=vr(i.left),r.right=vr(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=vr(o)),s&&(r.maxWidth=vr(s))}this._lastBoundingBoxSize=i,jd(this._boundingBox.style,r)}_resetBoundingBoxStyles(){jd(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){jd(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();jd(i,this._getExactOverlayY(e,t,u)),jd(i,this._getExactOverlayX(e,t,u))}else i.position="static";let a="",c=this._getOffset(e,"x"),l=this._getOffset(e,"y");c&&(a+=`translateX(${c}px) `),l&&(a+=`translateY(${l}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=vr(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=vr(s.maxWidth):o&&(i.maxWidth="")),jd(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=vr(o.y),r}_getExactOverlayX(t,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=vr(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:I4(t,i),isOriginOutsideView:Ax(t,i),isOverlayClipped:I4(e,i),isOverlayOutsideView:Ax(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&QE(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof st)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function jd(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function S4(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(ume);return e&&"px"!==e?null:parseFloat(t)}return n||null}function A4(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const R4="cdk-global-overlay-wrapper";class fme{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(R4),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,c=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,p=this._xOffset,_="rtl"===this._overlayRef.getConfig().direction;let v="",b="",C="";c?C="flex-start":"center"===u?(C="center",_?b=p:v=p):_?"left"===u||"end"===u?(C="flex-end",v=p):("right"===u||"start"===u)&&(C="flex-start",b=p):"left"===u||"start"===u?(C="flex-start",v=p):("right"===u||"end"===u)&&(C="flex-end",b=p),t.position=this._cssPosition,t.marginLeft=c?"0":v,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":b,e.justifyContent=C,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(R4),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let pme=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new fme}flexibleConnectedTo(e){return new dme(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)($(pI),$(yt),$(cr),$(vI))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mme=0,Or=(()=>{class n{constructor(e,i,r,o,s,a,c,l,u,p,_,v){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=c,this._document=l,this._directionality=u,this._location=p,this._outsideClickDispatcher=_,this._animationsModuleType=v}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new _I(e);return s.direction=s.direction||this._directionality.value,new yI(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(hr))}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+mme++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(xs)),new nme(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)($(sme),$(vI),$(Ff),$(pme),$(cme),$(un),$($e),$(yt),$(rl),$(Dd),$(lme),$(Xs,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const vme={provide:new ne("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=F(Or);return()=>n.scrollStrategies.reposition()}}),deps:[Or],useFactory:function _me(n){return()=>n.scrollStrategies.reposition()}};let Hd=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({providers:[Or,vme],imports:[Iv,Ov,Dx,Dx]})}return n})();const Eme={provide:new ne("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const n=F(Or);return()=>n.scrollStrategies.reposition()}}),deps:[Or],useFactory:function wme(n){return()=>n.scrollStrategies.reposition()}};let M4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({providers:[Eme],imports:[rs,tI,xn,Hd,Rp,xn]})}return n})();function Ime(n,t){}class bI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let O4=(()=>{class n extends gI{constructor(e,i,r,o,s,a,c,l){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=s,this._ngZone=a,this._overlayRef=c,this._focusMonitor=l,this._platform=F(cr),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=F(pr),this._injector=F(un),this._isDestroyed=!1,this.attachDomPortal=u=>{this._portalOutlet.hasAttached();const p=this._portalOutlet.attachDomPortal(u);return this._contentAttached(),p},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){const i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){this._isDestroyed||Zc(()=>{const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Q1(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Q1();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Q1()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||n)(P(st),P(p3),P(yt,8),P(bI),P(ox),P($e),P(yI),P(Ev))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&Yn(Mv,7),2&i){let o;Qe(o=Ze())&&(r._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&Lt("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[et,dn],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&dt(0,Ime,0,0,"ng-template",0)},dependencies:[Mv],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class Rx{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new I,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!su(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const k4=new ne("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=F(Or);return()=>n.scrollStrategies.block()}}),Cme=new ne("DialogData"),Tme=new ne("DefaultDialogConfig");let Sme=0,N4=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,o,s,a){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new I,this._afterOpenedAtThisLevel=new I,this._ariaHiddenElements=new Map,this.afterAllClosed=iv(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Os(void 0))),this._scrollStrategy=a}open(e,i){(i={...this._defaultOptions||new bI,...i}).id=i.id||"cdk-dialog-"+Sme++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),s=this._overlay.create(o),a=new Rx(s,i),c=this._attachContainer(s,a,i);return a.containerInstance=c,this._attachDialogContent(e,a,c,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.closed.subscribe(()=>this._removeOpenDialog(a,!0)),this.afterOpened.next(a),a}closeAll(){xx(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){xx(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),xx(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new _I({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,s=[{provide:bI,useValue:r},{provide:Rx,useValue:i},{provide:yI,useValue:e}];let a;r.container?"function"==typeof r.container?a=r.container:(a=r.container.type,s.push(...r.container.providers(r))):a=O4;const c=new xv(a,r.viewContainerRef,un.create({parent:o||this._injector,providers:s}),r.componentFactoryResolver);return e.attach(c).instance}_attachDialogContent(e,i,r,o){if(e instanceof Un){const s=this._createInjector(o,i,r,void 0);let a={$implicit:o.data,dialogRef:i};o.templateContext&&(a={...a,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new mI(e,null,a,s))}else{const s=this._createInjector(o,i,r,this._injector),a=r.attachComponentPortal(new xv(e,o.viewContainerRef,s,o.componentFactoryResolver));i.componentRef=a,i.componentInstance=a.instance}}_createInjector(e,i,r,o){const s=e.injector||e.viewContainerRef?.injector,a=[{provide:Cme,useValue:e.data},{provide:Rx,useValue:i}];return e.providers&&("function"==typeof e.providers?a.push(...e.providers(i,e,r)):a.push(...e.providers)),e.direction&&(!s||!s.get(rl,null,{optional:!0}))&&a.push({provide:rl,useValue:{value:e.direction,change:Ge()}}),un.create({parent:s||o,providers:a})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,s)=>{o?s.setAttribute("aria-hidden",o):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||n)($(Or),$(un),$(Tme,8),$(n,12),$(vI),$(k4))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xx(n,t){let e=n.length;for(;e--;)t(n[e])}let Ame=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({providers:[N4],imports:[Hd,Ov,w3,Ov]})}return n})();function Rme(n,t){}class Mx{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Ox="mdc-dialog--open",P4="mdc-dialog--opening",F4="mdc-dialog--closing";let L4=(()=>{class n extends O4{constructor(e,i,r,o,s,a,c,l,u){super(e,i,r,o,s,a,c,u),this._animationMode=l,this._animationStateChanged=new nt,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?B4(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?B4(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(V4,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(P4,Ox)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Ox),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Ox),this._animationsEnabled?(this._hostElement.style.setProperty(V4,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(F4)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(P4,F4)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(e){const i=super.attachComponentPortal(e);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static#e=this.\u0275fac=function(i){return new(i||n)(P(st),P(p3),P(yt,8),P(Mx),P(ox),P($e),P(yI),P(Xs,8),P(Ev))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){2&i&&(ar("id",r._config.id),Lt("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),St("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},standalone:!0,features:[et,dn],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(te(0,"div",0)(1,"div",1),dt(2,Rme,0,0,"ng-template",2),oe()())},dependencies:[Mv],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, var(--mat-app-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-app-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-app-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-app-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-app-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-app-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-app-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-app-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-app-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-app-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-app-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-app-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-app-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-app-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return n})();const V4="--mat-dialog-transition-duration";function B4(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?J$(n.substring(0,n.length-2)):n.endsWith("s")?1e3*J$(n.substring(0,n.length-1)):"0"===n?0:null}var wI=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(wI||{});class kx{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new I,this._beforeClosed=new I,this._state=wI.OPEN,this.disableClose=e.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(Rn(r=>"opened"===r.state),Mi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Rn(r=>"closed"===r.state),Mi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),as(this.backdropClick(),this.keydownEvents().pipe(Rn(r=>27===r.keyCode&&!this.disableClose&&!su(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function U4(n,t,e){return n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Rn(e=>"closing"===e.state),Mi(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=wI.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=wI.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const Ome=new ne("MatMdcDialogData"),kme=new ne("mat-mdc-dialog-default-options"),j4=new ne("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=F(Or);return()=>n.scrollStrategies.block()}});let Pme=0,Nx=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,o,s,a,c,l){this._overlay=e,this._defaultOptions=o,this._scrollStrategy=s,this._parentDialog=a,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new I,this._afterOpenedAtThisLevel=new I,this.dialogConfigClass=Mx,this.afterAllClosed=iv(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Os(void 0))),this._dialog=i.get(N4),this._dialogRefConstructor=kx,this._dialogContainerType=L4,this._dialogDataToken=Ome}open(e,i){let r;(i={...this._defaultOptions||new Mx,...i}).id=i.id||"mat-mdc-dialog-"+Pme++,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:bI,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(s,a,c)=>(r=new this._dialogRefConstructor(s,i,c),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:c},{provide:this._dialogDataToken,useValue:a.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=o.componentRef,r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const s=this.openDialogs.indexOf(r);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static#e=this.\u0275fac=function(i){return new(i||n)($(Or),$(un),$(Dd,8),$(kme,8),$(j4),$(n,12),$(vI),$(Xs,8))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({providers:[Nx],imports:[Ame,Hd,Ov,xn,xn]})}return n})(),Zme=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({imports:[Dx]})}return n})(),sG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({imports:[xn,Zme,xn]})}return n})(),aG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({imports:[rs,xn]})}return n})();class hge extends I{constructor(t=1/0,e=1/0,i=J1){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=e.now();let a=0;for(let c=1;c<i.length&&i[c]<=s;c+=2)a=c;a&&i.splice(0,a+1)}}}function Yx(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,function U3(n={}){const{connector:t=()=>new I,resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,c,l=0,u=!1,p=!1;const _=()=>{a?.unsubscribe(),a=void 0},v=()=>{_(),s=c=void 0,u=p=!1},b=()=>{const C=s;v(),C?.unsubscribe()};return Se((C,D)=>{l++,!p&&!u&&_();const N=c=c??t();D.add(()=>{l--,0===l&&!p&&!u&&(a=fx(b,r))}),N.subscribe(D),!s&&l>0&&(s=new fo({next:k=>N.next(k),error:k=>{p=!0,_(),a=fx(v,e,k),N.error(k)},complete:()=>{u=!0,_(),a=fx(v,i),N.complete()}}),_r(C).subscribe(s))})(o)}}({connector:()=>new hge(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}class fge{constructor(t){this._box=t,this._destroyed=new I,this._resizeSubject=new I,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Qt(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Rn(e=>e.some(i=>i.target===t)),Yx({bufferSize:1,refCount:!0}),mn(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let pge=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=F($e)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new fge(r)),this._observers.get(r).observe(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const mge=["notch"],gge=["matFormFieldNotchedOutline",""],_ge=["*"],vge=["textField"],yge=["iconPrefixContainer"],bge=["textPrefixContainer"],wge=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Ege=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Ige(n,t){1&n&&hn(0,"span",19)}function Cge(n,t){if(1&n&&(te(0,"label",18),$t(1,1),dt(2,Ige,1,0,"span",19),oe()),2&n){const e=lt(2);Jt("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Lt("for",e._control.disableAutomaticLabeling?null:e._control.id),Fe(2),zt(!e.hideRequiredMarker&&e._control.required?2:-1)}}function Tge(n,t){1&n&&dt(0,Cge,3,5,"label",18),2&n&&zt(lt()._hasFloatingLabel()?0:-1)}function Dge(n,t){1&n&&hn(0,"div",5)}function Sge(n,t){}function Age(n,t){1&n&&dt(0,Sge,0,0,"ng-template",11),2&n&&(lt(2),Jt("ngTemplateOutlet",Ca(1)))}function Rge(n,t){if(1&n&&(te(0,"div",7),dt(1,Age,1,1,null,11),oe()),2&n){const e=lt();Jt("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),Fe(),zt(e._forceDisplayInfixLabel()?-1:1)}}function xge(n,t){1&n&&(te(0,"div",8,2),$t(2,2),oe())}function Mge(n,t){1&n&&(te(0,"div",9,3),$t(2,3),oe())}function Oge(n,t){}function kge(n,t){1&n&&dt(0,Oge,0,0,"ng-template",11),2&n&&(lt(),Jt("ngTemplateOutlet",Ca(1)))}function Nge(n,t){1&n&&(te(0,"div",12),$t(1,4),oe())}function Pge(n,t){1&n&&(te(0,"div",13),$t(1,5),oe())}function Fge(n,t){1&n&&hn(0,"div",14)}function Lge(n,t){1&n&&(te(0,"div",16),$t(1,6),oe()),2&n&&Jt("@transitionMessages",lt()._subscriptAnimationState)}function Vge(n,t){if(1&n&&(te(0,"mat-hint",20),Ve(1),oe()),2&n){const e=lt(2);Jt("id",e._hintLabelId),Fe(),is(e.hintLabel)}}function Bge(n,t){if(1&n&&(te(0,"div",17),dt(1,Vge,2,2,"mat-hint",20),$t(2,7),hn(3,"div",21),$t(4,8),oe()),2&n){const e=lt();Jt("@transitionMessages",e._subscriptAnimationState),Fe(),zt(e.hintLabel?1:-1)}}let cG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ae({type:n,selectors:[["mat-label"]],standalone:!0})}return n})();const Uge=new ne("MatError");let jge=0,lG=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+jge++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ae({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(ar("id",r.id),Lt("align",null),St("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},standalone:!0})}return n})();const Hge=new ne("MatPrefix"),zge=new ne("MatSuffix"),uG=new ne("FloatingLabelParent");let dG=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=F(pge),this._ngZone=F($e),this._parent=F(uG),this._resizeSubscription=new vt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function $ge(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(P(st))};static#t=this.\u0275dir=ae({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&St("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return n})();const hG="mdc-line-ripple--active",SI="mdc-line-ripple--deactivating";let fG=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,s=o.contains(SI);"opacity"===r.propertyName&&s&&o.remove(hG,SI)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(SI),e.add(hG)}deactivate(){this._elementRef.nativeElement.classList.add(SI)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(P(st),P($e))};static#t=this.\u0275dir=ae({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return n})(),pG=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(P(st),P($e))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&Yn(mge,5),2&i){let o;Qe(o=Ze())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&St("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[dn],attrs:gge,ngContentSelectors:_ge,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(jr(),hn(0,"div",1),te(1,"div",2,0),$t(3),oe(),hn(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const Gge={transitionMessages:sl("transitionMessages",[Ma("enter",Ii({opacity:1,transform:"translateY(0%)"})),Bo("void => enter",[Ii({opacity:0,transform:"translateY(-5px)"}),Vo("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Qx=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ae({type:n})}return n})();const AI=new ne("MatFormField"),Wge=new ne("MAT_FORM_FIELD_DEFAULT_OPTIONS");let mG=0,Yge=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=YE(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,o,s,a,c,l){this._elementRef=e,this._changeDetectorRef=i,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=c,this._labelChild=ute(cG),this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+mG++,this._hintLabelId="mat-mdc-hint-"+mG++,this._subscriptAnimationState="",this._destroyed=new I,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._previousControl=null,this._injector=F(un),this.getLabelId=Cd(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=Cd(()=>!!this._labelChild()),a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){const i=this._control,r="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(r+e.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe(mn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),as(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),DA(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(mn(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return!!this._hasFloatingLabel()&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,s=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(i){return new(i||n)(P(st),P(pr),P($e),P(rl),P(cr),P(Wge,8),P(Xs,8),P(yt))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(PU(o,r._labelChild,cG,5),Zt(o,Qx,5),Zt(o,Hge,5),Zt(o,zge,5),Zt(o,Uge,5),Zt(o,lG,5)),2&i){let s;(function FU(n=1){A0(iS()+n)})(),Qe(s=Ze())&&(r._formFieldControl=s.first),Qe(s=Ze())&&(r._prefixChildren=s),Qe(s=Ze())&&(r._suffixChildren=s),Qe(s=Ze())&&(r._errorChildren=s),Qe(s=Ze())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(1&i&&(Yn(vge,5),Yn(yge,5),Yn(bge,5),Yn(dG,5),Yn(pG,5),Yn(fG,5)),2&i){let o;Qe(o=Ze())&&(r._textField=o.first),Qe(o=Ze())&&(r._iconPrefixContainer=o.first),Qe(o=Ze())&&(r._textPrefixContainer=o.first),Qe(o=Ze())&&(r._floatingLabel=o.first),Qe(o=Ze())&&(r._notchedOutline=o.first),Qe(o=Ze())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&St("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[bt([{provide:AI,useExisting:n},{provide:uG,useExisting:n}]),dn],ngContentSelectors:Ege,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(1&i){const o=eo();jr(wge),dt(0,Tge,1,1,"ng-template",null,0,Ta),te(2,"div",4,1),gt("click",function(a){return nr(o),ir(r._control.onContainerClick(a))}),dt(4,Dge,1,0,"div",5),te(5,"div",6),dt(6,Rge,2,2,"div",7)(7,xge,3,0,"div",8)(8,Mge,3,0,"div",9),te(9,"div",10),dt(10,kge,1,1,null,11),$t(11),oe(),dt(12,Nge,2,0,"div",12)(13,Pge,2,0,"div",13),oe(),dt(14,Fge,1,0,"div",14),oe(),te(15,"div",15),dt(16,Lge,2,1,"div",16)(17,Bge,5,2,"div",17),oe()}if(2&i){let o;Fe(2),St("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),Fe(2),zt(r._hasOutline()||r._control.disabled?-1:4),Fe(2),zt(r._hasOutline()?6:-1),Fe(),zt(r._hasIconPrefix?7:-1),Fe(),zt(r._hasTextPrefix?8:-1),Fe(2),zt(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),Fe(2),zt(r._hasTextSuffix?12:-1),Fe(),zt(r._hasIconSuffix?13:-1),Fe(),zt(r._hasOutline()?-1:14),Fe(),St("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),Fe(),zt("error"===(o=r._getDisplayedMessages())?16:"hint"===o?17:-1)}},dependencies:[dG,pG,ap,fG,lG],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-app-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-app-corner-extra-small-top))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-app-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-app-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-app-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-app-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-app-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-app-outline));border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-app-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-app-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-app-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-app-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-app-corner-extra-small)))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-app-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-app-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-app-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-app-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-app-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-app-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-app-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-app-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-app-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-app-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-app-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-app-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-app-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-app-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-app-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-app-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-app-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-app-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-app-body-large-weight))}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-app-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-app-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-app-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-app-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Gge.transitionMessages]},changeDetection:0})}return n})(),Fv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({imports:[xn,rs,X$,xn]})}return n})();const e_e={provide:new ne("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const n=F(Or);return()=>n.scrollStrategies.reposition()}}),deps:[Or],useFactory:function Jge(n){return()=>n.scrollStrategies.reposition()}};let vG=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({providers:[e_e],imports:[rs,Hd,nI,xn,Rp,Fv,nI,xn]})}return n})();const yG=Nd({passive:!0});let t_e=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return os;const i=au(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new I,s="cdk-text-field-autofilled",a=c=>{"cdk-text-field-autofill-start"!==c.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===c.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:c.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,yG),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",a,yG)}}),o}stopMonitoring(e){const i=au(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)($(cr),$($e))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),n_e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})();function du(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function EG(n){return null!=n&&"number"==typeof n.length}const to=new ne(""),hu=new ne(""),a_e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class IG{static min(t){return function CG(n){return t=>{if(du(t.value)||du(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function TG(n){return t=>{if(du(t.value)||du(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function DG(n){return du(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function SG(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function AG(n){return du(n.value)||a_e.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function RG(n){return t=>du(t.value)||!EG(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function xG(n){return t=>EG(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function MG(n){if(!n)return RI;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(du(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return LG(t)}static composeAsync(t){return VG(t)}}function RI(n){return null}function OG(n){return null!=n}function kG(n){return W_(n)?jn(n):n}function NG(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function PG(n,t){return t.map(e=>e(n))}function FG(n){return n.map(t=>function c_e(n){return!n.validate}(t)?t:e=>t.validate(e))}function LG(n){if(!n)return null;const t=n.filter(OG);return 0==t.length?null:function(e){return NG(PG(e,t))}}function Xx(n){return null!=n?LG(FG(n)):null}function VG(n){if(!n)return null;const t=n.filter(OG);return 0==t.length?null:function(e){return function B3(...n){const t=bE(n),{args:e,keys:i}=Uz(n),r=new Qt(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let u=0;u<s;u++){let p=!1;_r(e[u]).subscribe(Le(o,_=>{p||(p=!0,l--),a[u]=_},()=>c--,void 0,()=>{(!c||!p)&&(l||o.next(i?jz(i,a):a),o.complete())}))}});return t?r.pipe(v1(t)):r}(PG(e,t).map(kG)).pipe(Me(NG))}}function Jx(n){return null!=n?VG(FG(n)):null}function BG(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function UG(n){return n._rawValidators}function jG(n){return n._rawAsyncValidators}function eM(n){return n?Array.isArray(n)?n:[n]:[]}function xI(n,t){return Array.isArray(n)?n.includes(t):n===t}function HG(n,t){const e=eM(t);return eM(n).forEach(r=>{xI(e,r)||e.push(r)}),e}function zG(n,t){return eM(t).filter(e=>!xI(n,e))}class $G{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Xx(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Jx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Uo extends $G{get formDirective(){return null}get path(){return null}}class pc extends $G{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class GG{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let WG=(()=>{class n extends GG{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(P(Uo,10))};static#t=this.\u0275dir=ae({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&St("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[et]})}return n})();const Lv="VALID",OI="INVALID",Op="PENDING",Vv="DISABLED";class kp{}class KG extends kp{constructor(t,e){super(),this.value=t,this.source=e}}class iM extends kp{constructor(t,e){super(),this.pristine=t,this.source=e}}class rM extends kp{constructor(t,e){super(),this.touched=t,this.source=e}}class kI extends kp{constructor(t,e){super(),this.status=t,this.source=e}}class p_e extends kp{constructor(t){super(),this.source=t}}class m_e extends kp{constructor(t){super(),this.source=t}}function oM(n){return(NI(n)?n.validators:n)||null}function sM(n,t){return(NI(t)?t.asyncValidators:n)||null}function NI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class aM{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Cd(()=>this.statusReactive()),this.statusReactive=Lf(void 0),this._pristine=Cd(()=>this.pristineReactive()),this.pristineReactive=Lf(!0),this._touched=Cd(()=>this.touchedReactive()),this.touchedReactive=Lf(!1),this._events=new I,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Da(this.statusReactive)}set status(t){Da(()=>this.statusReactive.set(t))}get valid(){return this.status===Lv}get invalid(){return this.status===OI}get pending(){return this.status==Op}get disabled(){return this.status===Vv}get enabled(){return this.status!==Vv}get pristine(){return Da(this.pristineReactive)}set pristine(t){Da(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return Da(this.touchedReactive)}set touched(t){Da(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(HG(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(HG(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(zG(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(zG(t,this._rawAsyncValidators))}hasValidator(t){return xI(this._rawValidators,t)}hasAsyncValidator(t){return xI(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){const e=!1===this.touched;this.touched=!0;const i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched({...t,sourceControl:i}),e&&!1!==t.emitEvent&&this._events.next(new rM(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){const e=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&!1!==t.emitEvent&&this._events.next(new rM(!1,i))}markAsDirty(t={}){const e=!0===this.pristine;this.pristine=!1;const i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty({...t,sourceControl:i}),e&&!1!==t.emitEvent&&this._events.next(new iM(!1,i))}markAsPristine(t={}){const e=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&!1!==t.emitEvent&&this._events.next(new iM(!0,i))}markAsPending(t={}){this.status=Op;const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new kI(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending({...t,sourceControl:e})}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Vv,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue();const i=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new KG(this.value,i)),this._events.next(new kI(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Lv,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lv||this.status===Op)&&this._runAsyncValidator(i,t.emitEvent)}const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new KG(this.value,e)),this._events.next(new kI(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity({...t,sourceControl:e})}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vv:Lv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Op,this._hasOwnPendingAsyncValidator={emitEvent:!1!==e};const i=kG(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent,this,e.shouldHaveEmitted)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new kI(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new nt,this.statusChanges=new nt}_calculateStatus(){return this._allControlsDisabled()?Vv:this.errors?OI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Op)?Op:this._anyControlsHaveStatus(OI)?OI:Lv}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){const i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new iM(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new rM(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){NI(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function g_e(n){return Array.isArray(n)?Xx(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function __e(n){return Array.isArray(n)?Jx(n):n||null}(this._rawAsyncValidators)}}class cM extends aM{constructor(t,e,i){super(oM(e),sM(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){(function QG(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new se(1002,"")})})(this,0,t),Object.keys(t).forEach(i=>{(function YG(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new se(1e3,"");if(!i[e])throw new se(1001,"")})(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Np=new ne("CallSetDisabledState",{providedIn:"root",factory:()=>PI}),PI="always";function Bv(n,t,e=PI){lM(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function b_e(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ZG(n,t)})}(n,t),function E_e(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function w_e(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ZG(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function y_e(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function LI(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),BI(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function VI(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function lM(n,t){const e=UG(n);null!==t.validator?n.setValidators(BG(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=jG(n);null!==t.asyncValidator?n.setAsyncValidators(BG(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();VI(t._rawValidators,r),VI(t._rawAsyncValidators,r)}function BI(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=UG(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=jG(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return VI(t._rawValidators,i),VI(t._rawAsyncValidators,i),e}function ZG(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function XG(n,t){lM(n,t)}function JG(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const S_e={provide:Uo,useExisting:vn(()=>Pp)},Uv=Promise.resolve();let Pp=(()=>{class n extends Uo{get submitted(){return Da(this.submittedReactive)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=Cd(()=>this.submittedReactive()),this.submittedReactive=Lf(!1),this._directives=new Set,this.ngSubmit=new nt,this.form=new cM({},Xx(e),Jx(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Uv.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Bv(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Uv.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Uv.then(()=>{const i=this._findContainer(e.path),r=new cM({});XG(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Uv.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Uv.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),JG(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(P(to,10),P(hu,10),P(Np,8))};static#t=this.\u0275dir=ae({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&gt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bt([S_e]),et]})}return n})();function e8(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function t8(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const n8=class extends aM{constructor(t=null,e,i){super(oM(e),sM(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),NI(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=t8(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){e8(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){e8(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){t8(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};Promise.resolve();let a8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ae({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const F_e={provide:Uo,useExisting:vn(()=>jv)};let jv=(()=>{class n extends Uo{get submitted(){return Da(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=Cd(()=>this._submittedReactive()),this._submittedReactive=Lf(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new nt,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(BI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Bv(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){LI(e.control||null,e,!1),function D_e(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),JG(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new p_e(this.control)),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new m_e(this.form))}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(LI(i||null,e),(n=>n instanceof n8)(r)&&(Bv(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);XG(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function I_e(n,t){return BI(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lM(this.form,this),this._oldForm&&BI(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(P(to,10),P(hu,10),P(Np,8))};static#t=this.\u0275dir=ae({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&gt("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bt([F_e]),et,xi]})}return n})(),eve=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})(),Fp=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Np,useValue:e.callSetDisabledState??PI}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({imports:[eve]})}return n})();const nve=new ne("MAT_INPUT_VALUE_ACCESSOR"),ive=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let rve=0,ove=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=YE(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(IG.required)??!1}set required(e){this._required=YE(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&q$().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._ensureWheelDefaultBehavior()}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=YE(e)}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,i,r,o,s,a,c,l,u,p){this._elementRef=e,this._platform=i,this.ngControl=r,this._autofillMonitor=l,this._ngZone=u,this._formField=p,this._uid="mat-input-"+rve++,this._webkitBlinkWheelListenerAttached=!1,this.focused=!1,this.stateChanges=new I,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(b=>q$().has(b)),this._iOSKeyupListener=b=>{const C=b.target;!C.value&&0===C.selectionStart&&0===C.selectionEnd&&(C.setSelectionRange(1,1),C.setSelectionRange(0,0))},this._webkitBlinkWheelListener=()=>{};const _=this._elementRef.nativeElement,v=_.nodeName.toLowerCase();this._inputValueAccessor=c||_,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&u.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new ax(a,r,s,o,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===v,this._isTextarea="textarea"===v,this._isInFormField=!!p,this._isNativeSelect&&(this.controlType=_.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener),this._webkitBlinkWheelListenerAttached&&this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){ive.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_ensureWheelDefaultBehavior(){!this._webkitBlinkWheelListenerAttached&&"number"===this._type&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("wheel",this._webkitBlinkWheelListener)}),this._webkitBlinkWheelListenerAttached=!0),this._webkitBlinkWheelListenerAttached&&"number"!==this._type&&(this._elementRef.nativeElement.removeEventListener("wheel",this._webkitBlinkWheelListener),this._webkitBlinkWheelListenerAttached=!0)}static#e=this.\u0275fac=function(i){return new(i||n)(P(st),P(cr),P(pc,10),P(Pp,8),P(jv,8),P(cx),P(nve,10),P(t_e),P($e),P(AI,8))};static#t=this.\u0275dir=ae({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&gt("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(ar("id",r.id)("disabled",r.disabled)("required",r.required),Lt("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),St("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[bt([{provide:Qx,useExisting:n}]),xi]})}return n})(),D8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({imports:[xn,Fv,Fv,n_e,xn]})}return n})();function sve(n,t){if(1&n){const e=eo();te(0,"div",1)(1,"button",2),gt("click",function(){return nr(e),ir(lt().action())}),Ve(2),oe()()}if(2&n){const e=lt();Fe(2),ea(" ",e.data.action," ")}}const ave=["label"];function cve(n,t){}const lve=Math.pow(2,31)-1;class vM{constructor(t,e){this._overlayRef=e,this._afterDismissed=new I,this._afterOpened=new I,this._onAction=new I,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,lve))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const S8=new ne("MatSnackBarData");class UI{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let A8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ae({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return n})(),R8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ae({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return n})(),x8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ae({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return n})(),M8=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(i){return new(i||n)(P(vM),P(S8))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[dn],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){1&i&&(te(0,"div",0),Ve(1),oe(),dt(2,sve,3,1,"div",1)),2&i&&(Fe(),ea(" ",r.data.message,"\n"),Fe(),zt(r.hasAction?2:-1))},dependencies:[dx,A8,R8,x8],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return n})();const uve={snackBarState:sl("state",[Ma("void, hidden",Ii({transform:"scale(0.8)",opacity:0})),Ma("visible",Ii({transform:"scale(1)",opacity:1})),Bo("* => visible",Vo("150ms cubic-bezier(0, 0, 0.2, 1)")),Bo("* => void, * => hidden",Vo("75ms cubic-bezier(0.4, 0.0, 1, 1)",Ii({opacity:0})))])};let dve=0,O8=(()=>{class n extends gI{constructor(e,i,r,o,s){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=s,this._document=F(yt),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new I,this._onExit=new I,this._onEnter=new I,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+dve++,this.attachDomPortal=a=>{this._assertNotAttached();const c=this._portalOutlet.attachDomPortal(a);return this._afterPortalAttached(),c},this._live="assertive"!==s.politeness||s.announcementMessage?"off"===s.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(s=>e.classList.add(s)):e.classList.add(i)),this._exposeToModals();const r=this._label.nativeElement,o="mdc-snackbar__label";r.classList.toggle(o,!r.querySelector(`.${o}`))}_exposeToModals(){const e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const o=i[r],s=o.getAttribute("aria-owns");this._trackedModals.add(o),s?-1===s.indexOf(e)&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const i=e.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(i){return new(i||n)(P($e),P(st),P(pr),P(cr),P(UI))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(1&i&&(Yn(Mv,7),Yn(ave,7)),2&i){let o;Qe(o=Ze())&&(r._portalOutlet=o.first),Qe(o=Ze())&&(r._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(i,r){1&i&&uR("@state.done",function(s){return r.onAnimationEnd(s)}),2&i&&aR("@state",r._animationState)},standalone:!0,features:[et,dn],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(te(0,"div",1)(1,"div",2,0)(3,"div",3),dt(4,cve,0,0,"ng-template",4),oe(),hn(5,"div"),oe()()),2&i&&(Fe(5),Lt("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[Mv],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-app-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-app-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-app-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-app-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-app-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-app-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color, var(--mat-app-inverse-primary));--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[uve.snackBarState]}})}return n})();const fve=new ne("mat-snack-bar-default-options",{providedIn:"root",factory:function hve(){return new UI}});let k8=(()=>{class n{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,i,r,o,s,a){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=s,this._defaultConfig=a,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=M8,this.snackBarContainerComponent=O8,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=un.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:UI,useValue:i}]}),s=new xv(this.snackBarContainerComponent,i.viewContainerRef,o),a=e.attach(s);return a.instance.snackBarConfig=i,a.instance}_attach(e,i){const r={...new UI,...this._defaultConfig,...i},o=this._createOverlay(r),s=this._attachSnackBarContainer(o,r),a=new vM(s,o);if(e instanceof Un){const c=new mI(e,null,{$implicit:r.data,snackBarRef:a});a.instance=s.attachTemplatePortal(c)}else{const c=this._createInjector(r,a),l=new xv(e,void 0,c),u=s.attachComponentPortal(l);a.instance=u.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(mn(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),r.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new _I;i.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,s="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,a=!s&&"center"!==e.horizontalPosition;return s?r.left("0"):a?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return un.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:vM,useValue:i},{provide:S8,useValue:e.data}]})}static#e=this.\u0275fac=function(i){return new(i||n)($(Or),$(afe),$(un),$(ix),$(n,12),$(fve))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),N8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({providers:[k8],imports:[Hd,Ov,hx,xn,M8,xn]})}return n})();const jI=new ne("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})});let H8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({providers:[cx,{provide:jI,useValue:{separatorKeyCodes:[13]}}],imports:[xn,tI,xn]})}return n})();const jve={provide:new ne("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const n=F(Or);return()=>n.scrollStrategies.reposition()}}),deps:[Or],useFactory:function Uve(n){return()=>n.scrollStrategies.reposition()}};let W8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({providers:[jve],imports:[Hd,nI,xn,rs,Rp,nI,xn]})}return n})();const zve=["*"],Wve=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],qve=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Kve=new ne("MAT_CARD_CONFIG");let q8=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}static#e=this.\u0275fac=function(i){return new(i||n)(P(Kve,8))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&St("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[dn],ngContentSelectors:zve,decls:1,vars:0,template:function(i,r){1&i&&(jr(),$t(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),K8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ae({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}return n})(),Y8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ae({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}return n})(),Q8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=ae({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}return n})(),Z8=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Dt({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[dn],ngContentSelectors:qve,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){1&i&&(jr(Wve),$t(0),te(1,"div",0),$t(2,1),oe(),$t(3,2))},encapsulation:2,changeDetection:0})}return n})(),CM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({imports:[xn,rs,xn]})}return n})();const Zve=[k3,m4,M4,$4,sG,aG,Fv,vG,hx,D8,N8,H8,W8,CM];let Bp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({imports:[Zve,k3,m4,M4,$4,sG,aG,Fv,vG,hx,D8,N8,H8,W8,CM]})}return n})(),Xve=(()=>{class n{constructor(e){this.meta=e,this._age=0}ngOnInit(){const e=new Date(2003,12,1),i=new Date;this._age=i.getFullYear()-e.getFullYear();const r=i.getMonth()-e.getMonth();(r<0||0===r&&i.getDate()<e.getDate())&&this._age--,this.meta.addTags([{name:"title",content:"Rico Vossestein - About me"},{name:"description",content:"Rico Vossestein is an"+this._age+" year old HBO-ICT student at the Hogeschool Utrecht. He is a front-end developer and has a passion for web development."},{name:"keywords",content:"Rico Vossestein, student, webdeveloper, front-end"}])}static#e=this.\u0275fac=function(i){return new(i||n)(P(Dz))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["app-about"]],standalone:!0,features:[dn],decls:122,vars:1,consts:[[1,"about"],[1,"cards"]],template:function(i,r){1&i&&(te(0,"div")(1,"div",0)(2,"div")(3,"h1"),Ve(4,"About"),te(5,"a"),Ve(6,"."),oe()(),te(7,"p"),Ve(8,"Welcome to my portfolio! I'm glad you're here."),oe(),te(9,"p"),Ve(10),oe(),te(11,"p"),Ve(12,"This portfolio showcases the projects that have contributed to my growth as a developer. It reflects my commitment to merging aesthetics with functionality in web design."),oe(),te(13,"p"),Ve(14,"I approach my work with a continuous thirst for knowledge. I stay updated with the latest web technologies and strive to refine my skills in design and coding."),oe(),te(15,"p"),Ve(16,"Join me on this journey as we explore the ever-changing digital landscape. Together, we can push the boundaries of what can be achieved and create remarkable digital solutions."),oe(),te(17,"p"),Ve(18,"Thank you for visiting, and I hope you find inspiration in my work!"),oe()(),te(19,"h2"),Ve(20,"School"),oe(),te(21,"div",1)(22,"mat-card")(23,"mat-card-header")(24,"mat-card-subtitle"),Ve(25,"2015 - 2020"),oe(),te(26,"mat-card-title"),Ve(27,"Havo"),oe()(),te(28,"mat-card-content")(29,"p"),Ve(30,"Natuur & Techniek"),oe(),te(31,"P"),Ve(32,"Veenlanden College"),oe()()(),te(33,"mat-card")(34,"mat-card-header")(35,"mat-card-subtitle"),Ve(36,"2020 - 2024"),oe(),te(37,"mat-card-title"),Ve(38,"HBO"),oe()(),te(39,"mat-card-content")(40,"p"),Ve(41,"HBO-ICT Software development"),oe(),te(42,"P"),Ve(43,"Hogeschool utrecht"),oe()()(),te(44,"mat-card")(45,"mat-card-header")(46,"mat-card-subtitle"),Ve(47,"2023 - 2024"),oe(),te(48,"mat-card-title"),Ve(49,"Minor"),oe()(),te(50,"mat-card-content")(51,"p"),Ve(52,"E-marketing & Social media"),oe(),te(53,"P"),Ve(54,"Hogeschool utrecht"),oe()()()(),te(55,"h2"),Ve(56,"Skills"),oe(),te(57,"div",1)(58,"mat-card")(59,"mat-card-header")(60,"mat-card-subtitle"),Ve(61,"2020 - Now"),oe(),te(62,"mat-card-title"),Ve(63,"Front-end"),oe()(),te(64,"mat-card-content")(65,"p"),Ve(66,"HTML, CSS, Javascript, Angular, React, Flutter"),oe()()(),te(67,"mat-card")(68,"mat-card-header")(69,"mat-card-subtitle"),Ve(70,"2020 - Now"),oe(),te(71,"mat-card-title"),Ve(72,"Back-end"),oe()(),te(73,"mat-card-content")(74,"p"),Ve(75,"Java, Python, C#"),oe()()(),te(76,"mat-card")(77,"mat-card-header")(78,"mat-card-subtitle"),Ve(79,"2020 - Now"),oe(),te(80,"mat-card-title"),Ve(81,"Design"),oe()(),te(82,"mat-card-content")(83,"p"),Ve(84,"Figma"),oe()()()(),te(85,"h2"),Ve(86,"Experience"),oe(),te(87,"div",1)(88,"mat-card")(89,"mat-card-header")(90,"mat-card-subtitle"),Ve(91,"2022 - 2023"),oe(),te(92,"mat-card-title"),Ve(93,"Internship"),oe()(),te(94,"mat-card-content")(95,"p"),Ve(96,"Front-end developer"),oe(),te(97,"P"),Ve(98,"Advisor Software Solutions"),oe()()(),te(99,"mat-card")(100,"mat-card-header")(101,"mat-card-subtitle"),Ve(102,"2024 - 2024"),oe(),te(103,"mat-card-title"),Ve(104,"Internship"),oe()(),te(105,"mat-card-content")(106,"p"),Ve(107,"Software developer"),oe(),te(108,"P"),Ve(109,"HoorayHR"),oe()()()(),te(110,"h2"),Ve(111,"Socials"),oe(),te(112,"div",1)(113,"mat-card")(114,"mat-card-header")(115,"mat-card-title"),Ve(116,"Instagram"),oe()(),te(117,"mat-card-content")(118,"p"),Ve(119,"Follow me on Instagram"),oe(),te(120,"P"),Ve(121,"@ricovossestein"),oe()()()()()()),2&i&&(Fe(10),ea("I am a ",r._age,"-year-old software developer from Wilnis, just graduated at Hogeschool Utrecht. My focus is on front-end development, and I'm passionate about creating engaging user experiences."))},dependencies:[CM,q8,Y8,Z8,Q8,K8],styles:["h1[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:400;font-size:2.5rem}h2[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:400;font-size:1.5rem}p[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-size:1rem}mat-card[_ngcontent-%COMP%]{background:#fff;margin-bottom:20px;width:350px;font-family:Lato,sans-serif}mat-card-title[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:400;font-size:1.2rem;border-bottom:#FB8500 solid 1px}a[_ngcontent-%COMP%]{color:#fb8500!important;font-family:Poppins,sans-serif;font-weight:400;font-size:2.5rem}.about[_ngcontent-%COMP%]{margin-left:10vw}.cards[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;margin-right:10vw}@media only screen and (max-width: 600px){.about[_ngcontent-%COMP%]{margin-right:10vw}.cards[_ngcontent-%COMP%]{margin-right:0vw}}"]})}return n})(),Jve=(()=>{class n{constructor(e){this.http=e}sendEmail(e){return this.http.post("https://formspree.io/f/xwkdenle",e)}static#e=this.\u0275fac=function(i){return new(i||n)($(cI))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),X8=(()=>{class n{constructor(e,i){this._contactService=e,this._snackBar=i,this.email="",this.message=""}openMail(){window.open("mailto:ricovossestein@gmail.com?subject=Contact%20from%20website")}openInstagram(){window.open("http://ig.me/m/ricovossestein")}sendEmail(e){const i={email:e.target.email.value,message:e.target.message.value};if(new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(i.email))return this._contactService.sendEmail(i).subscribe(o=>{console.log(o)}),void this._snackBar.open("Email sent successfully","Close",{duration:1e4,panelClass:["green-snackbar"]});this._snackBar.open(""!==i.email&&""!==i.message?"Invalid email":"Email and message are required","Close",{duration:1e4,panelClass:["red-snackbar"]})}static#e=this.\u0275fac=function(i){return new(i||n)(P(Jve),P(k8))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["app-contact"]],decls:21,vars:0,consts:[[1,"contact-container"],[1,"photo"],[1,"contact-info"],[3,"ngSubmit"],["matInput","","type","email","name","email","placeholder","email"],["matInput","","name","message","id","message","placeholder","message"],["mat-raised-button","","type","submit","color","primary"],[1,"socials"],["mat-fab","","color","accent",3,"click"],["src","../../assets/instagram.svg","alt","instagram"],["src","../../assets/email.svg","alt","email"]],template:function(i,r){1&i&&(te(0,"div",0),hn(1,"div",1),te(2,"div",2)(3,"h1"),Ve(4,"Contact"),te(5,"a"),Ve(6,"."),oe()(),te(7,"p"),Ve(8,"Feel free to contact me with any questions or comments."),oe(),te(9,"form",3),gt("ngSubmit",function(s){return r.sendEmail(s)}),te(10,"mat-form-field"),hn(11,"input",4),oe(),te(12,"mat-form-field"),hn(13,"textarea",5),oe(),te(14,"button",6),Ve(15,"Send"),oe()(),te(16,"div",7)(17,"button",8),gt("click",function(){return r.openInstagram()}),hn(18,"img",9),oe(),te(19,"button",8),gt("click",function(){return r.openMail()}),hn(20,"img",10),oe()()()())},dependencies:[a8,WG,Pp,Yge,dx,Vfe,ove],styles:["h1[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:400;font-size:2.5rem}h2[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:400;font-size:1.5rem}a[_ngcontent-%COMP%]{color:#fb8500!important;font-family:Poppins,sans-serif;font-weight:400;font-size:2.5rem}.contact-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin-right:10vw}.photo[_ngcontent-%COMP%]{width:30vw;margin-left:10vw;margin-right:5vw;margin-top:5vh;height:70vh;background-color:#fb8500}.contact-info[_ngcontent-%COMP%]{width:55vw;height:100%;margin-top:5vh}.contact-info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%}.contact-info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:30vw}.contact-info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff!important;border:none;width:30vw}.contact-info[_ngcontent-%COMP%]   .socials[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:20vw;margin-top:5vh;margin-right:5vw;margin-left:5vw}@media only screen and (max-width: 600px){.contact-container[_ngcontent-%COMP%]{flex-direction:column;margin-right:0}.photo[_ngcontent-%COMP%]{width:0vw;margin-left:0;margin-right:0;margin-top:0;height:0vh}.contact-info[_ngcontent-%COMP%]{margin-left:10vw;margin-right:10vw;width:80vw;height:100%;margin-top:0}.contact-info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;height:100%}.contact-info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:80vw}.contact-info[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff!important;border:none;width:80vw}.contact-info[_ngcontent-%COMP%]   .socials[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:70vw;margin-top:5vh;margin-right:5vw;margin-left:5vw}}"]})}return n})(),eye=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Dt({type:n,selectors:[["app-portfolio"]],decls:2,vars:0,template:function(i,r){1&i&&(te(0,"p"),Ve(1,"portfolio works!"),oe())}})}return n})(),TM=(()=>{class n{constructor(e){this.meta=e}ngOnInit(){this.meta.addTags([{name:"title",content:"Rico Vossestein - Front-end developer"},{name:"description",content:"The portfolio of front-end developer Rico Vossestein. An 19 year old HBO-ICT student at the Hogeschool Utrecht."},{name:"keywords",content:"Rico Vossestein, portfolio, developer, front-end"}])}static#e=this.\u0275fac=function(i){return new(i||n)(P(Dz))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["app-home"]],decls:11,vars:0,consts:[[1,"introduction"],[1,"introduction-line"],[1,"introduction-name"],[1,"photo"]],template:function(i,r){1&i&&(te(0,"div",0)(1,"h1"),Ve(2,"Hi,"),oe(),te(3,"div",1)(4,"h1"),Ve(5,"I am"),oe(),te(6,"h1",2),Ve(7,"Rico"),oe()(),te(8,"h3"),Ve(9,"Welcome to my portfolio"),oe()(),hn(10,"div",3))},styles:[".introduction[_ngcontent-%COMP%]{margin-top:25vh;margin-bottom:20px;margin-left:10vh;display:flex;flex-direction:column;align-items:flex-start;line-height:0}.introduction[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000;font-family:Poppins,sans-serif;font-weight:600;font-size:4.5rem;margin-right:10px}.introduction[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#000;font-family:Lato,sans-serif;font-weight:200;font-size:1.5rem}.introduction[_ngcontent-%COMP%]   .introduction-name[_ngcontent-%COMP%]{color:#fb8500}.introduction[_ngcontent-%COMP%]   .introduction-line[_ngcontent-%COMP%]{display:flex;flex-direction:row}.photo[_ngcontent-%COMP%]   .jagged-top[_ngcontent-%COMP%]{stroke:#fff;stroke-width:4;transition:1s}@media only screen and (max-width: 600px){.introduction[_ngcontent-%COMP%]{margin-top:10vh;margin-bottom:20px;margin-left:10vh;display:flex;flex-direction:column;align-items:flex-start;line-height:0}.introduction[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#000;font-family:Poppins,sans-serif;font-weight:600;font-size:2.5rem;margin-right:10px}.introduction[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#000;font-family:Poppins,sans-serif;font-weight:200;font-size:1rem}.introduction[_ngcontent-%COMP%]   .introduction-name[_ngcontent-%COMP%]{color:#fb8500}.introduction[_ngcontent-%COMP%]   .introduction-line[_ngcontent-%COMP%]{display:flex;flex-direction:row}.photo[_ngcontent-%COMP%]   .jagged-top[_ngcontent-%COMP%]{stroke:#fff;stroke-width:4;transition:1s}}"]})}return n})();var $I,tye=new Uint8Array(16);function nye(){if(!$I&&!($I=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $I(tye)}const iye=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var no=[],DM=0;DM<256;++DM)no.push((DM+256).toString(16).substr(1));const aye=function sye(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(no[n[t+0]]+no[n[t+1]]+no[n[t+2]]+no[n[t+3]]+"-"+no[n[t+4]]+no[n[t+5]]+"-"+no[n[t+6]]+no[n[t+7]]+"-"+no[n[t+8]]+no[n[t+9]]+"-"+no[n[t+10]]+no[n[t+11]]+no[n[t+12]]+no[n[t+13]]+no[n[t+14]]+no[n[t+15]]).toLowerCase();if(!function rye(n){return"string"==typeof n&&iye.test(n)}(e))throw TypeError("Stringified UUID is invalid");return e},lye=function cye(n,t,e){var i=(n=n||{}).random||(n.rng||nye)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){e=e||0;for(var r=0;r<16;++r)t[e+r]=i[r];return t}return aye(i)};var mc=_t(852);(0,mc.registerVersion)("firebase","10.13.0","app");const pye=new class fye extends KE{}(class hye extends qE{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(t,e,i):(t.flush(this),0)}}),Hv=new Jl("ANGULARFIRE2_VERSION");class SM{constructor(){return(n=>{const e=(0,mc.getApps)(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i})(gye)}}const gye="app-check";function Up(){}class J8{zone;delegate;constructor(t,e=pye){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{t.apply(this,[s])})},e,i)}}class _ye{zone;task=null;constructor(t){this.zone=t}call(t,e){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Up,{},Up,Up)),e.pipe(Hi({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let AM=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new J8(Zone.current)),this.insideAngular=e.run(()=>new J8(Zone.current,Dp)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)($($e))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jp(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function e5(n){return n.pipe(nu(jp().outsideAngular))}function jo(n){return function yye(n){return function(e){return(e=e.lift(new _ye(n.ngZone))).pipe(up(n.outsideAngular),nu(n.insideAngular))}}(jp())(n)}var Oa=_t(345);Oa.A.registerVersion("firebase","10.13.0","app-compat");const Iye=["ngOnDestroy"];class t5{constructor(t){return t}}const zv=new ne("angularfire2.app.options"),$v=new ne("angularfire2.app.name");function GI(n,t,e){const r="object"==typeof e&&e||{};r.name=r.name||"string"==typeof e&&e||"[DEFAULT]";const s=Oa.A.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>Oa.A.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){const a=!!module.hot;Dye("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new t5(s)}const Dye=(n,...t)=>{},Sye={provide:t5,useFactory:GI,deps:[zv,$e,[new qa,$v]]};let Aye=(()=>{class n{static initializeApp(e,i){return{ngModule:n,providers:[{provide:zv,useValue:e},{provide:$v,useValue:i}]}}constructor(e){Oa.A.registerVersion("angularfire",Hv.full,"core"),Oa.A.registerVersion("angularfire",Hv.full,"app-compat"),Oa.A.registerVersion("angular",eoe.full,e.toString())}static \u0275fac=function(i){return new(i||n)($(Jo))};static \u0275mod=We({type:n});static \u0275inj=qe({providers:[Sye]})}return n})();function RM(n,t,e,i,r){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return function Rye(n,t){try{return n.toString()===t.toString()}catch{return n===t}}(r,s)||(n5("error",`${t} was already initialized on the ${e} Firebase App with different settings.${xye?" You may need to reload as Firebase is not HMR aware.":""}`),n5("warn",{is:r,was:s})),o;{const a=i();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}const xye=typeof module<"u"&&!!module.hot,n5=(n,...t)=>{};globalThis.\u0275AngularfireInstanceCache||=[];var sn=_t(76),WI=_t(362);const r5="firebasestorage.googleapis.com",o5="storageBucket";class zi extends sn.g{constructor(t,e,i=0){super(xM(t),`Firebase Storage: ${e} (${xM(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,zi.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return xM(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Oi=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(Oi||{});function xM(n){return"storage/"+n}function MM(){return new zi(Oi.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function s5(){return new zi(Oi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function a5(){return new zi(Oi.CANCELED,"User canceled the upload/download.")}function c5(){return new zi(Oi.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Hp(n){return new zi(Oi.INVALID_ARGUMENT,n)}function l5(){return new zi(Oi.APP_DELETED,"The Firebase app was deleted.")}function u5(n){return new zi(Oi.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Gv(n,t){return new zi(Oi.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function Wv(n){throw new zi(Oi.INTERNAL_ERROR,"Internal error: "+n)}class vo{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=vo.makeFromUrl(t,e)}catch{return new vo(t,"")}if(""===i.path)return i;throw function Uye(n){return new zi(Oi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+r+"(/(.*))?$","i");function l(Y){Y.path_=decodeURIComponent(Y.path)}const p=e.replace(/[.]/g,"\\."),j=[{regex:a,indices:{bucket:1,path:3},postModify:function o(Y){"/"===Y.path.charAt(Y.path.length-1)&&(Y.path_=Y.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${p}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:l},{regex:new RegExp(`^https?://${e===r5?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:l}];for(let Y=0;Y<j.length;Y++){const me=j[Y],we=me.regex.exec(t);if(we){let M=we[me.indices.path];M||(M=""),i=new vo(we[me.indices.bucket],M),me.postModify(i);break}}if(null==i)throw function Bye(n){return new zi(Oi.INVALID_URL,"Invalid URL '"+n+"'.")}(t);return i}}class Gye{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function qI(n){return"string"==typeof n||n instanceof String}function d5(n){return OM()&&n instanceof Blob}function OM(){return typeof Blob<"u"}function kM(n,t,e,i){if(i<t)throw Hp(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw Hp(`Invalid value for '${n}'. Expected ${e} or less.`)}function ul(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function h5(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var zp=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(zp||{});function f5(n,t){const e=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==t.indexOf(n);return e||r||o}class Zye{constructor(t,e,i,r,o,s,a,c,l,u,p,_=!0){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=c,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=p,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,b)=>{this.resolve_=v,this.reject_=b,this.start_()})}start_(){const e=(i,r)=>{const o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());!function Kye(n){return void 0!==n}(c)?o():o(c)}catch(c){s(c)}else if(null!==a){const c=MM();c.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,c):c)}else s(r.canceled?this.appDelete_?l5():a5():s5())};this.canceled_?e(0,new KI(!1,null,!0)):this.backoffId_=function Wye(n,t,e){let i=1,r=null,o=null,s=!1,a=0;function c(){return 2===a}let l=!1;function u(...D){l||(l=!0,t.apply(null,D))}function p(D){r=setTimeout(()=>{r=null,n(v,c())},D)}function _(){o&&clearTimeout(o)}function v(D,...N){if(l)return void _();if(D)return _(),void u.call(null,D,...N);if(c()||s)return _(),void u.call(null,D,...N);let j;i<64&&(i*=2),1===a?(a=2,j=0):j=1e3*(i+Math.random()),p(j)}let b=!1;function C(D){b||(b=!0,_(),!l&&(null!==r?(D||(a=2),clearTimeout(r),p(0)):D||(a=1)))}return p(0),o=setTimeout(()=>{s=!0,C(!0)},e),C}((i,r)=>{if(r)return void i(!1,new KI(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===zp.NO_ERROR,c=o.getStatus();if(!a||f5(c,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===zp.ABORT;return void i(!1,new KI(!1,null,u))}const l=-1!==this.successCodes_.indexOf(c);i(!0,new KI(l,o))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function qye(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class KI{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function rbe(...n){const t=function ibe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(OM())return new Blob(n);throw new zi(Oi.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ns={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class NM{constructor(t,e){this.data=t,this.contentType=e||null}}function PM(n,t){switch(n){case Ns.RAW:return new NM(p5(t));case Ns.BASE64:case Ns.BASE64URL:return new NM(m5(n,t));case Ns.DATA_URL:return new NM(function cbe(n){const t=new g5(n);return t.base64?m5(Ns.BASE64,t.rest):function abe(n){let t;try{t=decodeURIComponent(n)}catch{throw Gv(Ns.DATA_URL,"Malformed data URL.")}return p5(t)}(t.rest)}(t),function lbe(n){return new g5(n).contentType}(t))}throw MM()}function p5(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function m5(n,t){switch(n){case Ns.BASE64:{const r=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(r||o)throw Gv(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Ns.BASE64URL:{const r=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(r||o)throw Gv(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function sbe(n){if(typeof atob>"u")throw function $ye(n){return new zi(Oi.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(t)}catch(r){throw r.message.includes("polyfill")?r:Gv(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class g5{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw Gv(Ns.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function ube(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class gc{constructor(t,e){let i=0,r="";d5(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(d5(this.data_)){const r=function obe(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new gc(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new gc(i,!0)}}static getBlob(...t){if(OM()){const e=t.map(i=>i instanceof gc?i.data_:i);return new gc(rbe.apply(null,e))}{const e=t.map(s=>qI(s)?PM(Ns.RAW,s).data:s.data_);let i=0;e.forEach(s=>{i+=s.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(s=>{for(let a=0;a<s.length;a++)r[o++]=s[a]}),new gc(r,!0)}}uploadData(){return this.data_}}function FM(n){let t;try{t=JSON.parse(n)}catch{return null}return function Qye(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function _5(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function fbe(n,t){return t}class Ho{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||fbe}}let YI=null;function qv(){if(YI)return YI;const n=[];n.push(new Ho("bucket")),n.push(new Ho("generation")),n.push(new Ho("metageneration")),n.push(new Ho("name","fullPath",!0));const e=new Ho("name");e.xform=function t(o,s){return function pbe(n){return!qI(n)||n.length<2?n:_5(n)}(s)},n.push(e);const r=new Ho("size");return r.xform=function i(o,s){return void 0!==s?Number(s):s},n.push(r),n.push(new Ho("timeCreated")),n.push(new Ho("updated")),n.push(new Ho("md5Hash",null,!0)),n.push(new Ho("cacheControl",null,!0)),n.push(new Ho("contentDisposition",null,!0)),n.push(new Ho("contentEncoding",null,!0)),n.push(new Ho("contentLanguage",null,!0)),n.push(new Ho("contentType",null,!0)),n.push(new Ho("metadata","customMetadata",!0)),YI=n,YI}function v5(n,t,e){const i=FM(t);return null===i?null:function gbe(n,t,e){const i={type:"file"},r=e.length;for(let o=0;o<r;o++){const s=e[o];i[s.local]=s.xform(i,t[s.server])}return function mbe(n,t){Object.defineProperty(n,"ref",{get:function e(){const o=new vo(n.bucket,n.fullPath);return t._makeStorageReference(o)}})}(i,n),i}(n,i,e)}function LM(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}const y5="prefixes",b5="items";class _c{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function vc(n){if(!n)throw MM()}function QI(n,t){return function e(i,r){const o=v5(n,r,t);return vc(null!==o),o}}function $p(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function Lye(){return new zi(Oi.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Fye(){return new zi(Oi.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function Pye(n){return new zi(Oi.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function Vye(n){return new zi(Oi.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}}function Kv(n){const t=$p(n);return function e(i,r){let o=t(i,r);return 404===i.getStatus()&&(o=function Nye(n){return new zi(Oi.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}function w5(n,t,e){const r=ul(t.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new _c(r,"GET",QI(n,e),s);return a.errorHandler=Kv(t),a}function Ebe(n,t,e,i,r){const o={};o.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(o.delimiter=e),i&&(o.pageToken=i),r&&(o.maxResults=r);const a=ul(t.bucketOnlyServerUrl(),n.host,n._protocol),l=n.maxOperationRetryTime,u=new _c(a,"GET",function bbe(n,t){return function e(i,r){const o=function ybe(n,t,e){const i=FM(e);return null===i?null:function vbe(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[y5])for(const r of e[y5]){const o=r.replace(/\/$/,""),s=n._makeStorageReference(new vo(t,o));i.prefixes.push(s)}if(e[b5])for(const r of e[b5]){const o=n._makeStorageReference(new vo(t,r.name));i.items.push(o)}return i}(n,t,i)}(n,t,r);return vc(null!==o),o}}(n,t.bucket),l);return u.urlParams=o,u.errorHandler=$p(t),u}function I5(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function Dbe(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class ZI{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function VM(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{vc(!1)}return vc(!!e&&-1!==(t||["active"]).indexOf(e)),e}const xbe={STATE_CHANGED:"state_changed"},zo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function BM(n){switch(n){case"running":case"pausing":case"canceling":return zo.RUNNING;case"paused":return zo.PAUSED;case"success":return zo.SUCCESS;case"canceled":return zo.CANCELED;default:return zo.ERROR}}class Mbe{constructor(t,e,i){if(function Yye(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const o=t;this.next=o.next,this.error=o.error,this.complete=o.complete}}}function Gp(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}let D5=null;class Obe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=zp.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=zp.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=zp.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw Wv("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Wv("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Wv("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Wv("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Wv("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}class kbe extends Obe{initXhr(){this.xhr_.responseType="text"}}function ka(){return D5?D5():new kbe}class S5{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=qv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{if(this._request=void 0,this._chunkMultiplier=1,r._codeEquals(Oi.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(f5(r.status,[])){if(!o)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();r=s5()}this._error=r,this._transition("error")}},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals(Oi.CANCELED)?this.completeTransitions_():(this._error=r,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((r,o)=>{this._resolve=r,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function Sbe(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),s=I5(t,i,r),a={name:s.fullPath},c=ul(o,n.host,n._protocol),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},p=LM(s,e),b=new _c(c,"POST",function v(C){let D;VM(C);try{D=C.getResponseHeader("X-Goog-Upload-URL")}catch{vc(!1)}return vc(qI(D)),D},n.maxUploadRetryTime);return b.urlParams=a,b.headers=u,b.body=p,b.errorHandler=$p(t),b}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ka,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function Abe(n,t,e,i){const c=new _c(e,"POST",function o(l){const u=VM(l,["active","final"]);let p=null;try{p=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{vc(!1)}p||vc(!1);const _=Number(p);return vc(!isNaN(_)),new ZI(_,i.size(),"final"===u)},n.maxUploadRetryTime);return c.headers={"X-Goog-Upload-Command":"query"},c.errorHandler=$p(t),c}(this._ref.storage,this._ref._location,t,this._blob),o=this._ref.storage._makeRequest(r,ka,e,i);this._request=o,o.getPromise().then(s=>{this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new ZI(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,o)=>{let s;try{s=function Rbe(n,t,e,i,r,o,s,a){const c=new ZI(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=i.size()),i.size()!==c.total)throw function Hye(){return new zi(Oi.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const l=c.total-c.current;let u=l;r>0&&(u=Math.min(u,r));const p=c.current;let v="";v=0===u?"finalize":l===u?"upload, finalize":"upload";const b={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${c.current}`},C=i.slice(p,p+u);if(null===C)throw c5();const j=new _c(e,"POST",function D(Y,me){const we=VM(Y,["active","final"]),B=c.current+u,M=i.size();let U;return U="final"===we?QI(t,o)(Y,me):null,new ZI(B,M,"final"===we,U)},t.maxUploadRetryTime);return j.headers=b,j.body=C.uploadData(),j.progressCallback=a||null,j.errorHandler=$p(n),j}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(c){return this._error=c,void this._transition("error")}const a=this._ref.storage._makeRequest(s,ka,r,o,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=w5(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,ka,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function C5(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},c=function a(){let j="";for(let Y=0;Y<2;Y++)j+=Math.random().toString().slice(2);return j}();s["Content-Type"]="multipart/related; boundary="+c;const l=I5(t,i,r),u=LM(l,e),v=gc.getBlob("--"+c+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+c+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",i,"\r\n--"+c+"--");if(null===v)throw c5();const b={name:l.fullPath},C=ul(o,n.host,n._protocol),N=n.maxUploadRetryTime,k=new _c(C,"POST",QI(n,e),N);return k.urlParams=b,k.headers=s,k.body=v.uploadData(),k.errorHandler=$p(t),k}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ka,t,e);this._request=r,r.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=a5(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=BM(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const o=new Mbe(e||void 0,i||void 0,r||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(BM(this._state)){case zo.SUCCESS:Gp(this._resolve.bind(null,this.snapshot))();break;case zo.CANCELED:case zo.ERROR:Gp(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(BM(this._state)){case zo.RUNNING:case zo.PAUSED:t.next&&Gp(t.next.bind(t,this.snapshot))();break;case zo.SUCCESS:t.complete&&Gp(t.complete.bind(t))();break;default:t.error&&Gp(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Wd{constructor(t,e){this._service=t,this._location=e instanceof vo?e:vo.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Wd(t,e)}get root(){const t=new vo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _5(this._location.path)}get storage(){return this._service}get parent(){const t=function dbe(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new vo(this._location.bucket,t);return new Wd(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw u5(t)}}function R5(n,t,e){return UM.apply(this,arguments)}function UM(){return(UM=(0,he.A)(function*(n,t,e){const r=yield x5(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield R5(n,t,r.nextPageToken))})).apply(this,arguments)}function x5(n,t){null!=t&&"number"==typeof t.maxResults&&kM("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=Ebe(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,ka)}function Gbe(n){n._throwIfRoot("getDownloadURL");const t=function Ibe(n,t,e){const r=ul(t.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new _c(r,"GET",function wbe(n,t){return function e(i,r){const o=v5(n,r,t);return vc(null!==o),function _be(n,t,e,i){const r=FM(t);if(null===r||!qI(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(l=>{const p=n.fullPath;return ul("/b/"+s(n.bucket)+"/o/"+s(p),e,i)+h5({alt:"media",token:l})})[0]}(o,r,n.host,n._protocol)}}(n,e),s);return a.errorHandler=Kv(t),a}(n.storage,n._location,qv());return n.storage.makeRequestWithTokens(t,ka).then(e=>{if(null===e)throw function zye(){return new zi(Oi.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return e})}function M5(n,t){const e=function hbe(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new vo(n._location.bucket,e);return new Wd(n.storage,i)}function O5(n,t){if(n instanceof jM){const e=n;if(null==e._bucket)throw function jye(){return new zi(Oi.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+o5+"' property when initializing the app?")}();const i=new Wd(e,e._bucket);return null!=t?O5(i,t):i}return void 0!==t?M5(n,t):n}function Ybe(n,t){if(t&&function qbe(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof jM)return function Kbe(n,t){return new Wd(n,t)}(n,t);throw Hp("To use ref(service, url), the first argument must be a Storage instance.")}return O5(n,t)}function k5(n,t){const e=t?.[o5];return null==e?null:vo.makeFromBucketSpec(e,n)}class jM{constructor(t,e,i,r,o){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=r5,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?vo.makeFromBucketSpec(r,this._host):k5(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?vo.makeFromBucketSpec(this._url,t):k5(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){kM("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){kM("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,he.A)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,he.A)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Wd(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new Gye(l5());{const s=function nbe(n,t,e,i,r,o,s=!0){const a=h5(n.urlParams),c=n.url+a,l=Object.assign({},n.headers);return function ebe(n,t){t&&(n["X-Firebase-GMPID"]=t)}(l,t),function Xye(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(l,e),function Jye(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(l,o),function tbe(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(l,i),new Zye(c,n.method,l,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s)}(t,this._appId,i,r,e,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,e){var i=this;return(0,he.A)(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,o).getPromise()})()}}const N5="@firebase/storage";function L5(n,t){return Ybe(n=(0,sn.Ku)(n),t)}function o0e(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new jM(e,i,r,t,mc.SDK_VERSION)}!function s0e(){(0,mc._registerComponent)(new WI.uA("storage",o0e,"PUBLIC").setMultipleInstances(!0)),(0,mc.registerVersion)(N5,"0.13.0",""),(0,mc.registerVersion)(N5,"0.13.0","esm2017")}();class XI{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class B5{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new XI(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new XI(i,this,this._ref))},e)}on(t,e,i,r){let o;return e&&(o="function"==typeof e?s=>e(new XI(s,this,this._ref)):{next:e.next?s=>e.next(new XI(s,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,i||void 0,r||void 0)}}class U5{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new dl(t,this._service))}get items(){return this._delegate.items.map(t=>new dl(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class dl{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function r0e(n,t){return M5(n,t)}(this._delegate,t);return new dl(e,this.storage)}get root(){return new dl(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new dl(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new B5(function Zbe(n,t,e){return function Ube(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new S5(n,new gc(t),e)}(n=(0,sn.Ku)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=Ns.RAW,i){this._throwIfRoot("putString");const r=PM(e,t),o=Object.assign({},i);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new B5(new S5(this._delegate,new gc(r.data,!0),o),this)}listAll(){return function t0e(n){return function Hbe(n){const t={prefixes:[],items:[]};return R5(n,t).then(()=>t)}(n=(0,sn.Ku)(n))}(this._delegate).then(t=>new U5(t,this.storage))}list(t){return function e0e(n,t){return x5(n=(0,sn.Ku)(n),t)}(this._delegate,t||void 0).then(e=>new U5(e,this.storage))}getMetadata(){return function Xbe(n){return function zbe(n){n._throwIfRoot("getMetadata");const t=w5(n.storage,n._location,qv());return n.storage.makeRequestWithTokens(t,ka)}(n=(0,sn.Ku)(n))}(this._delegate)}updateMetadata(t){return function Jbe(n,t){return function $be(n,t){n._throwIfRoot("updateMetadata");const e=function Cbe(n,t,e,i){const o=ul(t.fullServerUrl(),n.host,n._protocol),a=LM(e,i),l=n.maxOperationRetryTime,u=new _c(o,"PATCH",QI(n,i),l);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=Kv(t),u}(n.storage,n._location,t,qv());return n.storage.makeRequestWithTokens(e,ka)}(n=(0,sn.Ku)(n),t)}(this._delegate,t)}getDownloadURL(){return function n0e(n){return Gbe(n=(0,sn.Ku)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function i0e(n){return function Wbe(n){n._throwIfRoot("deleteObject");const t=function Tbe(n,t){const i=ul(t.fullServerUrl(),n.host,n._protocol),a=new _c(i,"DELETE",function s(c,l){},n.maxOperationRetryTime);return a.successCodes=[200,204],a.errorHandler=Kv(t),a}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,ka)}(n=(0,sn.Ku)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw u5(t)}}class j5{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(H5(t))throw Hp("ref() expected a child path but got a URL, use refFromURL instead.");return new dl(L5(this._delegate,t),this)}refFromURL(t){if(!H5(t))throw Hp("refFromURL() expected a full URL but got a child path, use ref() instead.");try{vo.makeFromUrl(t,this._delegate.host)}catch{throw Hp("refFromUrl() expected a valid full URL but got an invalid one.")}return new dl(L5(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function V5(n,t,e,i={}){!function Qbe(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,sn.Fy)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function H5(n){return/^[A-Za-z]+:\/\//.test(n)}function u0e(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new j5(e,i)}function z5(n){const t=function h0e(n){return new Qt(t=>{const e=s=>t.next(s);e(n.snapshot);const o=n.on("state_changed",e);return n.then(s=>{e(s),t.complete()},s=>{e(n.snapshot),(s=>{t.error(s)})(s)}),function(){o()}}).pipe(ex(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe(Me(e=>e.bytesTransferred/e.totalBytes*100))}}function JI(n){return{getDownloadURL:()=>Ge(void 0).pipe(e5,_i(()=>n.getDownloadURL()),jo),getMetadata:()=>Ge(void 0).pipe(e5,_i(()=>n.getMetadata()),jo),delete:()=>jn(n.delete()),child:t=>JI(n.child(t)),updateMetadata:t=>jn(n.updateMetadata(t)),put:(t,e)=>z5(n.put(t,e)),putString:(t,e,i)=>z5(n.putString(t,e,i)),list:t=>jn(n.list(t)),listAll:()=>jn(n.listAll())}}!function d0e(n){const t={TaskState:zo,TaskEvent:xbe,StringFormat:Ns,Storage:j5,Reference:dl};n.INTERNAL.registerComponent(new WI.uA("storage-compat",u0e,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.10")}(Oa.A);const f0e=new ne("angularfire2.storageBucket"),p0e=new ne("angularfire2.storage.maxUploadRetryTime"),m0e=new ne("angularfire2.storage.maxOperationRetryTime"),g0e=new ne("angularfire2.storage.use-emulator");let $5=(()=>{class n{storage;constructor(e,i,r,o,s,a,c,l,u,p){const _=GI(e,s,i);this.storage=RM(`${_.name}.storage.${r}`,"AngularFireStorage",_.name,()=>{const v=s.runOutsideAngular(()=>_.storage(r||void 0)),b=u;return b&&v.useEmulator(...b),c&&v.setMaxUploadRetryTime(c),l&&v.setMaxOperationRetryTime(l),v},[c,l])}ref(e){return JI(this.storage.ref(e))}refFromURL(e){return JI(this.storage.refFromURL(e))}upload(e,i,r){return JI(this.storage.ref(e)).put(i,r)}static \u0275fac=function(i){return new(i||n)($(zv),$($v,8),$(f0e,8),$(Jo),$($e),$(AM),$(p0e,8),$(m0e,8),$(g0e,8),$(SM,8))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),_0e=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=We({type:n});static \u0275inj=qe({})}return n})(),v0e=(()=>{class n{constructor(){Oa.A.registerVersion("angularfire",Hv.full,"gcs-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=We({type:n});static \u0275inj=qe({providers:[$5],imports:[_0e]})}return n})();function G5(n,t){return De(t)?_i(()=>n,t):_i(()=>n)}_t(438);const W5=new ne("angularfire2.auth.use-emulator"),q5=new ne("angularfire2.auth.settings"),K5=new ne("angularfire2.auth.tenant-id"),Y5=new ne("angularfire2.auth.langugage-code"),Q5=new ne("angularfire2.auth.use-device-language"),Z5=new ne("angularfire.auth.persistence"),X5=(n,t,e,i,r,o,s,a)=>RM(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const c=t.runOutsideAngular(()=>n.auth());if(e&&c.useEmulator(...e),i&&(c.tenantId=i),c.languageCode=r,o&&c.useDeviceLanguage(),s)for(const[l,u]of Object.entries(s))c.settings[l]=u;return a&&c.setPersistence(a),c},[e,i,r,o,s,a]);let Wp=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(e,i,r,o,s,a,c,l,u,p,_,v){const b=new I,C=Ge(void 0).pipe(nu(s.outsideAngular),_i(()=>o.runOutsideAngular(()=>Promise.resolve().then(_t.bind(_t,438)))),Me(()=>GI(e,o,i)),Me(D=>X5(D,o,a,l,u,p,c,_)),Yx({bufferSize:1,refCount:!1}));if(pE(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ge(null);else{C.pipe(iu()).subscribe();const D=C.pipe(_i(j=>j.getRedirectResult().then(Y=>Y,()=>null)),jo,Yx({bufferSize:1,refCount:!1})),N=C.pipe(_i(j=>new Qt(Y=>({unsubscribe:o.runOutsideAngular(()=>j.onAuthStateChanged(me=>Y.next(me),me=>Y.error(me),()=>Y.complete()))})))),k=C.pipe(_i(j=>new Qt(Y=>({unsubscribe:o.runOutsideAngular(()=>j.onIdTokenChanged(me=>Y.next(me),me=>Y.error(me),()=>Y.complete()))}))));this.authState=D.pipe(G5(N),up(s.outsideAngular),nu(s.insideAngular)),this.user=D.pipe(G5(k),up(s.outsideAngular),nu(s.insideAngular)),this.idToken=this.user.pipe(_i(j=>j?jn(j.getIdToken()):Ge(null))),this.idTokenResult=this.user.pipe(_i(j=>j?jn(j.getIdTokenResult()):Ge(null))),this.credential=as(D,b,this.authState.pipe(Rn(j=>!j))).pipe(Me(j=>j?.user?j:null),up(s.outsideAngular),nu(s.insideAngular))}return((n,t,e,i={})=>new Proxy(n,{get:(r,o)=>e.runOutsideAngular(()=>{if(n[o])return i?.spy?.get&&i.spy.get(o,n[o]),n[o];if(Iye.indexOf(o)>-1)return()=>{};const s=t.toPromise().then(a=>{const c=a?.[o];return"function"==typeof c?c.bind(a):c?.then?c.then(l=>e.run(()=>l)):e.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,l)=>s.then(u=>{const p=u?.(...l);return i?.spy?.apply&&i.spy.apply(o,l,p),p})})})}))(this,C,o,{spy:{apply:(D,N,k)=>{(D.startsWith("signIn")||D.startsWith("createUser"))&&k.then(j=>b.next(j))}}})}static \u0275fac=function(i){return new(i||n)($(zv),$($v,8),$(Jo),$($e),$(AM),$(W5,8),$(q5,8),$(K5,8),$(Y5,8),$(Q5,8),$(Z5,8),$(SM,8))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),b0e=(()=>{class n{constructor(){Oa.A.registerVersion("angularfire",Hv.full,"auth-compat")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=We({type:n});static \u0275inj=qe({providers:[Wp]})}return n})();function HM(){return Se((n,t)=>{let e,i=!1;n.subscribe(Le(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var qd,tW,yc=_t(41),J5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},eW={};(function(){var n;function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(B,M,U){U||(U=0);var G=Array(16);if("string"==typeof M)for(var K=0;16>K;++K)G[K]=M.charCodeAt(U++)|M.charCodeAt(U++)<<8|M.charCodeAt(U++)<<16|M.charCodeAt(U++)<<24;else for(K=0;16>K;++K)G[K]=M[U++]|M[U++]<<8|M[U++]<<16|M[U++]<<24;var Z=B.g[3],H=(M=B.g[0])+(Z^(U=B.g[1])&((K=B.g[2])^Z))+G[0]+3614090360&4294967295;H=(U=(K=(Z=(M=(U=(K=(Z=(M=(U=(K=(Z=(M=(U=(K=(Z=(M=(U=(K=(Z=(M=(U=(K=(Z=(M=(U=(K=(Z=(M=(U=(K=(Z=(M=(U=(K=(Z=(M=(U=(K=(Z=(M=(U=(K=(Z=(M=(U=(K=(Z=(M=(U=(K=(Z=(M=(U=(K=(Z=(M=(U=(K=(Z=(M=U+(H<<7&4294967295|H>>>25))+((H=Z+(K^M&(U^K))+G[1]+3905402710&4294967295)<<12&4294967295|H>>>20))+((H=K+(U^Z&(M^U))+G[2]+606105819&4294967295)<<17&4294967295|H>>>15))+((H=U+(M^K&(Z^M))+G[3]+3250441966&4294967295)<<22&4294967295|H>>>10))+((H=M+(Z^U&(K^Z))+G[4]+4118548399&4294967295)<<7&4294967295|H>>>25))+((H=Z+(K^M&(U^K))+G[5]+1200080426&4294967295)<<12&4294967295|H>>>20))+((H=K+(U^Z&(M^U))+G[6]+2821735955&4294967295)<<17&4294967295|H>>>15))+((H=U+(M^K&(Z^M))+G[7]+4249261313&4294967295)<<22&4294967295|H>>>10))+((H=M+(Z^U&(K^Z))+G[8]+1770035416&4294967295)<<7&4294967295|H>>>25))+((H=Z+(K^M&(U^K))+G[9]+2336552879&4294967295)<<12&4294967295|H>>>20))+((H=K+(U^Z&(M^U))+G[10]+4294925233&4294967295)<<17&4294967295|H>>>15))+((H=U+(M^K&(Z^M))+G[11]+2304563134&4294967295)<<22&4294967295|H>>>10))+((H=M+(Z^U&(K^Z))+G[12]+1804603682&4294967295)<<7&4294967295|H>>>25))+((H=Z+(K^M&(U^K))+G[13]+4254626195&4294967295)<<12&4294967295|H>>>20))+((H=K+(U^Z&(M^U))+G[14]+2792965006&4294967295)<<17&4294967295|H>>>15))+((H=U+(M^K&(Z^M))+G[15]+1236535329&4294967295)<<22&4294967295|H>>>10))+((H=M+(K^Z&(U^K))+G[1]+4129170786&4294967295)<<5&4294967295|H>>>27))+((H=Z+(U^K&(M^U))+G[6]+3225465664&4294967295)<<9&4294967295|H>>>23))+((H=K+(M^U&(Z^M))+G[11]+643717713&4294967295)<<14&4294967295|H>>>18))+((H=U+(Z^M&(K^Z))+G[0]+3921069994&4294967295)<<20&4294967295|H>>>12))+((H=M+(K^Z&(U^K))+G[5]+3593408605&4294967295)<<5&4294967295|H>>>27))+((H=Z+(U^K&(M^U))+G[10]+38016083&4294967295)<<9&4294967295|H>>>23))+((H=K+(M^U&(Z^M))+G[15]+3634488961&4294967295)<<14&4294967295|H>>>18))+((H=U+(Z^M&(K^Z))+G[4]+3889429448&4294967295)<<20&4294967295|H>>>12))+((H=M+(K^Z&(U^K))+G[9]+568446438&4294967295)<<5&4294967295|H>>>27))+((H=Z+(U^K&(M^U))+G[14]+3275163606&4294967295)<<9&4294967295|H>>>23))+((H=K+(M^U&(Z^M))+G[3]+4107603335&4294967295)<<14&4294967295|H>>>18))+((H=U+(Z^M&(K^Z))+G[8]+1163531501&4294967295)<<20&4294967295|H>>>12))+((H=M+(K^Z&(U^K))+G[13]+2850285829&4294967295)<<5&4294967295|H>>>27))+((H=Z+(U^K&(M^U))+G[2]+4243563512&4294967295)<<9&4294967295|H>>>23))+((H=K+(M^U&(Z^M))+G[7]+1735328473&4294967295)<<14&4294967295|H>>>18))+((H=U+(Z^M&(K^Z))+G[12]+2368359562&4294967295)<<20&4294967295|H>>>12))+((H=M+(U^K^Z)+G[5]+4294588738&4294967295)<<4&4294967295|H>>>28))+((H=Z+(M^U^K)+G[8]+2272392833&4294967295)<<11&4294967295|H>>>21))+((H=K+(Z^M^U)+G[11]+1839030562&4294967295)<<16&4294967295|H>>>16))+((H=U+(K^Z^M)+G[14]+4259657740&4294967295)<<23&4294967295|H>>>9))+((H=M+(U^K^Z)+G[1]+2763975236&4294967295)<<4&4294967295|H>>>28))+((H=Z+(M^U^K)+G[4]+1272893353&4294967295)<<11&4294967295|H>>>21))+((H=K+(Z^M^U)+G[7]+4139469664&4294967295)<<16&4294967295|H>>>16))+((H=U+(K^Z^M)+G[10]+3200236656&4294967295)<<23&4294967295|H>>>9))+((H=M+(U^K^Z)+G[13]+681279174&4294967295)<<4&4294967295|H>>>28))+((H=Z+(M^U^K)+G[0]+3936430074&4294967295)<<11&4294967295|H>>>21))+((H=K+(Z^M^U)+G[3]+3572445317&4294967295)<<16&4294967295|H>>>16))+((H=U+(K^Z^M)+G[6]+76029189&4294967295)<<23&4294967295|H>>>9))+((H=M+(U^K^Z)+G[9]+3654602809&4294967295)<<4&4294967295|H>>>28))+((H=Z+(M^U^K)+G[12]+3873151461&4294967295)<<11&4294967295|H>>>21))+((H=K+(Z^M^U)+G[15]+530742520&4294967295)<<16&4294967295|H>>>16))+((H=U+(K^Z^M)+G[2]+3299628645&4294967295)<<23&4294967295|H>>>9))+((H=M+(K^(U|~Z))+G[0]+4096336452&4294967295)<<6&4294967295|H>>>26))+((H=Z+(U^(M|~K))+G[7]+1126891415&4294967295)<<10&4294967295|H>>>22))+((H=K+(M^(Z|~U))+G[14]+2878612391&4294967295)<<15&4294967295|H>>>17))+((H=U+(Z^(K|~M))+G[5]+4237533241&4294967295)<<21&4294967295|H>>>11))+((H=M+(K^(U|~Z))+G[12]+1700485571&4294967295)<<6&4294967295|H>>>26))+((H=Z+(U^(M|~K))+G[3]+2399980690&4294967295)<<10&4294967295|H>>>22))+((H=K+(M^(Z|~U))+G[10]+4293915773&4294967295)<<15&4294967295|H>>>17))+((H=U+(Z^(K|~M))+G[1]+2240044497&4294967295)<<21&4294967295|H>>>11))+((H=M+(K^(U|~Z))+G[8]+1873313359&4294967295)<<6&4294967295|H>>>26))+((H=Z+(U^(M|~K))+G[15]+4264355552&4294967295)<<10&4294967295|H>>>22))+((H=K+(M^(Z|~U))+G[6]+2734768916&4294967295)<<15&4294967295|H>>>17))+((H=U+(Z^(K|~M))+G[13]+1309151649&4294967295)<<21&4294967295|H>>>11))+((Z=(M=U+((H=M+(K^(U|~Z))+G[4]+4149444226&4294967295)<<6&4294967295|H>>>26))+((H=Z+(U^(M|~K))+G[11]+3174756917&4294967295)<<10&4294967295|H>>>22))^((K=Z+((H=K+(M^(Z|~U))+G[2]+718787259&4294967295)<<15&4294967295|H>>>17))|~M))+G[9]+3951481745&4294967295,B.g[0]=B.g[0]+M&4294967295,B.g[1]=B.g[1]+(K+(H<<21&4294967295|H>>>11))&4294967295,B.g[2]=B.g[2]+K&4294967295,B.g[3]=B.g[3]+Z&4294967295}function s(B,M){this.h=M;for(var U=[],G=!0,K=B.length-1;0<=K;K--){var Z=0|B[K];G&&Z==M||(U[K]=Z,G=!1)}this.g=U}(function t(B,M){function U(){}U.prototype=M.prototype,B.D=M.prototype,B.prototype=new U,B.prototype.constructor=B,B.C=function(G,K,Z){for(var H=Array(arguments.length-2),wr=2;wr<arguments.length;wr++)H[wr-2]=arguments[wr];return M.prototype[K].apply(G,H)}})(i,function e(){this.blockSize=-1}),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},i.prototype.u=function(B,M){void 0===M&&(M=B.length);for(var U=M-this.blockSize,G=this.B,K=this.h,Z=0;Z<M;){if(0==K)for(;Z<=U;)r(this,B,Z),Z+=this.blockSize;if("string"==typeof B){for(;Z<M;)if(G[K++]=B.charCodeAt(Z++),K==this.blockSize){r(this,G),K=0;break}}else for(;Z<M;)if(G[K++]=B[Z++],K==this.blockSize){r(this,G),K=0;break}}this.h=K,this.o+=M},i.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var M=1;M<B.length-8;++M)B[M]=0;var U=8*this.o;for(M=B.length-8;M<B.length;++M)B[M]=255&U,U/=256;for(this.u(B),B=Array(16),M=U=0;4>M;++M)for(var G=0;32>G;G+=8)B[U++]=this.g[M]>>>G&255;return B};var a={};function c(B){return-128<=B&&128>B?function o(B,M){var U=a;return Object.prototype.hasOwnProperty.call(U,B)?U[B]:U[B]=M(B)}(B,function(M){return new s([0|M],0>M?-1:0)}):new s([0|B],0>B?-1:0)}function l(B){if(isNaN(B)||!isFinite(B))return p;if(0>B)return D(l(-B));for(var M=[],U=1,G=0;B>=U;G++)M[G]=B/U|0,U*=4294967296;return new s(M,0)}var p=c(0),_=c(1),v=c(16777216);function b(B){if(0!=B.h)return!1;for(var M=0;M<B.g.length;M++)if(0!=B.g[M])return!1;return!0}function C(B){return-1==B.h}function D(B){for(var M=B.g.length,U=[],G=0;G<M;G++)U[G]=~B.g[G];return new s(U,~B.h).add(_)}function N(B,M){return B.add(D(M))}function k(B,M){for(;(65535&B[M])!=B[M];)B[M+1]+=B[M]>>>16,B[M]&=65535,M++}function j(B,M){this.g=B,this.h=M}function Y(B,M){if(b(M))throw Error("division by zero");if(b(B))return new j(p,p);if(C(B))return M=Y(D(B),M),new j(D(M.g),D(M.h));if(C(M))return M=Y(B,D(M)),new j(D(M.g),M.h);if(30<B.g.length){if(C(B)||C(M))throw Error("slowDivide_ only works with positive integers.");for(var U=_,G=M;0>=G.l(B);)U=me(U),G=me(G);var K=we(U,1),Z=we(G,1);for(G=we(G,2),U=we(U,2);!b(G);){var H=Z.add(G);0>=H.l(B)&&(K=K.add(U),Z=H),G=we(G,1),U=we(U,1)}return M=N(B,K.j(M)),new j(K,M)}for(K=p;0<=B.l(M);){for(U=Math.max(1,Math.floor(B.m()/M.m())),G=48>=(G=Math.ceil(Math.log(U)/Math.LN2))?1:Math.pow(2,G-48),H=(Z=l(U)).j(M);C(H)||0<H.l(B);)H=(Z=l(U-=G)).j(M);b(Z)&&(Z=_),K=K.add(Z),B=N(B,H)}return new j(K,B)}function me(B){for(var M=B.g.length+1,U=[],G=0;G<M;G++)U[G]=B.i(G)<<1|B.i(G-1)>>>31;return new s(U,B.h)}function we(B,M){var U=M>>5;M%=32;for(var G=B.g.length-U,K=[],Z=0;Z<G;Z++)K[Z]=0<M?B.i(Z+U)>>>M|B.i(Z+U+1)<<32-M:B.i(Z+U);return new s(K,B.h)}(n=s.prototype).m=function(){if(C(this))return-D(this).m();for(var B=0,M=1,U=0;U<this.g.length;U++){var G=this.i(U);B+=(0<=G?G:4294967296+G)*M,M*=4294967296}return B},n.toString=function(B){if(2>(B=B||10)||36<B)throw Error("radix out of range: "+B);if(b(this))return"0";if(C(this))return"-"+D(this).toString(B);for(var M=l(Math.pow(B,6)),U=this,G="";;){var K=Y(U,M).g,Z=((0<(U=N(U,K.j(M))).g.length?U.g[0]:U.h)>>>0).toString(B);if(b(U=K))return Z+G;for(;6>Z.length;)Z="0"+Z;G=Z+G}},n.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h},n.l=function(B){return C(B=N(this,B))?-1:b(B)?0:1},n.abs=function(){return C(this)?D(this):this},n.add=function(B){for(var M=Math.max(this.g.length,B.g.length),U=[],G=0,K=0;K<=M;K++){var Z=G+(65535&this.i(K))+(65535&B.i(K)),H=(Z>>>16)+(this.i(K)>>>16)+(B.i(K)>>>16);G=H>>>16,U[K]=(H&=65535)<<16|(Z&=65535)}return new s(U,-2147483648&U[U.length-1]?-1:0)},n.j=function(B){if(b(this)||b(B))return p;if(C(this))return C(B)?D(this).j(D(B)):D(D(this).j(B));if(C(B))return D(this.j(D(B)));if(0>this.l(v)&&0>B.l(v))return l(this.m()*B.m());for(var M=this.g.length+B.g.length,U=[],G=0;G<2*M;G++)U[G]=0;for(G=0;G<this.g.length;G++)for(var K=0;K<B.g.length;K++){var Z=this.i(G)>>>16,H=65535&this.i(G),wr=B.i(K)>>>16,Io=65535&B.i(K);U[2*G+2*K]+=H*Io,k(U,2*G+2*K),U[2*G+2*K+1]+=Z*Io,k(U,2*G+2*K+1),U[2*G+2*K+1]+=H*wr,k(U,2*G+2*K+1),U[2*G+2*K+2]+=Z*wr,k(U,2*G+2*K+2)}for(G=0;G<M;G++)U[G]=U[2*G+1]<<16|U[2*G];for(G=M;G<2*M;G++)U[G]=0;return new s(U,0)},n.A=function(B){return Y(this,B).h},n.and=function(B){for(var M=Math.max(this.g.length,B.g.length),U=[],G=0;G<M;G++)U[G]=this.i(G)&B.i(G);return new s(U,this.h&B.h)},n.or=function(B){for(var M=Math.max(this.g.length,B.g.length),U=[],G=0;G<M;G++)U[G]=this.i(G)|B.i(G);return new s(U,this.h|B.h)},n.xor=function(B){for(var M=Math.max(this.g.length,B.g.length),U=[],G=0;G<M;G++)U[G]=this.i(G)^B.i(G);return new s(U,this.h^B.h)},i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,tW=eW.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=function u(B,M){if(0==B.length)throw Error("number format error: empty string");if(2>(M=M||10)||36<M)throw Error("radix out of range: "+M);if("-"==B.charAt(0))return D(u(B.substring(1),M));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var U=l(Math.pow(M,8)),G=p,K=0;K<B.length;K+=8){var Z=Math.min(8,B.length-K),H=parseInt(B.substring(K,K+Z),M);8>Z?(Z=l(Math.pow(M,Z)),G=G.j(Z).add(l(H))):G=(G=G.j(U)).add(l(H))}return G},qd=eW.Integer=s}).apply(typeof J5<"u"?J5:typeof self<"u"?self:typeof window<"u"?window:{});var nW,iW,Yv,rW,tC,zM,oW,sW,aW,eC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hl={};(function(){var n,t="function"==typeof Object.defineProperties?Object.defineProperty:function(f,y,E){return f==Array.prototype||f==Object.prototype||(f[y]=E.value),f},i=function e(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof eC&&eC];for(var y=0;y<f.length;++y){var E=f[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}(this);!function r(f,y){if(y)e:{var E=i;f=f.split(".");for(var x=0;x<f.length-1;x++){var J=f[x];if(!(J in E))break e;E=E[J]}(y=y(x=E[f=f[f.length-1]]))!=x&&null!=y&&t(E,f,{configurable:!0,writable:!0,value:y})}}("Array.prototype.values",function(f){return f||function(){return function o(f,y){f instanceof String&&(f+="");var E=0,x=!1,J={next:function(){if(!x&&E<f.length){var fe=E++;return{value:y(fe,f[fe]),done:!1}}return x=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}(this,function(y,E){return E})}});var s=s||{},a=this||self;function c(f){var y=typeof f;return"array"==(y="object"!=y?y:f?Array.isArray(f)?"array":y:"null")||"object"==y&&"number"==typeof f.length}function l(f){var y=typeof f;return"object"==y&&null!=f||"function"==y}function u(f,y,E){return f.call.apply(f.bind,arguments)}function p(f,y,E){if(!f)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,x),f.apply(y,J)}}return function(){return f.apply(y,arguments)}}function _(f,y,E){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?u:p).apply(null,arguments)}function v(f,y){var E=Array.prototype.slice.call(arguments,1);return function(){var x=E.slice();return x.push.apply(x,arguments),f.apply(this,x)}}function b(f,y){function E(){}E.prototype=y.prototype,f.aa=y.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(x,J,fe){for(var Ue=Array(arguments.length-2),li=2;li<arguments.length;li++)Ue[li-2]=arguments[li];return y.prototype[J].apply(x,Ue)}}function C(f){const y=f.length;if(0<y){const E=Array(y);for(let x=0;x<y;x++)E[x]=f[x];return E}return[]}function D(f,y){for(let E=1;E<arguments.length;E++){const x=arguments[E];if(c(x)){const J=f.length||0,fe=x.length||0;f.length=J+fe;for(let Ue=0;Ue<fe;Ue++)f[J+Ue]=x[Ue]}else f.push(x)}}function k(f){return/^[\s\xa0]*$/.test(f)}function j(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function Y(f){return Y[" "](f),f}Y[" "]=function(){};var me=!(-1==j().indexOf("Gecko")||-1!=j().toLowerCase().indexOf("webkit")&&-1==j().indexOf("Edge")||-1!=j().indexOf("Trident")||-1!=j().indexOf("MSIE")||-1!=j().indexOf("Edge"));function we(f,y,E){for(const x in f)y.call(E,f[x],x,f)}function M(f){const y={};for(const E in f)y[E]=f[E];return y}const U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(f,y){let E,x;for(let J=1;J<arguments.length;J++){for(E in x=arguments[J],x)f[E]=x[E];for(let fe=0;fe<U.length;fe++)E=U[fe],Object.prototype.hasOwnProperty.call(x,E)&&(f[E]=x[E])}}function K(f){var y=1;f=f.split(":");const E=[];for(;0<y&&f.length;)E.push(f.shift()),y--;return f.length&&E.push(f.join(":")),E}function Z(f){a.setTimeout(()=>{throw f},0)}function H(){var f=Kt;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}var Io=new class N{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}(()=>new ze,f=>f.reset());class ze{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Xe,ht=!1,Kt=new class wr{constructor(){this.h=this.g=null}add(y,E){const x=Io.get();x.set(y,E),this.h?this.h.next=x:this.g=x,this.h=x}},yi=()=>{const f=a.Promise.resolve(void 0);Xe=()=>{f.then(Co)}};var Co=()=>{for(var f;f=H();){try{f.h.call(f.g)}catch(E){Z(E)}var y=Io;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}ht=!1};function ti(){this.s=this.s,this.C=this.C}function Hn(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}ti.prototype.s=!1,ti.prototype.ma=function(){this.s||(this.s=!0,this.N())},ti.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Hn.prototype.h=function(){this.defaultPrevented=!0};var Pn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};a.addEventListener("test",E,y),a.removeEventListener("test",E,y)}catch{}return f}();function ao(f,y){if(Hn.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,x=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(me){e:{try{Y(y.nodeName);var J=!0;break e}catch{}J=!1}J||(y=null)}}else"mouseover"==E?y=f.fromElement:"mouseout"==E&&(y=f.toElement);this.relatedTarget=y,x?(this.clientX=void 0!==x.clientX?x.clientX:x.pageX,this.clientY=void 0!==x.clientY?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:Tl[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ao.aa.h.call(this)}}b(ao,Hn);var Tl={2:"touch",3:"pen",4:"mouse"};ao.prototype.h=function(){ao.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ci="closure_listenable_"+(1e6*Math.random()|0),co=0;function Gr(f,y,E,x,J){this.listener=f,this.proxy=null,this.src=y,this.type=E,this.capture=!!x,this.ha=J,this.key=++co,this.da=this.fa=!1}function Va(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function la(f){this.src=f,this.g={},this.h=0}function Zy(f,y){var E=y.type;if(E in f.g){var fe,x=f.g[E],J=Array.prototype.indexOf.call(x,y,void 0);(fe=0<=J)&&Array.prototype.splice.call(x,J,1),fe&&(Va(y),0==f.g[E].length&&(delete f.g[E],f.h--))}}function Um(f,y,E,x){for(var J=0;J<f.length;++J){var fe=f[J];if(!fe.da&&fe.listener==y&&fe.capture==!!E&&fe.ha==x)return J}return-1}la.prototype.add=function(f,y,E,x,J){var fe=f.toString();(f=this.g[fe])||(f=this.g[fe]=[],this.h++);var Ue=Um(f,y,x,J);return-1<Ue?(y=f[Ue],E||(y.fa=!1)):((y=new Gr(y,this.src,fe,!!x,J)).fa=E,f.push(y)),y};var Xy="closure_lm_"+(1e6*Math.random()|0),Jy={};function eb(f,y,E,x,J){if(x&&x.once)return OT(f,y,E,x,J);if(Array.isArray(y)){for(var fe=0;fe<y.length;fe++)eb(f,y[fe],E,x,J);return null}return E=Hm(E),f&&f[ci]?f.K(y,E,l(x)?!!x.capture:!!x,J):tb(f,y,E,!1,x,J)}function tb(f,y,E,x,J,fe){if(!y)throw Error("Invalid event type");var Ue=l(J)?!!J.capture:!!J,li=Dh(f);if(li||(f[Xy]=li=new la(f)),(E=li.add(y,E,x,Ue,fe)).proxy)return E;if(x=function vP(){const y=kT;return function f(E){return y.call(f.src,f.listener,E)}}(),E.proxy=x,x.src=f,x.listener=E,f.addEventListener)Pn||(J=Ue),void 0===J&&(J=!1),f.addEventListener(y.toString(),x,J);else if(f.attachEvent)f.attachEvent(nb(y.toString()),x);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener(x)}return E}function OT(f,y,E,x,J){if(Array.isArray(y)){for(var fe=0;fe<y.length;fe++)OT(f,y[fe],E,x,J);return null}return E=Hm(E),f&&f[ci]?f.L(y,E,l(x)?!!x.capture:!!x,J):tb(f,y,E,!0,x,J)}function xc(f,y,E,x,J){if(Array.isArray(y))for(var fe=0;fe<y.length;fe++)xc(f,y[fe],E,x,J);else x=l(x)?!!x.capture:!!x,E=Hm(E),f&&f[ci]?(f=f.i,(y=String(y).toString())in f.g&&-1<(E=Um(fe=f.g[y],E,x,J))&&(Va(fe[E]),Array.prototype.splice.call(fe,E,1),0==fe.length&&(delete f.g[y],f.h--))):f&&(f=Dh(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Um(y,E,x,J)),(E=-1<f?y[f]:null)&&Nu(E))}function Nu(f){if("number"!=typeof f&&f&&!f.da){var y=f.src;if(y&&y[ci])Zy(y.i,f);else{var E=f.type,x=f.proxy;y.removeEventListener?y.removeEventListener(E,x,f.capture):y.detachEvent?y.detachEvent(nb(E),x):y.addListener&&y.removeListener&&y.removeListener(x),(E=Dh(y))?(Zy(E,f),0==E.h&&(E.src=null,y[Xy]=null)):Va(f)}}}function nb(f){return f in Jy?Jy[f]:Jy[f]="on"+f}function kT(f,y){if(f.da)f=!0;else{y=new ao(y,this);var E=f.listener,x=f.ha||f.src;f.fa&&Nu(f),f=E.call(x,y)}return f}function Dh(f){return(f=f[Xy])instanceof la?f:null}var jm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hm(f){return"function"==typeof f?f:(f[jm]||(f[jm]=function(y){return f.handleEvent(y)}),f[jm])}function Pr(){ti.call(this),this.i=new la(this),this.M=this,this.F=null}function Wr(f,y){var E,x=f.F;if(x)for(E=[];x;x=x.F)E.push(x);if(f=f.M,x=y.type||y,"string"==typeof y)y=new Hn(y,f);else if(y instanceof Hn)y.target=y.target||f;else{var J=y;G(y=new Hn(x,f),J)}if(J=!0,E)for(var fe=E.length-1;0<=fe;fe--){var Ue=y.g=E[fe];J=NT(Ue,x,!0,y)&&J}if(J=NT(Ue=y.g=f,x,!0,y)&&J,J=NT(Ue,x,!1,y)&&J,E)for(fe=0;fe<E.length;fe++)J=NT(Ue=y.g=E[fe],x,!1,y)&&J}function NT(f,y,E,x){if(!(y=f.i.g[String(y)]))return!0;y=y.concat();for(var J=!0,fe=0;fe<y.length;++fe){var Ue=y[fe];if(Ue&&!Ue.da&&Ue.capture==E){var li=Ue.listener,lo=Ue.ha||Ue.src;Ue.fa&&Zy(f.i,Ue),J=!1!==li.call(lo,x)&&J}}return J&&!x.defaultPrevented}function mY(f,y,E){if("function"==typeof f)E&&(f=_(f,E));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=_(f.handleEvent,f)}return 2147483647<Number(y)?-1:a.setTimeout(f,y||0)}function gY(f){f.g=mY(()=>{f.g=null,f.i&&(f.i=!1,gY(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}b(Pr,ti),Pr.prototype[ci]=!0,Pr.prototype.removeEventListener=function(f,y,E,x){xc(this,f,y,E,x)},Pr.prototype.N=function(){if(Pr.aa.N.call(this),this.i){var y,f=this.i;for(y in f.g){for(var E=f.g[y],x=0;x<E.length;x++)Va(E[x]);delete f.g[y],f.h--}}this.F=null},Pr.prototype.K=function(f,y,E,x){return this.i.add(String(f),y,!1,E,x)},Pr.prototype.L=function(f,y,E,x){return this.i.add(String(f),y,!0,E,x)};class vxe extends ti{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:gY(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ib(f){ti.call(this),this.h=f,this.g={}}b(ib,ti);var _Y=[];function vY(f){we(f.g,function(y,E){this.g.hasOwnProperty(E)&&Nu(y)},f),f.g={}}ib.prototype.N=function(){ib.aa.N.call(this),vY(this)},ib.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yP=a.JSON.stringify,yxe=a.JSON.parse,bxe=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function bP(){}function bY(){}bP.prototype.h=null;var rb={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wP(){Hn.call(this,"d")}function EP(){Hn.call(this,"c")}b(wP,Hn),b(EP,Hn);var Sh={},wY=null;function PT(){return wY=wY||new Pr}function EY(f){Hn.call(this,Sh.La,f)}function ob(f){const y=PT();Wr(y,new EY(y))}function IY(f,y){Hn.call(this,Sh.STAT_EVENT,f),this.stat=y}function Wo(f){const y=PT();Wr(y,new IY(y,f))}function CY(f,y){Hn.call(this,Sh.Ma,f),this.size=y}function sb(f,y){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},y)}function ab(){this.g=!0}function zm(f,y,E,x){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+function Cxe(f,y){if(!f.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E)for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var x=E[f];if(!(2>x.length)){var J=x[1];if(Array.isArray(J)&&!(1>J.length)){var fe=J[0];if("noop"!=fe&&"stop"!=fe&&"close"!=fe)for(var Ue=1;Ue<J.length;Ue++)J[Ue]=""}}}return yP(E)}catch{return y}}(f,E)+(x?" "+x:"")})}Sh.La="serverreachability",b(EY,Hn),Sh.STAT_EVENT="statevent",b(IY,Hn),Sh.Ma="timingevent",b(CY,Hn),ab.prototype.xa=function(){this.g=!1},ab.prototype.info=function(){};var IP,FT={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},TY={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function LT(){}function Pu(f,y,E,x){this.j=f,this.i=y,this.l=E,this.R=x||1,this.U=new ib(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new DY}function DY(){this.i=null,this.g="",this.h=!1}b(LT,bP),LT.prototype.g=function(){return new XMLHttpRequest},LT.prototype.i=function(){return{}},IP=new LT;var SY={},CP={};function TP(f,y,E){f.L=1,f.v=jT(Dl(y)),f.m=E,f.P=!0,AY(f,null)}function AY(f,y){f.F=Date.now(),VT(f),f.A=Dl(f.v);var E=f.A,x=f.R;Array.isArray(x)||(x=[String(x)]),HY(E.i,"t",x),f.C=0,E=f.j.J,f.h=new DY,f.g=sQ(f.j,E?y:null,!f.m),0<f.O&&(f.M=new vxe(_(f.Y,f,f.g),f.O)),y=f.U,E=f.g,x=f.ca;var J="readystatechange";Array.isArray(J)||(J&&(_Y[0]=J.toString()),J=_Y);for(var fe=0;fe<J.length;fe++){var Ue=eb(E,J[fe],x||y.handleEvent,!1,y.h||y);if(!Ue)break;y.g[Ue.key]=Ue}y=f.H?M(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),ob(),function wxe(f,y,E,x,J,fe){f.info(function(){if(f.g)if(fe)for(var Ue="",li=fe.split("&"),lo=0;lo<li.length;lo++){var Fn=li[lo].split("=");if(1<Fn.length){var To=Fn[0];Fn=Fn[1];var Do=To.split("_");Ue=2<=Do.length&&"type"==Do[1]?Ue+(To+"=")+Fn+"&":Ue+(To+"=redacted&")}}else Ue=null;else Ue=fe;return"XMLHTTP REQ ("+x+") [attempt "+J+"]: "+y+"\n"+E+"\n"+Ue})}(f.i,f.u,f.A,f.l,f.R,f.m)}function RY(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function Txe(f,y){var E=f.C,x=y.indexOf("\n",E);return-1==x?CP:(E=Number(y.substring(E,x)),isNaN(E)?SY:(x+=1)+E>y.length?CP:(y=y.slice(x,x+E),f.C=x+E,y))}function VT(f){f.S=Date.now()+f.I,xY(f,f.I)}function xY(f,y){if(null!=f.B)throw Error("WatchDog timer not null");f.B=sb(_(f.ba,f),y)}function DP(f){f.B&&(a.clearTimeout(f.B),f.B=null)}function cb(f){0==f.j.G||f.J||nQ(f.j,f)}function Ah(f){DP(f);var y=f.M;y&&"function"==typeof y.ma&&y.ma(),f.M=null,vY(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function SP(f,y){try{var E=f.j;if(0!=E.G&&(E.g==f||AP(E.h,f)))if(!f.K&&AP(E.h,f)&&3==E.G){try{var x=E.Da.g.parse(y)}catch{x=null}if(Array.isArray(x)&&3==x.length){var J=x;if(0==J[0]){e:if(!E.u){if(E.g){if(!(E.g.F+3e3<f.F))break e;WT(E),$T(E)}OP(E),Wo(18)}}else E.za=J[1],0<E.za-E.T&&37500>J[2]&&E.F&&0==E.v&&!E.C&&(E.C=sb(_(E.Za,E),6e3));if(1>=kY(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else xh(E,11)}else if((f.K||E.g==f)&&WT(E),!k(y))for(J=E.Da.g.parse(y),y=0;y<J.length;y++){let Fn=J[y];if(E.T=Fn[0],Fn=Fn[1],2==E.G)if("c"==Fn[0]){E.K=Fn[1],E.ia=Fn[2];const To=Fn[3];null!=To&&(E.la=To,E.j.info("VER="+E.la));const Do=Fn[4];null!=Do&&(E.Aa=Do,E.j.info("SVER="+E.Aa));const Wm=Fn[5];null!=Wm&&"number"==typeof Wm&&0<Wm&&(E.L=x=1.5*Wm,E.j.info("backChannelRequestTimeoutMs_="+x)),x=E;const Ba=f.g;if(Ba){const KT=Ba.g?Ba.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(KT){var fe=x.h;fe.g||-1==KT.indexOf("spdy")&&-1==KT.indexOf("quic")&&-1==KT.indexOf("h2")||(fe.j=fe.l,fe.g=new Set,fe.h&&(RP(fe,fe.h),fe.h=null))}if(x.D){const NP=Ba.g?Ba.g.getResponseHeader("X-HTTP-Session-Id"):null;NP&&(x.ya=NP,Si(x.I,x.D,NP))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms"));var Ue=f;if((x=E).qa=oQ(x,x.J?x.ia:null,x.W),Ue.K){NY(x.h,Ue);var li=Ue,lo=x.L;lo&&(li.I=lo),li.B&&(DP(li),VT(li)),x.g=Ue}else eQ(x);0<E.i.length&&GT(E)}else"stop"!=Fn[0]&&"close"!=Fn[0]||xh(E,7);else 3==E.G&&("stop"==Fn[0]||"close"==Fn[0]?"stop"==Fn[0]?xh(E,7):MP(E):"noop"!=Fn[0]&&E.l&&E.l.ta(Fn),E.v=0)}ob()}catch{}}Pu.prototype.ca=function(f){f=f.target;const y=this.M;y&&3==Sl(f)?y.j():this.Y(f)},Pu.prototype.Y=function(f){try{if(f==this.g)e:{const Do=Sl(this.g);var y=this.g.Ba();if(this.g.Z(),!(3>Do)&&(3!=Do||this.g&&(this.h.h||this.g.oa()||YY(this.g)))){this.J||4!=Do||7==y||ob(),DP(this);var E=this.g.Z();this.X=E;t:if(RY(this)){var x=YY(this.g);f="";var J=x.length,fe=4==Sl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ah(this),cb(this);var Ue="";break t}this.h.i=new a.TextDecoder}for(y=0;y<J;y++)this.h.h=!0,f+=this.h.i.decode(x[y],{stream:!(fe&&y==J-1)});x.length=0,this.h.g+=f,this.C=0,Ue=this.h.g}else Ue=this.g.oa();if(this.o=200==E,function Exe(f,y,E,x,J,fe,Ue){f.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+J+"]: "+y+"\n"+E+"\n"+fe+" "+Ue})}(this.i,this.u,this.A,this.l,this.R,Do,E),this.o){if(this.T&&!this.K){t:{if(this.g){var li,lo=this.g;if((li=lo.g?lo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(li)){var Fn=li;break t}}Fn=null}if(!(E=Fn)){this.o=!1,this.s=3,Wo(12),Ah(this),cb(this);break e}zm(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,SP(this,E)}if(this.P){let Ba;for(E=!0;!this.J&&this.C<Ue.length;){if(Ba=Txe(this,Ue),Ba==CP){4==Do&&(this.s=4,Wo(14),E=!1),zm(this.i,this.l,null,"[Incomplete Response]");break}if(Ba==SY){this.s=4,Wo(15),zm(this.i,this.l,Ue,"[Invalid Chunk]"),E=!1;break}zm(this.i,this.l,Ba,null),SP(this,Ba)}if(RY(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Do||0!=Ue.length||this.h.h||(this.s=1,Wo(16),E=!1),this.o=this.o&&E,E){if(0<Ue.length&&!this.W){this.W=!0;var To=this.j;To.g==this&&To.ba&&!To.M&&(To.j.info("Great, no buffering proxy detected. Bytes received: "+Ue.length),kP(To),To.M=!0,Wo(11))}}else zm(this.i,this.l,Ue,"[Invalid Chunked Response]"),Ah(this),cb(this)}else zm(this.i,this.l,Ue,null),SP(this,Ue);4==Do&&Ah(this),this.o&&!this.J&&(4==Do?nQ(this.j,this):(this.o=!1,VT(this)))}else(function Hxe(f){const y={};f=(f.g&&2<=Sl(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let x=0;x<f.length;x++){if(k(f[x]))continue;var E=K(f[x]);const J=E[0];if("string"!=typeof(E=E[1]))continue;E=E.trim();const fe=y[J]||[];y[J]=fe,fe.push(E)}!function B(f,y){for(const E in f)y.call(void 0,f[E],E,f)}(y,function(x){return x.join(", ")})})(this.g),400==E&&0<Ue.indexOf("Unknown SID")?(this.s=3,Wo(12)):(this.s=0,Wo(13)),Ah(this),cb(this)}}}catch{}},Pu.prototype.cancel=function(){this.J=!0,Ah(this)},Pu.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function Ixe(f,y){f.info(function(){return"TIMEOUT: "+y})}(this.i,this.A),2!=this.L&&(ob(),Wo(17)),Ah(this),this.s=2,cb(this)):xY(this,this.S-f)};var Dxe=class{constructor(f,y){this.g=f,this.map=y}};function MY(f){this.l=f||10,f=a.PerformanceNavigationTiming?0<(f=a.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function OY(f){return!!f.h||!!f.g&&f.g.size>=f.j}function kY(f){return f.h?1:f.g?f.g.size:0}function AP(f,y){return f.h?f.h==y:!!f.g&&f.g.has(y)}function RP(f,y){f.g?f.g.add(y):f.h=y}function NY(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}function PY(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let y=f.i;for(const E of f.g.values())y=y.concat(E.D);return y}return C(f.i)}function FY(f,y){if(f.forEach&&"function"==typeof f.forEach)f.forEach(y,void 0);else if(c(f)||"string"==typeof f)Array.prototype.forEach.call(f,y,void 0);else for(var E=function Axe(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(c(f)||"string"==typeof f){var y=[];f=f.length;for(var E=0;E<f;E++)y.push(E);return y}y=[],E=0;for(const x in f)y[E++]=x;return y}}}(f),x=function Sxe(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(c(f)){for(var y=[],E=f.length,x=0;x<E;x++)y.push(f[x]);return y}for(x in y=[],E=0,f)y[E++]=f[x];return y}(f),J=x.length,fe=0;fe<J;fe++)y.call(void 0,x[fe],E&&E[fe],f)}MY.prototype.cancel=function(){if(this.i=PY(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var LY=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rh(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Rh){this.h=f.h,BT(this,f.j),this.o=f.o,this.g=f.g,UT(this,f.s),this.l=f.l;var y=f.i,E=new db;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),VY(this,E),this.m=f.m}else f&&(y=String(f).match(LY))?(this.h=!1,BT(this,y[1]||"",!0),this.o=lb(y[2]||""),this.g=lb(y[3]||"",!0),UT(this,y[4]),this.l=lb(y[5]||"",!0),VY(this,y[6]||"",!0),this.m=lb(y[7]||"")):(this.h=!1,this.i=new db(null,this.h))}function Dl(f){return new Rh(f)}function BT(f,y,E){f.j=E?lb(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function UT(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function VY(f,y,E){y instanceof db?(f.i=y,function Pxe(f,y){y&&!f.j&&(Fu(f),f.i=null,f.g.forEach(function(E,x){var J=x.toLowerCase();x!=J&&(UY(this,x),HY(this,J,E))},f)),f.j=y}(f.i,f.h)):(E||(y=ub(y,kxe)),f.i=new db(y,f.h))}function Si(f,y,E){f.i.set(y,E)}function jT(f){return Si(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function lb(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ub(f,y,E){return"string"==typeof f?(f=encodeURI(f).replace(y,xxe),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function xxe(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}Rh.prototype.toString=function(){var f=[],y=this.j;y&&f.push(ub(y,BY,!0),":");var E=this.g;return(E||"file"==y)&&(f.push("//"),(y=this.o)&&f.push(ub(y,BY,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(E=this.s)&&f.push(":",String(E))),(E=this.l)&&(this.g&&"/"!=E.charAt(0)&&f.push("/"),f.push(ub(E,"/"==E.charAt(0)?Oxe:Mxe,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",ub(E,Nxe)),f.join("")};var BY=/[#\/\?@]/g,Mxe=/[#\?:]/g,Oxe=/[#\?]/g,kxe=/[#\?@]/g,Nxe=/#/g;function db(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Fu(f){f.g||(f.g=new Map,f.h=0,f.i&&function Rxe(f,y){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var x=f[E].indexOf("="),J=null;if(0<=x){var fe=f[E].substring(0,x);J=f[E].substring(x+1)}else fe=f[E];y(fe,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}(f.i,function(y,E){f.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}function UY(f,y){Fu(f),y=$m(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function jY(f,y){return Fu(f),y=$m(f,y),f.g.has(y)}function HY(f,y,E){UY(f,y),0<E.length&&(f.i=null,f.g.set($m(f,y),C(E)),f.h+=E.length)}function $m(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function Lu(f,y,E,x,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),x(E)}catch{}}function Vxe(){this.g=new bxe}function Bxe(f,y,E){const x=E||"";try{FY(f,function(J,fe){let Ue=J;l(J)&&(Ue=yP(J)),y.push(x+fe+"="+encodeURIComponent(Ue))})}catch(J){throw y.push(x+"type="+encodeURIComponent("_badmap")),J}}function hb(f){this.l=f.Ub||null,this.j=f.eb||!1}function HT(f,y){Pr.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function zY(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function fb(f){f.readyState=4,f.l=null,f.j=null,f.v=null,pb(f)}function pb(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function $Y(f){let y="";return we(f,function(E,x){y+=x,y+=":",y+=E,y+="\r\n"}),y}function xP(f,y,E){e:{for(x in E){var x=!1;break e}x=!0}x||(E=$Y(E),"string"==typeof f?null!=E&&encodeURIComponent(String(E)):Si(f,y,E))}function Yi(f){Pr.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=db.prototype).add=function(f,y){Fu(this),this.i=null,f=$m(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(y),this.h+=1,this},n.forEach=function(f,y){Fu(this),this.g.forEach(function(E,x){E.forEach(function(J){f.call(y,J,x,this)},this)},this)},n.na=function(){Fu(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let x=0;x<y.length;x++){const J=f[x];for(let fe=0;fe<J.length;fe++)E.push(y[x])}return E},n.V=function(f){Fu(this);let y=[];if("string"==typeof f)jY(this,f)&&(y=y.concat(this.g.get($m(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)y=y.concat(f[E])}return y},n.set=function(f,y){return Fu(this),this.i=null,jY(this,f=$m(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f&&0<(f=this.V(f)).length?String(f[0]):y},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var x=y[E];const fe=encodeURIComponent(String(x)),Ue=this.V(x);for(x=0;x<Ue.length;x++){var J=fe;""!==Ue[x]&&(J+="="+encodeURIComponent(String(Ue[x]))),f.push(J)}}return this.i=f.join("&")},b(hb,bP),hb.prototype.g=function(){return new HT(this.l,this.j)},hb.prototype.i=function(f){return function(){return f}}({}),b(HT,Pr),(n=HT.prototype).open=function(f,y){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,pb(this)},n.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||a).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,fb(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,pb(this)),this.g&&(this.readyState=3,pb(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zY(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?fb(this):pb(this),3==this.readyState&&zY(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,fb(this))},n.Qa=function(f){this.g&&(this.response=f,fb(this))},n.ga=function(){this.g&&fb(this)},n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var E=y.next();!E.done;)f.push((E=E.value)[0]+": "+E[1]),E=y.next();return f.join("\r\n")},Object.defineProperty(HT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),b(Yi,Pr);var Uxe=/^https?$/i,jxe=["POST","PUT"];function GY(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,WY(f),zT(f)}function WY(f){f.A||(f.A=!0,Wr(f,"complete"),Wr(f,"error"))}function qY(f){if(f.h&&typeof s<"u"&&(!f.v[1]||4!=Sl(f)||2!=f.Z()))if(f.u&&4==Sl(f))mY(f.Ea,0,f);else if(Wr(f,"readystatechange"),4==Sl(f)){f.h=!1;try{const Ue=f.Z();e:switch(Ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var x;if(x=0===Ue){var J=String(f.D).match(LY)[1]||null;!J&&a.self&&a.self.location&&(J=a.self.location.protocol.slice(0,-1)),x=!Uxe.test(J?J.toLowerCase():"")}E=x}if(E)Wr(f,"complete"),Wr(f,"success");else{f.m=6;try{var fe=2<Sl(f)?f.g.statusText:""}catch{fe=""}f.l=fe+" ["+f.Z()+"]",WY(f)}}finally{zT(f)}}}function zT(f,y){if(f.g){KY(f);const E=f.g,x=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Wr(f,"ready");try{E.onreadystatechange=x}catch{}}}function KY(f){f.I&&(a.clearTimeout(f.I),f.I=null)}function Sl(f){return f.g?f.g.readyState:0}function YY(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function mb(f,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||y}function QY(f){this.Aa=0,this.i=[],this.j=new ab,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mb("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mb("baseRetryDelayMs",5e3,f),this.cb=mb("retryDelaySeedMs",1e4,f),this.Wa=mb("forwardChannelMaxRetries",2,f),this.wa=mb("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new MY(f&&f.concurrentRequestLimit),this.Da=new Vxe,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function MP(f){if(ZY(f),3==f.G){var y=f.U++,E=Dl(f.I);if(Si(E,"SID",f.K),Si(E,"RID",y),Si(E,"TYPE","terminate"),gb(f,E),(y=new Pu(f,f.j,y)).L=2,y.v=jT(Dl(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&a.Image&&((new Image).src=y.v,E=!0),E||(y.g=sQ(y.j,null),y.g.ea(y.v)),y.F=Date.now(),VT(y)}rQ(f)}function $T(f){f.g&&(kP(f),f.g.cancel(),f.g=null)}function ZY(f){$T(f),f.u&&(a.clearTimeout(f.u),f.u=null),WT(f),f.h.cancel(),f.s&&("number"==typeof f.s&&a.clearTimeout(f.s),f.s=null)}function GT(f){if(!OY(f.h)&&!f.s){f.s=!0;var y=f.Ga;Xe||yi(),ht||(Xe(),ht=!0),Kt.add(y,f),f.B=0}}function XY(f,y){var E;E=y?y.l:f.U++;const x=Dl(f.I);Si(x,"SID",f.K),Si(x,"RID",E),Si(x,"AID",f.T),gb(f,x),f.m&&f.o&&xP(x,f.m,f.o),E=new Pu(f,f.j,E,f.B+1),null===f.m&&(E.H=f.o),y&&(f.i=y.D.concat(f.i)),y=JY(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),RP(f.h,E),TP(E,x,y)}function gb(f,y){f.H&&we(f.H,function(E,x){Si(y,x,E)}),f.l&&FY({},function(E,x){Si(y,x,E)})}function JY(f,y,E){E=Math.min(f.i.length,E);var x=f.l?_(f.l.Na,f.l,f):null;e:{var J=f.i;let fe=-1;for(;;){const Ue=["count="+E];-1==fe?0<E?(fe=J[0].g,Ue.push("ofs="+fe)):fe=0:Ue.push("ofs="+fe);let li=!0;for(let lo=0;lo<E;lo++){let Fn=J[lo].g;const To=J[lo].map;if(Fn-=fe,0>Fn)fe=Math.max(0,J[lo].g-100),li=!1;else try{Bxe(To,Ue,"req"+Fn+"_")}catch{x&&x(To)}}if(li){x=Ue.join("&");break e}}}return f=f.i.splice(0,E),y.D=f,x}function eQ(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;Xe||yi(),ht||(Xe(),ht=!0),Kt.add(y,f),f.v=0}}function OP(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=sb(_(f.Fa,f),iQ(f,f.v)),f.v++,0))}function kP(f){null!=f.A&&(a.clearTimeout(f.A),f.A=null)}function tQ(f){f.g=new Pu(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var y=Dl(f.qa);Si(y,"RID","rpc"),Si(y,"SID",f.K),Si(y,"AID",f.T),Si(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&Si(y,"TO",f.ja),Si(y,"TYPE","xmlhttp"),gb(f,y),f.m&&f.o&&xP(y,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=jT(Dl(y)),E.m=null,E.P=!0,AY(E,f)}function WT(f){null!=f.C&&(a.clearTimeout(f.C),f.C=null)}function nQ(f,y){var E=null;if(f.g==y){WT(f),kP(f),f.g=null;var x=2}else{if(!AP(f.h,y))return;E=y.D,NY(f.h,y),x=1}if(0!=f.G)if(y.o)if(1==x){E=y.m?y.m.length:0,y=Date.now()-y.F;var J=f.B;Wr(x=PT(),new CY(x,E)),GT(f)}else eQ(f);else if(3==(J=y.s)||0==J&&0<y.X||!(1==x&&function zxe(f,y){return!(kY(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=y.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=sb(_(f.Ga,f,y),iQ(f,f.B)),f.B++,0)))}(f,y)||2==x&&OP(f)))switch(E&&0<E.length&&(y=f.h,y.i=y.i.concat(E)),J){case 1:xh(f,5);break;case 4:xh(f,10);break;case 3:xh(f,6);break;default:xh(f,2)}}function iQ(f,y){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*y}function xh(f,y){if(f.j.info("Error code "+y),2==y){var E=_(f.fb,f),x=f.Xa;const J=!x;x=new Rh(x||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||BT(x,"https"),jT(x),J?function Fxe(f,y){const E=new ab;if(a.Image){const x=new Image;x.onload=v(Lu,E,"TestLoadImage: loaded",!0,y,x),x.onerror=v(Lu,E,"TestLoadImage: error",!1,y,x),x.onabort=v(Lu,E,"TestLoadImage: abort",!1,y,x),x.ontimeout=v(Lu,E,"TestLoadImage: timeout",!1,y,x),a.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=f}else y(!1)}(x.toString(),E):function Lxe(f,y){new ab;const x=new AbortController,J=setTimeout(()=>{x.abort(),Lu(0,0,!1,y)},1e4);fetch(f,{signal:x.signal}).then(fe=>{clearTimeout(J),Lu(0,0,!!fe.ok,y)}).catch(()=>{clearTimeout(J),Lu(0,0,!1,y)})}(x.toString(),E)}else Wo(2);f.G=0,f.l&&f.l.sa(y),rQ(f),ZY(f)}function rQ(f){if(f.G=0,f.ka=[],f.l){const y=PY(f.h);(0!=y.length||0!=f.i.length)&&(D(f.ka,y),D(f.ka,f.i),f.h.i.length=0,C(f.i),f.i.length=0),f.l.ra()}}function oQ(f,y,E){var x=E instanceof Rh?Dl(E):new Rh(E);if(""!=x.g)y&&(x.g=y+"."+x.g),UT(x,x.s);else{var J=a.location;x=J.protocol,y=y?y+"."+J.hostname:J.hostname,J=+J.port;var fe=new Rh(null);x&&BT(fe,x),y&&(fe.g=y),J&&UT(fe,J),E&&(fe.l=E),x=fe}return y=f.ya,(E=f.D)&&y&&Si(x,E,y),Si(x,"VER",f.la),gb(f,x),x}function sQ(f,y,E){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(y=new Yi(f.Ca&&!f.pa?new hb({eb:E}):f.pa)).Ha(f.J),y}function aQ(){}function qT(){}function Hs(f,y){Pr.call(this),this.g=new QY(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!k(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!k(y)&&(this.g.D=y,null!==(f=this.h)&&y in f&&y in(f=this.h)&&delete f[y]),this.j=new Gm(this)}function cQ(f){wP.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const E in y){f=E;break e}f=void 0}(this.i=f)&&(f=this.i,y=null!==y&&f in y?y[f]:void 0),this.data=y}else this.data=f}function lQ(){EP.call(this),this.status=1}function Gm(f){this.g=f}(n=Yi.prototype).Ha=function(f){this.J=f},n.ea=function(f,y,E,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():IP.g(),this.v=function yY(f){return f.h||(f.h=f.i())}(this.o?this.o:IP),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(fe){return void GY(this,fe)}if(f=E||"",E=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var J in x)E.set(J,x[J]);else{if("function"!=typeof x.keys||"function"!=typeof x.get)throw Error("Unknown input type for opt_headers: "+String(x));for(const fe of x.keys())E.set(fe,x.get(fe))}x=Array.from(E.keys()).find(fe=>"content-type"==fe.toLowerCase()),J=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(jxe,y,void 0))||x||J||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Ue]of E)this.g.setRequestHeader(fe,Ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{KY(this),this.u=!0,this.g.send(f),this.u=!1}catch(fe){GY(this,fe)}},n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Wr(this,"complete"),Wr(this,"abort"),zT(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zT(this,!0)),Yi.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?qY(this):this.bb())},n.bb=function(){qY(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<Sl(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&0==y.indexOf(f)&&(y=y.substring(f.length)),yxe(y)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=QY.prototype).la=8,n.G=1,n.connect=function(f,y,E,x){Wo(0),this.W=f,this.H=y||{},E&&void 0!==x&&(this.H.OSID=E,this.H.OAID=x),this.F=this.X,this.I=oQ(this,null,this.W),GT(this)},n.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const J=new Pu(this,this.j,f);let fe=this.o;if(this.S&&(fe?(fe=M(fe),G(fe,this.S)):fe=this.S),null!==this.m||this.O||(J.H=fe,fe=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){var x=this.i[E];if(void 0===(x="__data__"in x.map&&"string"==typeof(x=x.map.__data__)?x.length:void 0))break;if(4096<(y+=x)){y=E;break e}if(4096===y||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=JY(this,J,y),Si(E=Dl(this.I),"RID",f),Si(E,"CVER",22),this.D&&Si(E,"X-HTTP-Session-Id",this.D),gb(this,E),fe&&(this.O?y="headers="+encodeURIComponent(String($Y(fe)))+"&"+y:this.m&&xP(E,this.m,fe)),RP(this.h,J),this.Ua&&Si(E,"TYPE","init"),this.P?(Si(E,"$req",y),Si(E,"SID","null"),J.T=!0,TP(J,E,null)):TP(J,E,y),this.G=2}}else 3==this.G&&(f?XY(this,f):0==this.i.length||OY(this.h)||XY(this))},n.Fa=function(){if(this.u=null,tQ(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=sb(_(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wo(10),$T(this),tQ(this))},n.Za=function(){null!=this.C&&(this.C=null,$T(this),OP(this),Wo(19))},n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Wo(2)):(this.j.info("Failed to ping google.com"),Wo(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=aQ.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},qT.prototype.g=function(f,y){return new Hs(f,y)},b(Hs,Pr),Hs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hs.prototype.close=function(){MP(this.g)},Hs.prototype.o=function(f){var y=this.g;if("string"==typeof f){var E={};E.__data__=f,f=E}else this.u&&((E={}).__data__=yP(f),f=E);y.i.push(new Dxe(y.Ya++,f)),3==y.G&&GT(y)},Hs.prototype.N=function(){this.g.l=null,delete this.j,MP(this.g),delete this.g,Hs.aa.N.call(this)},b(cQ,wP),b(lQ,EP),b(Gm,aQ),Gm.prototype.ua=function(){Wr(this.g,"a")},Gm.prototype.ta=function(f){Wr(this.g,new cQ(f))},Gm.prototype.sa=function(f){Wr(this.g,new lQ)},Gm.prototype.ra=function(){Wr(this.g,"b")},qT.prototype.createWebChannel=qT.prototype.g,Hs.prototype.send=Hs.prototype.o,Hs.prototype.open=Hs.prototype.m,Hs.prototype.close=Hs.prototype.close,aW=hl.createWebChannelTransport=function(){return new qT},sW=hl.getStatEventTarget=function(){return PT()},oW=hl.Event=Sh,zM=hl.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},FT.NO_ERROR=0,FT.TIMEOUT=8,FT.HTTP_ERROR=6,tC=hl.ErrorCode=FT,TY.COMPLETE="complete",rW=hl.EventType=TY,bY.EventType=rb,rb.OPEN="a",rb.CLOSE="b",rb.ERROR="c",rb.MESSAGE="d",Pr.prototype.listen=Pr.prototype.K,Yv=hl.WebChannel=bY,iW=hl.FetchXmlHttpFactory=hb,Yi.prototype.listenOnce=Yi.prototype.L,Yi.prototype.getLastError=Yi.prototype.Ka,Yi.prototype.getLastErrorCode=Yi.prototype.Ba,Yi.prototype.getStatus=Yi.prototype.Z,Yi.prototype.getResponseJson=Yi.prototype.Oa,Yi.prototype.getResponseText=Yi.prototype.oa,Yi.prototype.send=Yi.prototype.ea,Yi.prototype.setWithCredentials=Yi.prototype.Ha,nW=hl.XhrIo=Yi}).apply(typeof eC<"u"?eC:typeof self<"u"?self:typeof window<"u"?window:{});const cW="@firebase/firestore";class zr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}zr.UNAUTHENTICATED=new zr(null),zr.GOOGLE_CREDENTIALS=new zr("google-credentials-uid"),zr.FIRST_PARTY=new zr("first-party-uid"),zr.MOCK_USER=new zr("mock-user");let qp="10.13.0";const fu=new yc.Vy("@firebase/firestore");function Kp(){return fu.logLevel}function ke(n,...t){if(fu.logLevel<=yc.$b.DEBUG){const e=t.map($M);fu.debug(`Firestore (${qp}): ${n}`,...e)}}function lr(n,...t){if(fu.logLevel<=yc.$b.ERROR){const e=t.map($M);fu.error(`Firestore (${qp}): ${n}`,...e)}}function ls(n,...t){if(fu.logLevel<=yc.$b.WARN){const e=t.map($M);fu.warn(`Firestore (${qp}): ${n}`,...e)}}function $M(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Je(n="Unexpected state"){const t=`FIRESTORE (${qp}) INTERNAL ASSERTION FAILED: `+n;throw lr(t),new Error(t)}function ct(n,t){n||Je()}function Be(n,t){return n}const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends sn.g{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class kr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class lW{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class I0e{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(zr.UNAUTHENTICATED))}shutdown(){}}class C0e{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class T0e{constructor(t){this.t=t,this.currentUser=zr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=l=>this.i!==r?(r=this.i,e(l)):Promise.resolve();let s=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new kr,t.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const l=s;t.enqueueRetryable((0,he.A)(function*(){yield l.promise,yield o(i.currentUser)}))},c=l=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new kr)}},0),a()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ct("string"==typeof i.accessToken),new lW(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ct(null===t||"string"==typeof t),new zr(t)}}class D0e{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=zr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class S0e{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new D0e(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(zr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uW{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A0e{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const i=o=>{null!=o.error&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,ke("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(ct("string"==typeof e.token),this.R=e.token,new uW(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function R0e(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class dW{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=R0e(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function Ut(n,t){return n<t?-1:n>t?1:0}function Yp(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function hW(n){return n+"\0"}class ki{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new xe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new xe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new xe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ki.fromMillis(Date.now())}static fromDate(t){return ki.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new ki(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class mt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new mt(t)}static min(){return new mt(new ki(0,0))}static max(){return new mt(new ki(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qv{constructor(t,e,i){void 0===e?e=0:e>t.length&&Je(),void 0===i?i=t.length-e:i>t.length-e&&Je(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Qv.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Qv?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),s=e.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class bn extends Qv{construct(t,e,i){return new bn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new xe(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new bn(e)}static emptyPath(){return new bn([])}}const x0e=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ci extends Qv{construct(t,e,i){return new Ci(t,e,i)}static isValidIdentifier(t){return x0e.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ci.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ci(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new xe(ce.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let s=!1;for(;r<t.length;){const a=t[r];if("\\"===a){if(r+1===t.length)throw new xe(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[r+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new xe(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=c,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new xe(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ci(e)}static emptyPath(){return new Ci([])}}class He{constructor(t){this.path=t}static fromPath(t){return new He(bn.fromString(t))}static fromName(t){return new He(bn.fromString(t).popFirst(5))}static empty(){return new He(bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===bn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return bn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new He(new bn(t.slice()))}}class Qp{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function GM(n){return n.fields.find(t=>2===t.kind)}function Kd(n){return n.fields.filter(t=>2!==t.kind)}Qp.UNKNOWN_ID=-1;class Yd{constructor(t,e){this.fieldPath=t,this.kind=e}}class Zp{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Zp(0,Ps.min())}}function fW(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=mt.fromTimestamp(1e9===i?new ki(e+1,0):new ki(e,i));return new Ps(r,He.empty(),t)}function pW(n){return new Ps(n.readTime,n.key,-1)}class Ps{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ps(mt.min(),He.empty(),-1)}static max(){return new Ps(mt.max(),He.empty(),-1)}}function WM(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=He.comparator(n.documentKey,t.documentKey),0!==e?e:Ut(n.largestBatchId,t.largestBatchId))}const mW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function pu(n){return qM.apply(this,arguments)}function qM(){return(qM=(0,he.A)(function*(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==mW)throw n;ke("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ee{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ee((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ee?e:ee.resolve(e)}catch(e){return ee.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ee.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ee.reject(e)}static resolve(t){return new ee((e,i)=>{e(t)})}static reject(t){return new ee((e,i)=>{i(t)})}static waitFor(t){return new ee((e,i)=>{let r=0,o=0,s=!1;t.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&e()},c=>i(c))}),s=!0,o===r&&e()})}static or(t){let e=ee.resolve(!1);for(const i of t)e=e.next(r=>r?ee.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ee((i,r)=>{const o=t.length,s=new Array(o);let a=0;for(let c=0;c<o;c++){const l=c;e(t[l]).next(u=>{s[l]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(t,e){return new ee((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class nC{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.V=new kr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{e.error?this.V.reject(new Zv(t,e.error)):this.V.resolve()},this.transaction.onerror=i=>{const r=KM(i.target.error);this.V.reject(new Zv(t,r))}}static open(t,e,i,r){try{return new nC(e,t.transaction(r,i))}catch(o){throw new Zv(e,o)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(ke("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new N0e(e)}}class bc{constructor(t,e,i){this.name=t,this.version=e,this.p=i,12.2===bc.S((0,sn.ZQ)())&&lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return ke("SimpleDb","Removing database:",t),Qd(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,sn.zW)())return!1;if(bc.v())return!0;const t=(0,sn.ZQ)(),e=bc.S(t),i=0<e&&e<10,r=_W(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static v(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.C)}static F(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}M(t){var e=this;return(0,he.A)(function*(){return e.db||(ke("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=s=>{i(s.target.result)},o.onblocked=()=>{r(new Zv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=s=>{const a=s.target.error;r("VersionError"===a.name?new xe(ce.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new xe(ce.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new Zv(t,a))},o.onupgradeneeded=s=>{ke("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',s.oldVersion),e.p.O(s.target.result,o.transaction,s.oldVersion,e.version).next(()=>{ke("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.N&&(e.db.onversionchange=i=>e.N(i)),e.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,he.A)(function*(){const s="readonly"===e;let a=0;for(;;){++a;try{o.db=yield o.M(t);const c=nC.open(o.db,t,s?"readonly":"readwrite",i),l=r(c).next(u=>(c.g(),u)).catch(u=>(c.abort(u),ee.reject(u))).toPromise();return l.catch(()=>{}),yield c.m,l}catch(c){const l=c,u="FirebaseError"!==l.name&&a<3;if(ke("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),o.close(),!u)return Promise.reject(l)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function _W(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class k0e{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return Qd(this.B.delete())}}class Zv extends xe{constructor(t,e){super(ce.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function mu(n){return"IndexedDbTransactionError"===n.name}class N0e{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(ke("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(ke("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Qd(i)}add(t){return ke("SimpleDb","ADD",this.store.name,t,t),Qd(this.store.add(t))}get(t){return Qd(this.store.get(t)).next(e=>(void 0===e&&(e=null),ke("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return ke("SimpleDb","DELETE",this.store.name,t),Qd(this.store.delete(t))}count(){return ke("SimpleDb","COUNT",this.store.name),Qd(this.store.count())}U(t,e){const i=this.options(t,e),r=i.index?this.store.index(i.index):this.store;if("function"==typeof r.getAll){const o=r.getAll(i.range);return new ee((s,a)=>{o.onerror=c=>{a(c.target.error)},o.onsuccess=c=>{s(c.target.result)}})}{const o=this.cursor(i),s=[];return this.W(o,(a,c)=>{s.push(c)}).next(()=>s)}}G(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ee((r,o)=>{i.onerror=s=>{o(s.target.error)},i.onsuccess=s=>{r(s.target.result)}})}j(t,e){ke("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.H=!1;const r=this.cursor(i);return this.W(r,(o,s,a)=>a.delete())}J(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Y(t){const e=this.cursor({});return new ee((i,r)=>{e.onerror=o=>{const s=KM(o.target.error);r(s)},e.onsuccess=o=>{const s=o.target.result;s?t(s.primaryKey,s.value).next(a=>{a?s.continue():i()}):i()}})}W(t,e){const i=[];return new ee((r,o)=>{t.onerror=s=>{o(s.target.error)},t.onsuccess=s=>{const a=s.target.result;if(!a)return void r();const c=new k0e(a),l=e(a.primaryKey,a.value,c);if(l instanceof ee){const u=l.catch(p=>(c.done(),ee.reject(p)));i.push(u)}c.isDone?r():null===c.K?a.continue():a.continue(c.K)}}).next(()=>ee.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.H?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Qd(n){return new ee((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=KM(i.target.error);e(r)}})}let vW=!1;function KM(n){const t=bc.S((0,sn.ZQ)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return vW||(vW=!0,setTimeout(()=>{throw i},0)),i}}return n}class P0e{constructor(t,e){this.asyncQueue=t,this.Z=e,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var e=this;ke("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,he.A)(function*(){e.task=null;try{ke("IndexBackfiller",`Documents written: ${yield e.Z.ee()}`)}catch(i){mu(i)?ke("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",i):yield pu(i)}yield e.X(6e4)}))}}class F0e{constructor(t,e){this.localStore=t,this.persistence=e}ee(t=50){var e=this;return(0,he.A)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.te(i,t))})()}te(t,e){const i=new Set;let r=e,o=!0;return ee.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(s=>{if(null!==s&&!i.has(s))return ke("IndexBackfiller",`Processing collection: ${s}`),this.ne(t,s,r).next(a=>{r-=a,i.add(s)});o=!1})).next(()=>e-r)}ne(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(t,s).next(()=>this.re(r,o)).next(a=>(ke("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(t,e,a))).next(()=>s.size)}))}re(t,e){let i=t;return e.changes.forEach((r,o)=>{const s=pW(o);WM(s,i)>0&&(i=s)}),new Ps(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Fs=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}return n.oe=-1,n})();function Xv(n){return null==n}function Jv(n){return 0===n&&1/n==-1/0}function yW(n){return"number"==typeof n&&Number.isInteger(n)&&!Jv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function yo(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=bW(t)),t=L0e(n.get(e),t);return bW(t)}function L0e(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function bW(n){return n+"\x01\x01"}function wc(n){const t=n.length;if(ct(t>=2),2===t)return ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),bn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const s=n.indexOf("\x01",o);switch((s<0||s>e)&&Je(),n.charAt(s+1)){case"\x01":const a=n.substring(o,s);let c;0===r.length?c=a:(r+=a,c=r,r=""),i.push(c);break;case"\x10":r+=n.substring(o,s),r+="\0";break;case"\x11":r+=n.substring(o,s+1);break;default:Je()}o=s+2}return new bn(i)}const wW=["userId","batchId"];function iC(n,t){return[n,yo(t)]}function EW(n,t,e){return[n,yo(t),e]}const V0e={},B0e=["prefixPath","collectionGroup","readTime","documentId"],U0e=["prefixPath","collectionGroup","documentId"],j0e=["collectionGroup","readTime","prefixPath","documentId"],H0e=["canonicalId","targetId"],z0e=["targetId","path"],$0e=["path","targetId"],G0e=["collectionId","parent"],W0e=["indexId","uid"],q0e=["uid","sequenceNumber"],K0e=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Y0e=["indexId","uid","orderedDocumentKey"],Q0e=["userId","collectionPath","documentId"],Z0e=["userId","collectionPath","largestBatchId"],X0e=["userId","collectionGroup","largestBatchId"],IW=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],J0e=[...IW,"documentOverlays"],CW=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],TW=CW,YM=[...TW,"indexConfiguration","indexState","indexEntries"],ewe=YM,twe=[...YM,"globals"];class QM extends gW{constructor(t,e){super(),this._e=t,this.currentSequenceNumber=e}}function Nr(n,t){const e=Be(n);return bc.F(e._e,t)}function DW(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function gu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function AW(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class vi{constructor(t,e){this.comparator=t,this.root=e||io.EMPTY}insert(t,e){return new vi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,io.BLACK,null,null))}remove(t){return new vi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,io.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new rC(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new rC(this.root,t,this.comparator,!1)}getReverseIterator(){return new rC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new rC(this.root,t,this.comparator,!0)}}class rC{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class io{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??io.RED,this.left=r??io.EMPTY,this.right=o??io.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new io(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return io.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return io.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,io.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,io.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const t=this.left.check();if(t!==this.right.check())throw Je();return t+(this.isRed()?0:1)}}io.EMPTY=null,io.RED=!0,io.BLACK=!1,io.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(t,e,i,r,o){return this}insert(t,e,i){return new io(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jn{constructor(t){this.comparator=t,this.data=new vi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new RW(this.data.getIterator())}getIteratorFrom(t){return new RW(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Jn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Jn(this.comparator);return e.data=t,e}}class RW{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xp(n){return n.hasNext()?n.getNext():void 0}class us{constructor(t){this.fields=t,t.sort(Ci.comparator)}static empty(){return new us([])}unionWith(t){let e=new Jn(Ci.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new us(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Yp(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class xW extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ki{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new xW("Invalid base64 string: "+o):o}}(t);return new Ki(e)}static fromUint8Array(t){const e=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(t);return new Ki(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ki.EMPTY_BYTE_STRING=new Ki("");const iwe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fl(n){if(ct(!!n),"string"==typeof n){let t=0;const e=iwe.exec(n);if(ct(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ni(n.seconds),nanos:Ni(n.nanos)}}function Ni(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function pl(n){return"string"==typeof n?Ki.fromBase64String(n):Ki.fromUint8Array(n)}function oC(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function sC(n){const t=n.mapValue.fields.__previous_value__;return oC(t)?sC(t):t}function ey(n){const t=fl(n.mapValue.fields.__local_write_time__.timestampValue);return new ki(t.seconds,t.nanos)}class rwe{constructor(t,e,i,r,o,s,a,c,l){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class _u{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new _u("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof _u&&t.projectId===this.projectId&&t.database===this.database}}const vu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},aC={nullValue:"NULL_VALUE"};function yu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?oC(n)?4:PW(n)?9007199254740991:uC(n)?10:11:Je()}function Ec(n,t){if(n===t)return!0;const e=yu(n);if(e!==yu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return ey(n).isEqual(ey(t));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=fl(r.timestampValue),a=fl(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return o=t,pl(n.bytesValue).isEqual(pl(o.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return Ni(r.geoPointValue.latitude)===Ni(o.geoPointValue.latitude)&&Ni(r.geoPointValue.longitude)===Ni(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Ni(r.integerValue)===Ni(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=Ni(r.doubleValue),a=Ni(o.doubleValue);return s===a?Jv(s)===Jv(a):isNaN(s)&&isNaN(a)}return!1}(n,t);case 9:return Yp(n.arrayValue.values||[],t.arrayValue.values||[],Ec);case 10:case 11:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(DW(s)!==DW(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!Ec(s[c],a[c])))return!1;return!0}(n,t);default:return Je()}var o}function ty(n,t){return void 0!==(n.values||[]).find(e=>Ec(e,t))}function bu(n,t){if(n===t)return 0;const e=yu(n),i=yu(t);if(e!==i)return Ut(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,t.booleanValue);case 2:return function(o,s){const a=Ni(o.integerValue||o.doubleValue),c=Ni(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,t);case 3:return MW(n.timestampValue,t.timestampValue);case 4:return MW(ey(n),ey(t));case 5:return Ut(n.stringValue,t.stringValue);case 6:return function(o,s){const a=pl(o),c=pl(s);return a.compareTo(c)}(n.bytesValue,t.bytesValue);case 7:return function(o,s){const a=o.split("/"),c=s.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=Ut(a[l],c[l]);if(0!==u)return u}return Ut(a.length,c.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,s){const a=Ut(Ni(o.latitude),Ni(s.latitude));return 0!==a?a:Ut(Ni(o.longitude),Ni(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return OW(n.arrayValue,t.arrayValue);case 10:return function(o,s){var a,c,l,u;const v=null===(a=(o.fields||{}).value)||void 0===a?void 0:a.arrayValue,b=null===(c=(s.fields||{}).value)||void 0===c?void 0:c.arrayValue,C=Ut((null===(l=v?.values)||void 0===l?void 0:l.length)||0,(null===(u=b?.values)||void 0===u?void 0:u.length)||0);return 0!==C?C:OW(v,b)}(n.mapValue,t.mapValue);case 11:return function(o,s){if(o===vu.mapValue&&s===vu.mapValue)return 0;if(o===vu.mapValue)return 1;if(s===vu.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),l=s.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let p=0;p<c.length&&p<u.length;++p){const _=Ut(c[p],u[p]);if(0!==_)return _;const v=bu(a[c[p]],l[u[p]]);if(0!==v)return v}return Ut(c.length,u.length)}(n.mapValue,t.mapValue);default:throw Je()}}function MW(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Ut(n,t);const e=fl(n),i=fl(t),r=Ut(e.seconds,i.seconds);return 0!==r?r:Ut(e.nanos,i.nanos)}function OW(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=bu(e[r],i[r]);if(o)return o}return Ut(e.length,i.length)}function Jp(n){return ZM(n)}function ZM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=fl(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?pl(n.bytesValue).toBase64():"referenceValue"in n?He.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=ZM(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${ZM(e.fields[s])}`;return r+"}"}(n.mapValue):Je()}function Zd(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function XM(n){return!!n&&"integerValue"in n}function ny(n){return!!n&&"arrayValue"in n}function kW(n){return!!n&&"nullValue"in n}function NW(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lC(n){return!!n&&"mapValue"in n}function uC(n){var t,e;return"__vector__"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function iy(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return gu(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=iy(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=iy(n.arrayValue.values[e]);return t}return Object.assign({},n)}function PW(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}const FW={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function owe(n){return"nullValue"in n?aC:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Zd(_u.empty(),He.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?uC(n)?FW:{mapValue:{}}:Je()}function swe(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Zd(_u.empty(),He.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?FW:"mapValue"in n?uC(n)?{mapValue:{}}:vu:Je()}function LW(n,t){const e=bu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function VW(n,t){const e=bu(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class ro{constructor(t){this.value=t}static empty(){return new ro({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!lC(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=iy(e)}setAll(t){let e=Ci.emptyPath(),i={},r=[];t.forEach((s,a)=>{if(!e.isImmediateParentOf(a)){const c=this.getFieldsMap(e);this.applyChanges(c,i,r),i={},r=[],e=a.popLast()}s?i[a.lastSegment()]=iy(s):r.push(a.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());lC(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ec(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];lC(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){gu(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new ro(iy(this.value))}}function BW(n){const t=[];return gu(n.fields,(e,i)=>{const r=new Ci([e]);if(lC(i)){const o=BW(i.mapValue).fields;if(0===o.length)t.push(r);else for(const s of o)t.push(r.child(s))}else t.push(r)}),new us(t)}class Ti{constructor(t,e,i,r,o,s,a){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(t){return new Ti(t,0,mt.min(),mt.min(),mt.min(),ro.empty(),0)}static newFoundDocument(t,e,i,r){return new Ti(t,1,e,mt.min(),i,r,0)}static newNoDocument(t,e){return new Ti(t,2,e,mt.min(),mt.min(),ro.empty(),0)}static newUnknownDocument(t,e){return new Ti(t,3,e,mt.min(),mt.min(),ro.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(mt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ro.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ro.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ti&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ti(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wu{constructor(t,e){this.position=t,this.inclusive=e}}function UW(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],s=n.position[r];if(i=o.field.isKeyField()?He.comparator(He.fromName(s.referenceValue),e.key):bu(s,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function jW(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ec(n.position[e],t.position[e]))return!1;return!0}class ry{constructor(t,e="asc"){this.field=t,this.dir=e}}function awe(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class HW{}class wn extends HW{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new cwe(t,e,i):"array-contains"===e?new dwe(t,i):"in"===e?new KW(t,i):"not-in"===e?new hwe(t,i):"array-contains-any"===e?new fwe(t,i):new wn(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new lwe(t,i):new uwe(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(bu(e,this.value)):null!==e&&yu(this.value)===yu(e)&&this.matchesComparison(bu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends HW{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new Qn(t,e)}matches(t){return em(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function em(n){return"and"===n.op}function JM(n){return"or"===n.op}function eO(n){return zW(n)&&em(n)}function zW(n){for(const t of n.filters)if(t instanceof Qn)return!1;return!0}function tO(n){if(n instanceof wn)return n.field.canonicalString()+n.op.toString()+Jp(n.value);if(eO(n))return n.filters.map(t=>tO(t)).join(",");{const t=n.filters.map(e=>tO(e)).join(",");return`${n.op}(${t})`}}function $W(n,t){return n instanceof wn?(i=n,(r=t)instanceof wn&&i.op===r.op&&i.field.isEqual(r.field)&&Ec(i.value,r.value)):n instanceof Qn?function(i,r){return r instanceof Qn&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&$W(s,r.filters[a]),!0)}(n,t):void Je();var i,r}function GW(n,t){const e=n.filters.concat(t);return Qn.create(e,n.op)}function WW(n){return n instanceof wn?`${(e=n).field.canonicalString()} ${e.op} ${Jp(e.value)}`:n instanceof Qn?function(e){return e.op.toString()+" {"+e.getFilters().map(WW).join(" ,")+"}"}(n):"Filter";var e}class cwe extends wn{constructor(t,e,i){super(t,e,i),this.key=He.fromName(i.referenceValue)}matches(t){const e=He.comparator(t.key,this.key);return this.matchesComparison(e)}}class lwe extends wn{constructor(t,e){super(t,"in",e),this.keys=qW(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class uwe extends wn{constructor(t,e){super(t,"not-in",e),this.keys=qW(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function qW(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>He.fromName(i.referenceValue))}class dwe extends wn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return ny(e)&&ty(e.arrayValue,this.value)}}class KW extends wn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&ty(this.value.arrayValue,e)}}class hwe extends wn{constructor(t,e){super(t,"not-in",e)}matches(t){if(ty(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!ty(this.value.arrayValue,e)}}class fwe extends wn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!ny(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>ty(this.value.arrayValue,i))}}class pwe{constructor(t,e=null,i=[],r=[],o=null,s=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function nO(n,t=null,e=[],i=[],r=null,o=null,s=null){return new pwe(n,t,e,i,r,o,s)}function Xd(n){const t=Be(n);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>tO(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),Xv(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Jp(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Jp(i)).join(",")),t.ue=e}return t.ue}function oy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!awe(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!$W(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!jW(n.startAt,t.startAt)&&jW(n.endAt,t.endAt)}function dC(n){return He.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function hC(n,t){return n.filters.filter(e=>e instanceof wn&&e.field.isEqual(t))}function YW(n,t,e){let i=aC,r=!0;for(const o of hC(n,t)){let s=aC,a=!0;switch(o.op){case"<":case"<=":s=owe(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=aC}LW({value:i,inclusive:r},{value:s,inclusive:a})<0&&(i=s,r=a)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];LW({value:i,inclusive:r},{value:s,inclusive:e.inclusive})<0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}function QW(n,t,e){let i=vu,r=!0;for(const o of hC(n,t)){let s=vu,a=!0;switch(o.op){case">=":case">":s=swe(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=vu}VW({value:i,inclusive:r},{value:s,inclusive:a})>0&&(i=s,r=a)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const s=e.position[o];VW({value:i,inclusive:r},{value:s,inclusive:e.inclusive})>0&&(i=s,r=e.inclusive);break}return{value:i,inclusive:r}}class ml{constructor(t,e=null,i=[],r=[],o=null,s="F",a=null,c=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null}}function ZW(n,t,e,i,r,o,s,a){return new ml(n,t,e,i,r,o,s,a)}function tm(n){return new ml(n)}function XW(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function iO(n){return null!==n.collectionGroup}function nm(n){const t=Be(n);if(null===t.ce){t.ce=[];const e=new Set;for(const o of t.explicitOrderBy)t.ce.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Jn(Ci.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.ce.push(new ry(o,i))}),e.has(Ci.keyField().canonicalString())||t.ce.push(new ry(Ci.keyField(),i))}return t.ce}function bo(n){const t=Be(n);return t.le||(t.le=function eq(n,t){if("F"===n.limitType)return nO(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new ry(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new wu(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new wu(n.startAt.position,n.startAt.inclusive):null;return nO(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,nm(n))),t.le}function rO(n,t){const e=n.filters.concat([t]);return new ml(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function fC(n,t,e){return new ml(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function sy(n,t){return oy(bo(n),bo(t))&&n.limitType===t.limitType}function tq(n){return`${Xd(bo(n))}|lt:${n.limitType}`}function im(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>WW(r)).join(", ")}]`),Xv(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Jp(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Jp(r)).join(",")),`Target(${i})`}(bo(n))}; limitType=${n.limitType})`}function ay(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):He.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of nm(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(s,a,c){const l=UW(s,a,c);return s.inclusive?l<=0:l<0}(i.startAt,nm(i),r)||i.endAt&&!function(s,a,c){const l=UW(s,a,c);return s.inclusive?l>=0:l>0}(i.endAt,nm(i),r)));var i,r}function nq(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iq(n){return(t,e)=>{let i=!1;for(const r of nm(n)){const o=mwe(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function mwe(n,t,e){const i=n.field.isKeyField()?He.comparator(t.key,e.key):function(o,s,a){const c=s.data.field(o),l=a.data.field(o);return null!==c&&null!==l?bu(c,l):Je()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Je()}}class gl{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){gu(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return AW(this.inner)}size(){return this.innerSize}}const gwe=new vi(He.comparator);function ds(){return gwe}const rq=new vi(He.comparator);function cy(...n){let t=rq;for(const e of n)t=t.insert(e.key,e);return t}function oq(n){let t=rq;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Ic(){return ly()}function sq(){return ly()}function ly(){return new gl(n=>n.toString(),(n,t)=>n.isEqual(t))}const _we=new vi(He.comparator),vwe=new Jn(He.comparator);function en(...n){let t=vwe;for(const e of n)t=t.add(e);return t}const ywe=new Jn(Ut);function oO(){return ywe}function sO(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jv(t)?"-0":t}}function aq(n){return{integerValue:""+n}}function cq(n,t){return yW(t)?aq(t):sO(n,t)}class pC{constructor(){this._=void 0}}function bwe(n,t,e){return n instanceof rm?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&oC(o)&&(o=sC(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(e,t):n instanceof Jd?uq(n,t):n instanceof eh?dq(n,t):function(r,o){const s=lq(r,o),a=hq(s)+hq(r.Pe);return XM(s)&&XM(r.Pe)?aq(a):sO(r.serializer,a)}(n,t)}function wwe(n,t,e){return n instanceof Jd?uq(n,t):n instanceof eh?dq(n,t):e}function lq(n,t){return n instanceof om?XM(i=t)||(o=i)&&"doubleValue"in o?t:{integerValue:0}:null;var i,o}class rm extends pC{}class Jd extends pC{constructor(t){super(),this.elements=t}}function uq(n,t){const e=fq(t);for(const i of n.elements)e.some(r=>Ec(r,i))||e.push(i);return{arrayValue:{values:e}}}class eh extends pC{constructor(t){super(),this.elements=t}}function dq(n,t){let e=fq(t);for(const i of n.elements)e=e.filter(r=>!Ec(r,i));return{arrayValue:{values:e}}}class om extends pC{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function hq(n){return Ni(n.integerValue||n.doubleValue)}function fq(n){return ny(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class uy{constructor(t,e){this.field=t,this.transform=e}}class Iwe{constructor(t,e){this.version=t,this.transformResults=e}}class Pi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Pi}static exists(t){return new Pi(void 0,t)}static updateTime(t){return new Pi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function mC(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class gC{}function pq(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new am(n.key,Pi.none()):new sm(n.key,n.data,Pi.none());{const e=n.data,i=ro.empty();let r=new Jn(Ci.comparator);for(let o of t.fields)if(!r.has(o)){let s=e.field(o);null===s&&o.length>1&&(o=o.popLast(),s=e.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new _l(n.key,i,new us(r.toArray()),Pi.none())}}function Cwe(n,t,e){n instanceof sm?function(r,o,s){const a=r.value.clone(),c=_q(r.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,t,e):n instanceof _l?function(r,o,s){if(!mC(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=_q(r.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(gq(r)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function dy(n,t,e,i){return n instanceof sm?function(o,s,a,c){if(!mC(o.precondition,s))return a;const l=o.value.clone(),u=vq(o.fieldTransforms,c,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,t,e,i):n instanceof _l?function(o,s,a,c){if(!mC(o.precondition,s))return a;const l=vq(o.fieldTransforms,c,s),u=s.data;return u.setAll(gq(o)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,t,e,i):(a=e,mC(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Twe(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=lq(i.transform,r||null);null!=o&&(null===e&&(e=ro.empty()),e.set(i.field,o))}return e||null}function mq(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&Yp(i,r,(o,s)=>function Ewe(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof Jd&&r instanceof Jd||i instanceof eh&&r instanceof eh?Yp(i.elements,r.elements,Ec):i instanceof om&&r instanceof om?Ec(i.Pe,r.Pe):i instanceof rm&&r instanceof rm);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class sm extends gC{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class _l extends gC{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function gq(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function _q(n,t,e){const i=new Map;ct(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],s=o.transform,a=t.data.field(o.field);i.set(o.field,wwe(s,a,e[r]))}return i}function vq(n,t,e){const i=new Map;for(const r of n){const o=r.transform,s=e.data.field(r.field);i.set(r.field,bwe(o,s,t))}return i}class am extends gC{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aO extends gC{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cO{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&Cwe(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=dy(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=dy(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=sq();return this.mutations.forEach(r=>{const o=t.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=e.has(r.key)?null:a;const c=pq(s,a);null!==c&&i.set(r.key,c),s.isValidDocument()||s.convertToNoDocument(mt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),en())}isEqual(t){return this.batchId===t.batchId&&Yp(this.mutations,t.mutations,(e,i)=>mq(e,i))&&Yp(this.baseMutations,t.baseMutations,(e,i)=>mq(e,i))}}class lO{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){ct(t.mutations.length===i.length);let r=function(){return _we}();const o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new lO(t,e,i,r)}}class uO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Dwe{constructor(t,e){this.count=t,this.unchangedNames=e}}var yr,Dn;function bq(n){switch(n){default:return Je();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0}}function wq(n){if(void 0===n)return lr("GRPC error has no .code"),ce.UNKNOWN;switch(n){case yr.OK:return ce.OK;case yr.CANCELLED:return ce.CANCELLED;case yr.UNKNOWN:return ce.UNKNOWN;case yr.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case yr.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case yr.INTERNAL:return ce.INTERNAL;case yr.UNAVAILABLE:return ce.UNAVAILABLE;case yr.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case yr.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case yr.NOT_FOUND:return ce.NOT_FOUND;case yr.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case yr.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case yr.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case yr.ABORTED:return ce.ABORTED;case yr.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case yr.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case yr.DATA_LOSS:return ce.DATA_LOSS;default:return Je()}}(Dn=yr||(yr={}))[Dn.OK=0]="OK",Dn[Dn.CANCELLED=1]="CANCELLED",Dn[Dn.UNKNOWN=2]="UNKNOWN",Dn[Dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dn[Dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dn[Dn.NOT_FOUND=5]="NOT_FOUND",Dn[Dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dn[Dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dn[Dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dn[Dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dn[Dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dn[Dn.ABORTED=10]="ABORTED",Dn[Dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dn[Dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dn[Dn.INTERNAL=13]="INTERNAL",Dn[Dn.UNAVAILABLE=14]="UNAVAILABLE",Dn[Dn.DATA_LOSS=15]="DATA_LOSS";function Eq(){return new TextEncoder}const Swe=new qd([4294967295,4294967295],0);function Iq(n){const t=Eq().encode(n),e=new tW;return e.update(t),new Uint8Array(e.digest())}function Cq(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new qd([e,i],0),new qd([r,o],0)]}class dO{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new hy(`Invalid padding: ${e}`);if(i<0)throw new hy(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new hy(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new hy(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=qd.fromNumber(this.Ie)}Ee(t,e,i){let r=t.add(e.multiply(qd.fromNumber(i)));return 1===r.compare(Swe)&&(r=new qd([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const e=Iq(t),[i,r]=Cq(e);for(let o=0;o<this.hashCount;o++){const s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new dO(o,r,e);return i.forEach(a=>s.insert(a)),s}insert(t){if(0===this.Ie)return;const e=Iq(t),[i,r]=Cq(e);for(let o=0;o<this.hashCount;o++){const s=this.Ee(i,r,o);this.Ae(s)}}Ae(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class hy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fy{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,py.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new fy(mt.min(),r,new vi(Ut),ds(),en())}}class py{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new py(i,e,en(),en(),en())}}class vC{constructor(t,e,i,r){this.Re=t,this.removedTargetIds=e,this.key=i,this.Ve=r}}class Tq{constructor(t,e){this.targetId=t,this.me=e}}class Dq{constructor(t,e,i=Ki.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class Sq{constructor(){this.fe=0,this.ge=Rq(),this.pe=Ki.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=en(),e=en(),i=en();return this.ge.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Je()}}),new py(this.pe,this.ye,t,e,i)}Ce(){this.we=!1,this.ge=Rq()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,ct(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Awe{constructor(t){this.Le=t,this.Be=new Map,this.ke=ds(),this.qe=Aq(),this.Qe=new vi(Ut)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const i=this.Ge(e);switch(t.state){case 0:this.ze(e)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),i.De(t.resumeToken));break;default:Je()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((i,r)=>{this.ze(r)&&e(r)})}He(t){const e=t.targetId,i=t.me.count,r=this.Je(e);if(r){const o=r.target;if(dC(o))if(0===i){const s=new He(o.path);this.Ue(e,s,Ti.newNoDocument(s,mt.min()))}else ct(1===i);else{const s=this.Ye(e);if(s!==i){const a=this.Ze(t),c=a?this.Xe(a,t,s):1;0!==c&&(this.je(e),this.Qe=this.Qe.insert(e,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let s,a;try{s=pl(i).toUint8Array()}catch(c){if(c instanceof xW)return ls("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new dO(s,r,o)}catch(c){return ls(c instanceof hy?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Ie?null:a}Xe(t,e,i){return e.me.count===i-this.nt(t,e.targetId)?0:2}nt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(a)||(this.Ue(e,o,null),r++)}),r}rt(t){const e=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&dC(a.target)){const c=new He(a.target.path);null!==this.ke.get(c)||this.it(s,c)||this.Ue(s,c,Ti.newNoDocument(c,t))}o.be&&(e.set(s,o.ve()),o.Ce())}});let i=en();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{const l=this.Je(c);return!l||"TargetPurposeLimboResolution"===l.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(t));const r=new fy(t,e,this.Qe,this.ke,i);return this.ke=ds(),this.qe=Aq(),this.Qe=new vi(Ut),r}$e(t,e){if(!this.ze(t))return;const i=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,i),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,i){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,e)?r.Fe(e,1):r.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),i&&(this.ke=this.ke.insert(e,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new Sq,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new Jn(Ut),this.qe=this.qe.insert(t,e)),e}ze(t){const e=null!==this.Je(t);return e||ke("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Sq),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function Aq(){return new vi(He.comparator)}function Rq(){return new vi(He.comparator)}const Rwe={asc:"ASCENDING",desc:"DESCENDING"},xwe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mwe={and:"AND",or:"OR"};class Owe{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function hO(n,t){return n.useProto3Json||Xv(t)?t:{value:t}}function cm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xq(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function kwe(n,t){return cm(n,t.toTimestamp())}function ur(n){return ct(!!n),mt.fromTimestamp(function(e){const i=fl(e);return new ki(i.seconds,i.nanos)}(n))}function fO(n,t){return pO(n,t).canonicalString()}function pO(n,t){const e=(r=n,new bn(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?e:e.child(t)}function Mq(n){const t=bn.fromString(n);return ct(Hq(t)),t}function my(n,t){return fO(n.databaseId,t.path)}function Cc(n,t){const e=Mq(t);if(e.get(1)!==n.databaseId.projectId)throw new xe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new xe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new He(Nq(e))}function Oq(n,t){return fO(n.databaseId,t)}function kq(n){const t=Mq(n);return 4===t.length?bn.emptyPath():Nq(t)}function mO(n){return new bn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Nq(n){return ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Pq(n,t,e){return{name:my(n,t),fields:e.value.mapValue.fields}}function Fq(n,t,e){const i=Cc(n,t.name),r=ur(t.updateTime),o=t.createTime?ur(t.createTime):mt.min(),s=new ro({mapValue:{fields:t.fields}}),a=Ti.newFoundDocument(i,r,o,s);return e&&a.setHasCommittedMutations(),e?a.setHasCommittedMutations():a}function gy(n,t){let e;if(t instanceof sm)e={update:Pq(n,t.key,t.value)};else if(t instanceof am)e={delete:my(n,t.key)};else if(t instanceof _l)e={update:Pq(n,t.key,t.data),updateMask:jwe(t.fieldMask)};else{if(!(t instanceof aO))return Je();e={verify:my(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof rm)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Jd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof eh)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof om)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Je()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(o=t.precondition).updateTime?{updateTime:kwe(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Je()),e;var o}function gO(n,t){const e=t.currentDocument?void 0!==(o=t.currentDocument).updateTime?Pi.updateTime(ur(o.updateTime)):void 0!==o.exists?Pi.exists(o.exists):Pi.none():Pi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,a){let c=null;"setToServerValue"in a?(ct("REQUEST_TIME"===a.setToServerValue),c=new rm):"appendMissingElements"in a?c=new Jd(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new eh(a.removeAllFromArray.values||[]):"increment"in a?c=new om(s,a.increment):Je();const l=Ci.fromServerFormat(a.fieldPath);return new uy(l,c)}(n,r)):[];var o;if(t.update){const r=Cc(n,t.update.name),o=new ro({mapValue:{fields:t.update.fields}});if(t.updateMask){const s=new us((t.updateMask.fieldPaths||[]).map(u=>Ci.fromServerFormat(u)));return new _l(r,o,s,e,i)}return new sm(r,o,e,i)}if(t.delete){const r=Cc(n,t.delete);return new am(r,e)}if(t.verify){const r=Cc(n,t.verify);return new aO(r,e)}return Je()}function Lq(n,t){return{documents:[Oq(n,t.path)]}}function yC(n,t){const e={structuredQuery:{}},i=t.path;let r;null!==t.collectionGroup?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=Oq(n,r);const o=function(l){if(0!==l.length)return jq(Qn.create(l,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const s=function(l){if(0!==l.length)return l.map(u=>{return{field:Eu((_=u).field),direction:Vwe(_.dir)};var _})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const a=hO(n,t.limit);return null!==a&&(e.structuredQuery.limit=a),t.startAt&&(e.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(e.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),{_t:e,parent:r};var l}function Bq(n){let t=kq(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){ct(1===i);const u=e.from[0];u.allDescendants?r=u.collectionId:t=t.child(u.collectionId)}let o=[];e.where&&(o=function(p){const _=Uq(p);return _ instanceof Qn&&eO(_)?_.getFilters():[_]}(e.where));let s=[];e.orderBy&&(s=e.orderBy.map(_=>{return new ry(lm((b=_).field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;e.limit&&(a=function(p){let _;return _="object"==typeof p?p.value:p,Xv(_)?null:_}(e.limit));let c=null;var p;e.startAt&&(c=new wu((p=e.startAt).values||[],!!p.before));let l=null;return e.endAt&&(l=function(p){return new wu(p.values||[],!p.before)}(e.endAt)),ZW(t,r,s,o,a,"F",c,l)}function Uq(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=lm(e.unaryFilter.field);return wn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=lm(e.unaryFilter.field);return wn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=lm(e.unaryFilter.field);return wn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=lm(e.unaryFilter.field);return wn.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}(n):void 0!==n.fieldFilter?wn.create(lm((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Qn.create(e.compositeFilter.filters.map(i=>Uq(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Je()}}(e.compositeFilter.op))}(n):Je();var e}function Vwe(n){return Rwe[n]}function Bwe(n){return xwe[n]}function Uwe(n){return Mwe[n]}function Eu(n){return{fieldPath:n.canonicalString()}}function lm(n){return Ci.fromServerFormat(n.fieldPath)}function jq(n){return n instanceof wn?function(e){if("=="===e.op){if(NW(e.value))return{unaryFilter:{field:Eu(e.field),op:"IS_NAN"}};if(kW(e.value))return{unaryFilter:{field:Eu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(NW(e.value))return{unaryFilter:{field:Eu(e.field),op:"IS_NOT_NAN"}};if(kW(e.value))return{unaryFilter:{field:Eu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eu(e.field),op:Bwe(e.op),value:e.value}}}(n):n instanceof Qn?function(e){const i=e.getFilters().map(r=>jq(r));return 1===i.length?i[0]:{compositeFilter:{op:Uwe(e.op),filters:i}}}(n):Je()}function jwe(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Hq(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class vl{constructor(t,e,i,r,o=mt.min(),s=mt.min(),a=Ki.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(t){return new vl(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new vl(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new vl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new vl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class zq{constructor(t){this.ct=t}}function $q(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:bC(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:my(o=n.ct,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:cm(o,s.version.toTimestamp()),createTime:cm(o,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:th(t.version)};else{if(!t.isUnknownDocument())return Je();i.unknownDocument={path:e.path.toArray(),version:th(t.version)}}var o,s;return i}function bC(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function th(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function nh(n){const t=new ki(n.seconds,n.nanoseconds);return mt.fromTimestamp(t)}function ih(n,t){const e=(t.baseMutations||[]).map(o=>gO(n.ct,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>gO(n.ct,o)),r=ki.fromMillis(t.localWriteTimeMs);return new cO(t.batchId,r,e,i)}function _y(n){const t=nh(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?nh(n.lastLimboFreeSnapshotVersion):mt.min();let i;return i=void 0!==n.query.documents?(ct(1===(o=n.query).documents.length),bo(tm(kq(o.documents[0])))):function(o){return bo(Bq(o))}(n.query),new vl(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Ki.fromBase64String(n.resumeToken));var o}function Gq(n,t){const e=th(t.snapshotVersion),i=th(t.lastLimboFreeSnapshotVersion);let r;r=dC(t.target)?Lq(n.ct,t.target):yC(n.ct,t.target)._t;const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Xd(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function _O(n){const t=Bq({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?fC(t,t.limit,"L"):t}function vO(n,t){return new uO(t.largestBatchId,gO(n.ct,t.overlayMutation))}function Wq(n,t){const e=t.path.lastSegment();return[n,yo(t.path.popLast()),e]}function qq(n,t,e,i){return{indexId:n,uid:t,sequenceNumber:e,readTime:th(i.readTime),documentKey:yo(i.documentKey.path),largestBatchId:i.largestBatchId}}class zwe{getBundleMetadata(t,e){return Kq(t).get(e).next(i=>{if(i)return{id:(o=i).bundleId,createTime:nh(o.createTime),version:o.version};var o})}saveBundleMetadata(t,e){return Kq(t).put({bundleId:(r=e).id,createTime:th(ur(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return Yq(t).get(e).next(i=>{if(i)return{name:(o=i).name,query:_O(o.bundledQuery),readTime:nh(o.readTime)};var o})}saveNamedQuery(t,e){return Yq(t).put({name:(r=e).name,readTime:th(ur(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Kq(n){return Nr(n,"bundles")}function Yq(n){return Nr(n,"namedQueries")}class wC{constructor(t,e){this.serializer=t,this.userId=e}static lt(t,e){return new wC(t,e.uid||"")}getOverlay(t,e){return vy(t).get(Wq(this.userId,e)).next(i=>i?vO(this.serializer,i):null)}getOverlays(t,e){const i=Ic();return ee.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,s)=>{const a=new uO(e,s);r.push(this.ht(t,a))}),ee.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(s=>r.add(yo(s.getCollectionPath())));const o=[];return r.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,i+1],!1,!0);o.push(vy(t).j("collectionPathOverlayIndex",a))}),ee.waitFor(o)}getOverlaysForCollection(t,e,i){const r=Ic(),o=yo(e),s=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return vy(t).U("collectionPathOverlayIndex",s).next(a=>{for(const c of a){const l=vO(this.serializer,c);r.set(l.getKey(),l)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=Ic();let s;const a=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return vy(t).J({index:"collectionGroupOverlayIndex",range:a},(c,l,u)=>{const p=vO(this.serializer,l);o.size()<r||p.largestBatchId===s?(o.set(p.getKey(),p),s=p.largestBatchId):u.done()}).next(()=>o)}ht(t,e){return vy(t).put(function(r,o,s){const[a,c,l]=Wq(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:gy(r.ct,s.mutation)}}(this.serializer,this.userId,e))}}function vy(n){return Nr(n,"documentOverlays")}class $we{Pt(t){return Nr(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(e=>{const i=e?.value;return i?Ki.fromUint8Array(i):Ki.EMPTY_BYTE_STRING})}setSessionToken(t,e){return this.Pt(t).put({name:"sessionToken",value:e.toUint8Array()})}}class rh{constructor(){}It(t,e){this.Tt(t,e),e.Et()}Tt(t,e){if("nullValue"in t)this.dt(e,5);else if("booleanValue"in t)this.dt(e,10),e.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(e,15),e.At(Ni(t.integerValue));else if("doubleValue"in t){const i=Ni(t.doubleValue);isNaN(i)?this.dt(e,13):(this.dt(e,15),Jv(i)?e.At(0):e.At(i))}else if("timestampValue"in t){let i=t.timestampValue;this.dt(e,20),"string"==typeof i&&(i=fl(i)),e.Rt(`${i.seconds||""}`),e.At(i.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,e),this.ft(e);else if("bytesValue"in t)this.dt(e,30),e.gt(pl(t.bytesValue)),this.ft(e);else if("referenceValue"in t)this.yt(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.dt(e,45),e.At(i.latitude||0),e.At(i.longitude||0)}else"mapValue"in t?PW(t)?this.dt(e,Number.MAX_SAFE_INTEGER):uC(t)?this.wt(t.mapValue,e):(this.St(t.mapValue,e),this.ft(e)):"arrayValue"in t?(this.bt(t.arrayValue,e),this.ft(e)):Je()}Vt(t,e){this.dt(e,25),this.Dt(t,e)}Dt(t,e){e.Rt(t)}St(t,e){const i=t.fields||{};this.dt(e,55);for(const r of Object.keys(i))this.Vt(r,e),this.Tt(i[r],e)}wt(t,e){var i,r;const o=t.fields||{};this.dt(e,53);const s="value",a=(null===(r=null===(i=o[s].arrayValue)||void 0===i?void 0:i.values)||void 0===r?void 0:r.length)||0;this.dt(e,15),e.At(Ni(a)),this.Vt(s,e),this.Tt(o[s],e)}bt(t,e){const i=t.values||[];this.dt(e,50);for(const r of i)this.Tt(r,e)}yt(t,e){this.dt(e,37),He.fromName(t).path.forEach(i=>{this.dt(e,60),this.Dt(i,e)})}dt(t,e){t.At(e)}ft(t){t.At(2)}}function Gwe(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function Qq(n){const t=64-function(i){let r=0;for(let o=0;o<8;++o){const s=Gwe(255&i[o]);if(r+=s,8!==s)break}return r}(n);return Math.ceil(t/8)}rh.vt=new rh;class Wwe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ft(i.value),i=e.next();this.Mt()}xt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ot(i.value),i=e.next();this.Nt()}Lt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ft(i);else if(i<2048)this.Ft(960|i>>>6),this.Ft(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ft(480|i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i);else{const r=e.codePointAt(0);this.Ft(240|r>>>18),this.Ft(128|63&r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r)}}this.Mt()}Bt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ot(i);else if(i<2048)this.Ot(960|i>>>6),this.Ot(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ot(480|i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i);else{const r=e.codePointAt(0);this.Ot(240|r>>>18),this.Ot(128|63&r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r)}}this.Nt()}kt(t){const e=this.qt(t),i=Qq(e);this.Qt(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Kt(t){const e=this.qt(t),i=Qq(e);this.Qt(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){const e=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(t),i=!!(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ft(t){const e=255&t;0===e?(this.Ut(0),this.Ut(255)):255===e?(this.Ut(255),this.Ut(0)):this.Ut(e)}Ot(t){const e=255&t;0===e?(this.Gt(0),this.Gt(255)):255===e?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class qwe{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}}class Kwe{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}}class yy{constructor(){this.jt=new Wwe,this.Ht=new qwe(this.jt),this.Jt=new Kwe(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return 0===t?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class oh{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Zt(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new oh(this.indexId,this.documentKey,this.arrayValue,i)}}function Iu(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=Zq(n.arrayValue,t.arrayValue),0!==e?e:(e=Zq(n.directionalValue,t.directionalValue),0!==e?e:He.comparator(n.documentKey,t.documentKey)))}function Zq(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class Xq{constructor(t){this.Xt=new Jn((e,i)=>Ci.comparator(e.field,i.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(const e of t.filters){const i=e;i.isInequality()?this.Xt=this.Xt.add(i):this.tn.push(i)}}get nn(){return this.Xt.size>1}rn(t){if(ct(t.collectionGroup===this.collectionId),this.nn)return!1;const e=GM(t);if(void 0!==e&&!this.sn(e))return!1;const i=Kd(t);let r=new Set,o=0,s=0;for(;o<i.length&&this.sn(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!r.has(a.field.canonicalString())){const c=i[o];if(!this.on(a,c)||!this._n(this.en[s++],c))return!1}++o}for(;o<i.length;++o)if(s>=this.en.length||!this._n(this.en[s++],i[o]))return!1;return!0}an(){if(this.nn)return null;let t=new Jn(Ci.comparator);const e=[];for(const i of this.tn)if(!i.field.isKeyField())if("array-contains"===i.op||"array-contains-any"===i.op)e.push(new Yd(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new Yd(i.field,0))}for(const i of this.en)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new Yd(i.field,"asc"===i.dir?0:1)));return new Qp(Qp.UNKNOWN_ID,this.collectionId,e,Zp.empty())}sn(t){for(const e of this.tn)if(this.on(e,t))return!0;return!1}on(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}_n(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function Jq(n){var t,e;if(ct(n instanceof wn||n instanceof Qn),n instanceof wn){if(n instanceof KW){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>wn.create(n.field,"==",o)))||[];return Qn.create(r,"or")}return n}const i=n.filters.map(r=>Jq(r));return Qn.create(i,n.op)}function Ywe(n){if(0===n.getFilters().length)return[];const t=wO(Jq(n));return ct(e6(t)),yO(t)||bO(t)?[t]:t.getFilters()}function yO(n){return n instanceof wn}function bO(n){return n instanceof Qn&&eO(n)}function e6(n){return yO(n)||bO(n)||function(e){if(e instanceof Qn&&JM(e)){for(const i of e.getFilters())if(!yO(i)&&!bO(i))return!1;return!0}return!1}(n)}function wO(n){if(ct(n instanceof wn||n instanceof Qn),n instanceof wn)return n;if(1===n.filters.length)return wO(n.filters[0]);const t=n.filters.map(i=>wO(i));let e=Qn.create(t,n.op);return e=EC(e),e6(e)?e:(ct(e instanceof Qn),ct(em(e)),ct(e.filters.length>1),e.filters.reduce((i,r)=>EO(i,r)))}function EO(n,t){let e;return ct(n instanceof wn||n instanceof Qn),ct(t instanceof wn||t instanceof Qn),e=n instanceof wn?t instanceof wn?Qn.create([n,t],"and"):t6(n,t):t instanceof wn?t6(t,n):function(r,o){if(ct(r.filters.length>0&&o.filters.length>0),em(r)&&em(o))return GW(r,o.getFilters());const s=JM(r)?r:o,a=JM(r)?o:r,c=s.filters.map(l=>EO(l,a));return Qn.create(c,"or")}(n,t),EC(e)}function t6(n,t){if(em(t))return GW(t,n.getFilters());{const e=t.filters.map(i=>EO(n,i));return Qn.create(e,"or")}}function EC(n){if(ct(n instanceof wn||n instanceof Qn),n instanceof wn)return n;const t=n.getFilters();if(1===t.length)return EC(t[0]);if(zW(n))return n;const e=t.map(r=>EC(r)),i=[];return e.forEach(r=>{r instanceof wn?i.push(r):r instanceof Qn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Qn.create(i,n.op)}class Qwe{constructor(){this.un=new IO}addToCollectionParentIndex(t,e){return this.un.add(e),ee.resolve()}getCollectionParents(t,e){return ee.resolve(this.un.getEntries(e))}addFieldIndex(t,e){return ee.resolve()}deleteFieldIndex(t,e){return ee.resolve()}deleteAllFieldIndexes(t){return ee.resolve()}createTargetIndexes(t,e){return ee.resolve()}getDocumentsMatchingTarget(t,e){return ee.resolve(null)}getIndexType(t,e){return ee.resolve(0)}getFieldIndexes(t,e){return ee.resolve([])}getNextCollectionGroupToUpdate(t){return ee.resolve(null)}getMinOffset(t,e){return ee.resolve(Ps.min())}getMinOffsetFromCollectionGroup(t,e){return ee.resolve(Ps.min())}updateCollectionGroup(t,e,i){return ee.resolve()}updateIndexEntries(t,e){return ee.resolve()}}class IO{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Jn(bn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Jn(bn.comparator)).toArray()}}const IC=new Uint8Array(0);class Zwe{constructor(t,e){this.databaseId=e,this.cn=new IO,this.ln=new gl(i=>Xd(i),(i,r)=>oy(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.cn.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.cn.add(e)});const o={collectionId:i,parent:yo(r)};return n6(t).put(o)}return ee.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[hW(e),""],!1,!0);return n6(t).U(r).next(o=>{for(const s of o){if(s.collectionId!==e)break;i.push(wc(s.parent))}return i})}addFieldIndex(t,e){const i=by(t),r={indexId:(a=e).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete r.indexId;const o=i.add(r);if(e.indexState){const s=dm(t);return o.next(a=>{s.put(qq(a,this.uid,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=by(t),r=dm(t),o=um(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const e=by(t),i=um(t),r=dm(t);return e.j().next(()=>i.j()).next(()=>r.j())}createTargetIndexes(t,e){return ee.forEach(this.hn(e),i=>this.getIndexType(t,i).next(r=>{if(0===r||1===r){const o=new Xq(i).an();if(null!=o)return this.addFieldIndex(t,o)}}))}getDocumentsMatchingTarget(t,e){const i=um(t);let r=!0;const o=new Map;return ee.forEach(this.hn(e),s=>this.Pn(t,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=en();const a=[];return ee.forEach(o,(c,l)=>{var j;ke("IndexedDbIndexManager",`Using index ${j=c,`id=${j.indexId}|cg=${j.collectionGroup}|f=${j.fields.map(Y=>`${Y.fieldPath}:${Y.kind}`).join(",")}`} to execute ${Xd(e)}`);const u=function(j,Y){const me=GM(Y);if(void 0===me)return null;for(const we of hC(j,me.fieldPath))switch(we.op){case"array-contains-any":return we.value.arrayValue.values||[];case"array-contains":return[we.value]}return null}(l,c),p=function(j,Y){const me=new Map;for(const we of Kd(Y))for(const B of hC(j,we.fieldPath))switch(B.op){case"==":case"in":me.set(we.fieldPath.canonicalString(),B.value);break;case"not-in":case"!=":return me.set(we.fieldPath.canonicalString(),B.value),Array.from(me.values())}return null}(l,c),_=function(j,Y){const me=[];let we=!0;for(const B of Kd(Y)){const M=0===B.kind?YW(j,B.fieldPath,j.startAt):QW(j,B.fieldPath,j.startAt);me.push(M.value),we&&(we=M.inclusive)}return new wu(me,we)}(l,c),v=function(j,Y){const me=[];let we=!0;for(const B of Kd(Y)){const M=0===B.kind?QW(j,B.fieldPath,j.endAt):YW(j,B.fieldPath,j.endAt);me.push(M.value),we&&(we=M.inclusive)}return new wu(me,we)}(l,c),b=this.In(c,l,_),C=this.In(c,l,v),D=this.Tn(c,l,p),N=this.En(c.indexId,u,b,_.inclusive,C,v.inclusive,D);return ee.forEach(N,k=>i.G(k,e.limit).next(j=>{j.forEach(Y=>{const me=He.fromSegments(Y.documentKey);s.has(me)||(s=s.add(me),a.push(me))})}))}).next(()=>a)}return ee.resolve(null)})}hn(t){let e=this.ln.get(t);return e||(e=0===t.filters.length?[t]:Ywe(Qn.create(t.filters,"and")).map(i=>nO(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,e),e)}En(t,e,i,r,o,s,a){const c=(null!=e?e.length:1)*Math.max(i.length,o.length),l=c/(null!=e?e.length:1),u=[];for(let p=0;p<c;++p){const _=e?this.dn(e[p/l]):IC,v=this.An(t,_,i[p%l],r),b=this.Rn(t,_,o[p%l],s),C=a.map(D=>this.An(t,_,D,!0));u.push(...this.createRange(v,b,C))}return u}An(t,e,i,r){const o=new oh(t,He.empty(),e,i);return r?o:o.Zt()}Rn(t,e,i,r){const o=new oh(t,He.empty(),e,i);return r?o.Zt():o}Pn(t,e){const i=new Xq(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let s=null;for(const a of o)i.rn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(t,e){let i=2;const r=this.hn(e);return ee.forEach(r,o=>this.Pn(t,o).next(s=>{s?0!==i&&s.fields.length<function(c){let l=new Jn(Ci.comparator),u=!1;for(const p of c.filters)for(const _ of p.getFlattenedFilters())_.field.isKeyField()||("array-contains"===_.op||"array-contains-any"===_.op?u=!0:l=l.add(_.field));for(const p of c.orderBy)p.field.isKeyField()||(l=l.add(p.field));return l.size+(u?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}Vn(t,e){const i=new yy;for(const r of Kd(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const s=i.Yt(r.kind);rh.vt.It(o,s)}return i.zt()}dn(t){const e=new yy;return rh.vt.It(t,e.Yt(0)),e.zt()}mn(t,e){const i=new yy;return rh.vt.It(Zd(this.databaseId,e),i.Yt(function(o){const s=Kd(o);return 0===s.length?0:s[s.length-1].kind}(t))),i.zt()}Tn(t,e,i){if(null===i)return[];let r=[];r.push(new yy);let o=0;for(const s of Kd(t)){const a=i[o++];for(const c of r)if(this.fn(e,s.fieldPath)&&ny(a))r=this.gn(r,s,a);else{const l=c.Yt(s.kind);rh.vt.It(a,l)}}return this.pn(r)}In(t,e,i){return this.Tn(t,e,i.position)}pn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].zt();return e}gn(t,e,i){const r=[...t],o=[];for(const s of i.arrayValue.values||[])for(const a of r){const c=new yy;c.seed(a.zt()),rh.vt.It(s,c.Yt(e.kind)),o.push(c)}return o}fn(t,e){return!!t.filters.find(i=>i instanceof wn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=by(t),r=dm(t);return(e?i.U("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.U()).next(o=>{const s=[];return ee.forEach(o,a=>r.get([a.indexId,this.uid]).next(c=>{s.push(function(u,p){const _=p?new Zp(p.sequenceNumber,new Ps(nh(p.readTime),new He(wc(p.documentKey)),p.largestBatchId)):Zp.empty(),v=u.fields.map(([b,C])=>new Yd(Ci.fromServerFormat(b),C));return new Qp(u.indexId,u.collectionGroup,v,_)}(a,c))})).next(()=>s)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Ut(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=by(t),o=dm(t);return this.yn(t).next(s=>r.U("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(a=>ee.forEach(a,c=>o.put(qq(c.indexId,this.uid,s,i)))))}updateIndexEntries(t,e){const i=new Map;return ee.forEach(e,(r,o)=>{const s=i.get(r.collectionGroup);return(s?ee.resolve(s):this.getFieldIndexes(t,r.collectionGroup)).next(a=>(i.set(r.collectionGroup,a),ee.forEach(a,c=>this.wn(t,r,c).next(l=>{const u=this.Sn(o,c);return l.isEqual(u)?ee.resolve():this.bn(t,o,c,l,u)}))))})}Dn(t,e,i,r){return um(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,e.key),documentKey:e.key.path.toArray()})}vn(t,e,i,r){return um(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=um(t);let o=new Jn(Iu);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,e)])},(s,a)=>{o=o.add(new oh(i.indexId,e,a.arrayValue,a.directionalValue))}).next(()=>o)}Sn(t,e){let i=new Jn(Iu);const r=this.Vn(e,t);if(null==r)return i;const o=GM(e);if(null!=o){const s=t.data.field(o.fieldPath);if(ny(s))for(const a of s.arrayValue.values||[])i=i.add(new oh(e.indexId,t.key,this.dn(a),r))}else i=i.add(new oh(e.indexId,t.key,IC,r));return i}bn(t,e,i,r,o){ke("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(c,l,u,p,_){const v=c.getIterator(),b=l.getIterator();let C=Xp(v),D=Xp(b);for(;C||D;){let N=!1,k=!1;if(C&&D){const j=u(C,D);j<0?k=!0:j>0&&(N=!0)}else null!=C?k=!0:N=!0;N?(p(D),D=Xp(b)):k?(_(C),C=Xp(v)):(C=Xp(v),D=Xp(b))}}(r,o,Iu,a=>{s.push(this.Dn(t,e,i,a))},a=>{s.push(this.vn(t,e,i,a))}),ee.waitFor(s)}yn(t){let e=1;return dm(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((s,a)=>Iu(s,a)).filter((s,a,c)=>!a||0!==Iu(s,c[a-1]));const r=[];r.push(t);for(const s of i){const a=Iu(s,t),c=Iu(s,e);if(0===a)r[0]=t.Zt();else if(a>0&&c<0)r.push(s),r.push(s.Zt());else if(c>0)break}r.push(e);const o=[];for(let s=0;s<r.length;s+=2){if(this.Cn(r[s],r[s+1]))return[];o.push(IDBKeyRange.bound([r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,IC,[]],[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,IC,[]]))}return o}Cn(t,e){return Iu(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(i6)}getMinOffset(t,e){return ee.mapArray(this.hn(e),i=>this.Pn(t,i).next(r=>r||Je())).next(i6)}}function n6(n){return Nr(n,"collectionParents")}function um(n){return Nr(n,"indexEntries")}function by(n){return Nr(n,"indexConfiguration")}function dm(n){return Nr(n,"indexState")}function i6(n){ct(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;WM(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Ps(t.readTime,t.documentKey,e)}const r6={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class wo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new wo(t,wo.DEFAULT_COLLECTION_PERCENTILE,wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function o6(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(e.batchId);let a=0;const c=i.J({range:s},(u,p,_)=>(a++,_.delete()));o.push(c.next(()=>{ct(1===a)}));const l=[];for(const u of e.mutations){const p=EW(t,u.key.path,e.batchId);o.push(r.delete(p)),l.push(u.key)}return ee.waitFor(o).next(()=>l)}function CC(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw Je();t=n.noDocument}return JSON.stringify(t).length}wo.DEFAULT_COLLECTION_PERCENTILE=10,wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wo.DEFAULT=new wo(41943040,wo.DEFAULT_COLLECTION_PERCENTILE,wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wo.DISABLED=new wo(-1,0,0);class TC{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Fn={}}static lt(t,e,i,r){ct(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new TC(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cu(t).J({index:"userMutationsIndex",range:i},(r,o,s)=>{e=!1,s.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=hm(t),s=Cu(t);return s.add({}).next(a=>{ct("number"==typeof a);const c=new cO(a,e,i,r),l=function(v,b,C){const D=C.baseMutations.map(k=>gy(v.ct,k)),N=C.mutations.map(k=>gy(v.ct,k));return{userId:b,batchId:C.batchId,localWriteTimeMs:C.localWriteTime.toMillis(),baseMutations:D,mutations:N}}(this.serializer,this.userId,c),u=[];let p=new Jn((_,v)=>Ut(_.canonicalString(),v.canonicalString()));for(const _ of r){const v=EW(this.userId,_.key.path,a);p=p.add(_.key.path.popLast()),u.push(s.put(l)),u.push(o.put(v,V0e))}return p.forEach(_=>{u.push(this.indexManager.addToCollectionParentIndex(t,_))}),t.addOnCommittedListener(()=>{this.Fn[a]=c.keys()}),ee.waitFor(u).next(()=>c)})}lookupMutationBatch(t,e){return Cu(t).get(e).next(i=>i?(ct(i.userId===this.userId),ih(this.serializer,i)):null)}Mn(t,e){return this.Fn[e]?ee.resolve(this.Fn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Fn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Cu(t).J({index:"userMutationsIndex",range:r},(s,a,c)=>{a.userId===this.userId&&(ct(a.batchId>=i),o=ih(this.serializer,a)),c.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Cu(t).J({index:"userMutationsIndex",range:e,reverse:!0},(r,o,s)=>{i=o.batchId,s.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cu(t).U("userMutationsIndex",e).next(i=>i.map(r=>ih(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=iC(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return hm(t).J({range:r},(s,a,c)=>{const[l,u,p]=s,_=wc(u);if(l===this.userId&&e.path.isEqual(_))return Cu(t).get(p).next(v=>{if(!v)throw Je();ct(v.userId===this.userId),o.push(ih(this.serializer,v))});c.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Jn(Ut);const r=[];return e.forEach(o=>{const s=iC(this.userId,o.path),a=IDBKeyRange.lowerBound(s),c=hm(t).J({range:a},(l,u,p)=>{const[_,v,b]=l,C=wc(v);_===this.userId&&o.path.isEqual(C)?i=i.add(b):p.done()});r.push(c)}),ee.waitFor(r).next(()=>this.xn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=iC(this.userId,i),s=IDBKeyRange.lowerBound(o);let a=new Jn(Ut);return hm(t).J({range:s},(c,l,u)=>{const[p,_,v]=c,b=wc(_);p===this.userId&&i.isPrefixOf(b)?b.length===r&&(a=a.add(v)):u.done()}).next(()=>this.xn(t,a))}xn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Cu(t).get(o).next(s=>{if(null===s)throw Je();ct(s.userId===this.userId),i.push(ih(this.serializer,s))}))}),ee.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return o6(t._e,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.On(e.batchId)}),ee.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ee.resolve();const i=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),r=[];return hm(t).J({range:i},(o,s,a)=>{if(o[0]===this.userId){const c=wc(o[1]);r.push(c)}else a.done()}).next(()=>{ct(0===r.length)})})}containsKey(t,e){return s6(t,this.userId,e)}Nn(t){return a6(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function s6(n,t,e){const i=iC(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let s=!1;return hm(n).J({range:o,H:!0},(a,c,l)=>{const[u,p,_]=a;u===t&&p===r&&(s=!0),l.done()}).next(()=>s)}function Cu(n){return Nr(n,"mutations")}function hm(n){return Nr(n,"documentMutations")}function a6(n){return Nr(n,"mutationQueues")}class sh{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new sh(0)}static kn(){return new sh(-1)}}class Xwe{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.qn(t).next(e=>{const i=new sh(e.highestTargetId);return e.highestTargetId=i.next(),this.Qn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(e=>mt.fromTimestamp(new ki(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.qn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Qn(t,r)))}addTargetData(t,e){return this.Kn(t,e).next(()=>this.qn(t).next(i=>(i.targetCount+=1,this.$n(e,i),this.Qn(t,i))))}updateTargetData(t,e){return this.Kn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>fm(t).delete(e.targetId)).next(()=>this.qn(t)).next(i=>(ct(i.targetCount>0),i.targetCount-=1,this.Qn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return fm(t).J((s,a)=>{const c=_y(a);c.sequenceNumber<=e&&null===i.get(c.targetId)&&(r++,o.push(this.removeTargetData(t,c)))}).next(()=>ee.waitFor(o)).next(()=>r)}forEachTarget(t,e){return fm(t).J((i,r)=>{const o=_y(r);e(o)})}qn(t){return c6(t).get("targetGlobalKey").next(e=>(ct(null!==e),e))}Qn(t,e){return c6(t).put("targetGlobalKey",e)}Kn(t,e){return fm(t).put(Gq(this.serializer,e))}$n(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.qn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Xd(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return fm(t).J({range:r,index:"queryTargetsIndex"},(s,a,c)=>{const l=_y(a);oy(e,l.target)&&(o=l,c.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=Tu(t);return e.forEach(s=>{const a=yo(s.path);r.push(o.put({targetId:i,path:a})),r.push(this.referenceDelegate.addReference(t,i,s))}),ee.waitFor(r)}removeMatchingKeys(t,e,i){const r=Tu(t);return ee.forEach(e,o=>{const s=yo(o.path);return ee.waitFor([r.delete([i,s]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Tu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Tu(t);let o=en();return r.J({range:i,H:!0},(s,a,c)=>{const l=wc(s[1]),u=new He(l);o=o.add(u)}).next(()=>o)}containsKey(t,e){const i=yo(e.path),r=IDBKeyRange.bound([i],[hW(i)],!1,!0);let o=0;return Tu(t).J({index:"documentTargetsIndex",H:!0,range:r},([s,a],c,l)=>{0!==s&&(o++,l.done())}).next(()=>o>0)}ot(t,e){return fm(t).get(e).next(i=>i?_y(i):null)}}function fm(n){return Nr(n,"targets")}function c6(n){return Nr(n,"targetGlobal")}function Tu(n){return Nr(n,"targetDocuments")}function l6([n,t],[e,i]){const r=Ut(n,e);return 0===r?Ut(t,i):r}class Jwe{constructor(t){this.Un=t,this.buffer=new Jn(l6),this.Wn=0}Gn(){return++this.Wn}zn(t){const e=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();l6(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class u6{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(t){var e=this;ke("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,he.A)(function*(){e.jn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){mu(i)?ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield pu(i)}yield e.Hn(3e5)}))}}class eEe{constructor(t,e){this.Jn=t,this.params=e}calculateTargetCount(t,e){return this.Jn.Yn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ee.resolve(Fs.oe);const i=new Jwe(e);return this.Jn.forEachTarget(t,r=>i.zn(r.sequenceNumber)).next(()=>this.Jn.Zn(t,r=>i.zn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(r6)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r6):this.Xn(t,e))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,e){let i,r,o,s,a,c,l;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,s=Date.now(),this.nthSequenceNumber(t,r))).next(p=>(i=p,a=Date.now(),this.removeTargets(t,i,e))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(t,i))).next(p=>(l=Date.now(),Kp()<=yc.$b.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(a-s)+`ms\n\tRemoved ${o} targets in `+(c-a)+`ms\n\tRemoved ${p} documents in `+(l-c)+`ms\nTotal Duration: ${l-u}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:p})))}}class tEe{constructor(t,e){this.db=t,this.garbageCollector=function d6(n,t){return new eEe(n,t)}(this,e)}Yn(t){const e=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}er(t){let e=0;return this.Zn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Zn(t,e){return this.tr(t,(i,r)=>e(r))}addReference(t,e,i){return DC(t,i)}removeReference(t,e,i){return DC(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return DC(t,e)}nr(t,e){return function(r,o){let s=!1;return a6(r).Y(a=>s6(r,a,o).next(c=>(c&&(s=!0),ee.resolve(!c)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.tr(t,(s,a)=>{if(a<=e){const c=this.nr(t,s).next(l=>{if(!l)return o++,i.getEntry(t,s).next(()=>(i.removeEntry(s,mt.min()),Tu(t).delete([0,yo(s.path)])))});r.push(c)}}).next(()=>ee.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return DC(t,e)}tr(t,e){const i=Tu(t);let r,o=Fs.oe;return i.J({index:"documentTargetsIndex"},([s,a],{path:c,sequenceNumber:l})=>{0===s?(o!==Fs.oe&&e(new He(wc(r)),o),o=l,r=c):o=Fs.oe}).next(()=>{o!==Fs.oe&&e(new He(wc(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function DC(n,t){return Tu(n).put((r=n.currentSequenceNumber,{targetId:0,path:yo(t.path),sequenceNumber:r}));var r}class h6{constructor(){this.changes=new gl(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ti.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ee.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class nEe{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return ah(t).put(i)}removeEntry(t,e,i){return ah(t).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],bC(s),a[a.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.rr(t,i)))}getEntry(t,e){let i=Ti.newInvalidDocument(e);return ah(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(wy(e))},(r,o)=>{i=this.ir(e,o)}).next(()=>i)}sr(t,e){let i={size:0,document:Ti.newInvalidDocument(e)};return ah(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(wy(e))},(r,o)=>{i={document:this.ir(e,o),size:CC(o)}}).next(()=>i)}getEntries(t,e){let i=ds();return this._r(t,e,(r,o)=>{const s=this.ir(r,o);i=i.insert(r,s)}).next(()=>i)}ar(t,e){let i=ds(),r=new vi(He.comparator);return this._r(t,e,(o,s)=>{const a=this.ir(o,s);i=i.insert(o,a),r=r.insert(o,CC(s))}).next(()=>({documents:i,ur:r}))}_r(t,e,i){if(e.isEmpty())return ee.resolve();let r=new Jn(g6);e.forEach(c=>r=r.add(c));const o=IDBKeyRange.bound(wy(r.first()),wy(r.last())),s=r.getIterator();let a=s.getNext();return ah(t).J({index:"documentKeyIndex",range:o},(c,l,u)=>{const p=He.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&g6(a,p)<0;)i(a,null),a=s.getNext();a&&a.isEqual(p)&&(i(a,l),a=s.hasNext()?s.getNext():null),a?u.$(wy(a)):u.done()}).next(()=>{for(;a;)i(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(t,e,i,r,o){const s=e.path,a=[s.popLast().toArray(),s.lastSegment(),bC(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ah(t).U(IDBKeyRange.bound(a,c,!0)).next(l=>{o?.incrementDocumentReadCount(l.length);let u=ds();for(const p of l){const _=this.ir(He.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);_.isFoundDocument()&&(ay(e,_)||r.has(_.key))&&(u=u.insert(_.key,_))}return u})}getAllFromCollectionGroup(t,e,i,r){let o=ds();const s=m6(e,i),a=m6(e,Ps.max());return ah(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(c,l,u)=>{const p=this.ir(He.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(p.key,p),o.size===r&&u.done()}).next(()=>o)}newChangeBuffer(t){return new iEe(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return p6(t).get("remoteDocumentGlobalKey").next(e=>(ct(!!e),e))}rr(t,e){return p6(t).put("remoteDocumentGlobalKey",e)}ir(t,e){if(e){const i=function Hwe(n,t){let e;if(t.document)e=Fq(n.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=He.fromSegments(t.noDocument.path),r=nh(t.noDocument.readTime);e=Ti.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return Je();{const i=He.fromSegments(t.unknownDocument.path),r=nh(t.unknownDocument.version);e=Ti.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(r){const o=new ki(r[0],r[1]);return mt.fromTimestamp(o)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(mt.min()))return i}return Ti.newInvalidDocument(t)}}function f6(n){return new nEe(n)}class iEe extends h6{constructor(t,e){super(),this.cr=t,this.trackRemovals=e,this.lr=new gl(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Jn((o,s)=>Ut(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.lr.get(o);if(e.push(this.cr.removeEntry(t,o,a.readTime)),s.isValidDocument()){const c=$q(this.cr.serializer,s);r=r.add(o.path.popLast());const l=CC(c);i+=l-a.size,e.push(this.cr.addEntry(t,o,c))}else if(i-=a.size,this.trackRemovals){const c=$q(this.cr.serializer,s.convertToNoDocument(mt.min()));e.push(this.cr.addEntry(t,o,c))}}),r.forEach(o=>{e.push(this.cr.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.cr.updateMetadata(t,i)),ee.waitFor(e)}getFromCache(t,e){return this.cr.sr(t,e).next(i=>(this.lr.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.cr.ar(t,e).next(({documents:i,ur:r})=>(r.forEach((o,s)=>{this.lr.set(o,{size:s,readTime:i.get(o).readTime})}),i))}}function p6(n){return Nr(n,"remoteDocumentGlobal")}function ah(n){return Nr(n,"remoteDocumentsV14")}function wy(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function m6(n,t){const e=t.documentKey.path.toArray();return[n,bC(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function g6(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Ut(e[o],i[o]),r)return r;return r=Ut(e.length,i.length),r||(r=Ut(e[e.length-2],i[i.length-2]),r||Ut(e[e.length-1],i[i.length-1]))}class rEe{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class _6{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&dy(i.mutation,r,us.empty(),ki.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,en()).next(()=>i))}getLocalViewOfDocuments(t,e,i=en()){const r=Ic();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let s=cy();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(t,e){const i=Ic();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,en()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,a)=>{e.set(s,a)})})}computeViews(t,e,i,r){let o=ds();const s=ly(),a=ly();return e.forEach((c,l)=>{const u=i.get(l.key);r.has(l.key)&&(void 0===u||u.mutation instanceof _l)?o=o.insert(l.key,l):void 0!==u?(s.set(l.key,u.mutation.getFieldMask()),dy(u.mutation,l,u.mutation.getFieldMask(),ki.now())):s.set(l.key,us.empty())}),this.recalculateAndSaveOverlays(t,o).next(c=>(c.forEach((l,u)=>s.set(l,u)),e.forEach((l,u)=>{var p;return a.set(l,new rEe(u,null!==(p=s.get(l))&&void 0!==p?p:null))}),a))}recalculateAndSaveOverlays(t,e){const i=ly();let r=new vi((s,a)=>s-a),o=en();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(s=>{for(const a of s)a.keys().forEach(c=>{const l=e.get(c);if(null===l)return;let u=i.get(c)||us.empty();u=a.applyToLocalView(l,u),i.set(c,u);const p=(r.get(a.batchId)||en()).add(c);r=r.insert(a.batchId,p)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,p=sq();u.forEach(_=>{if(!o.has(_)){const v=pq(e.get(_),i.get(_));null!==v&&p.set(_,v),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(t,l,p))}return ee.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return He.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):iO(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var s}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ee.resolve(Ic());let a=-1,c=o;return s.next(l=>ee.forEach(l,(u,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(u)?ee.resolve():this.remoteDocumentCache.getEntry(t,u).next(_=>{c=c.insert(u,_)}))).next(()=>this.populateOverlays(t,l,o)).next(()=>this.computeViews(t,c,l,en())).next(u=>({batchId:a,changes:oq(u)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new He(e)).next(i=>{let r=cy();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let s=cy();return this.indexManager.getCollectionParents(t,o).next(a=>ee.forEach(a,c=>{const l=(p=e,_=c.child(o),new ml(_,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt));var p,_;return this.getDocumentsMatchingCollectionQuery(t,l,i,r).next(u=>{u.forEach((p,_)=>{s=s.insert(p,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(s=>{o.forEach((c,l)=>{const u=l.getKey();null===s.get(u)&&(s=s.insert(u,Ti.newInvalidDocument(u)))});let a=cy();return s.forEach((c,l)=>{const u=o.get(c);void 0!==u&&dy(u.mutation,l,us.empty(),ki.now()),ay(e,l)&&(a=a.insert(c,l))}),a})}}class oEe{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,e){return ee.resolve(this.hr.get(e))}saveBundleMetadata(t,e){return this.hr.set(e.id,{id:(r=e).id,version:r.version,createTime:ur(r.createTime)}),ee.resolve();var r}getNamedQuery(t,e){return ee.resolve(this.Pr.get(e))}saveNamedQuery(t,e){return this.Pr.set(e.name,{name:(r=e).name,query:_O(r.bundledQuery),readTime:ur(r.readTime)}),ee.resolve();var r}}class sEe{constructor(){this.overlays=new vi(He.comparator),this.Ir=new Map}getOverlay(t,e){return ee.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ic();return ee.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.ht(t,e,o)}),ee.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Ir.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(i)),ee.resolve()}getOverlaysForCollection(t,e,i){const r=Ic(),o=e.length+1,s=new He(e.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!e.isPrefixOf(l.path))break;l.path.length===o&&c.largestBatchId>i&&r.set(c.getKey(),c)}return ee.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new vi((l,u)=>l-u);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===e&&l.largestBatchId>i){let u=o.get(l.largestBatchId);null===u&&(u=Ic(),o=o.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Ic(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return ee.resolve(a)}ht(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new uO(e,i));let o=this.Ir.get(e);void 0===o&&(o=en(),this.Ir.set(e,o)),this.Ir.set(e,o.add(i.key))}}class aEe{constructor(){this.sessionToken=Ki.EMPTY_BYTE_STRING}getSessionToken(t){return ee.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ee.resolve()}}class CO{constructor(){this.Tr=new Jn($r.Er),this.dr=new Jn($r.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,e){const i=new $r(t,e);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Vr(new $r(t,e))}mr(t,e){t.forEach(i=>this.removeReference(i,e))}gr(t){const e=new He(new bn([])),i=new $r(e,t),r=new $r(e,t+1),o=[];return this.dr.forEachInRange([i,r],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const e=new He(new bn([])),i=new $r(e,t),r=new $r(e,t+1);let o=en();return this.dr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(t){const e=new $r(t,0),i=this.Tr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class $r{constructor(t,e){this.key=t,this.wr=e}static Er(t,e){return He.comparator(t.key,e.key)||Ut(t.wr,e.wr)}static Ar(t,e){return Ut(t.wr,e.wr)||He.comparator(t.key,e.key)}}class cEe{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Sr=1,this.br=new Jn($r.Er)}checkEmpty(t){return ee.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.Sr;this.Sr++;const s=new cO(o,e,i,r);this.mutationQueue.push(s);for(const a of r)this.br=this.br.add(new $r(a.key,o)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return ee.resolve(s)}lookupMutationBatch(t,e){return ee.resolve(this.Dr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.vr(e+1),o=r<0?0:r;return ee.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new $r(e,0),r=new $r(e,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([i,r],s=>{const a=this.Dr(s.wr);o.push(a)}),ee.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Jn(Ut);return e.forEach(r=>{const o=new $r(r,0),s=new $r(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{i=i.add(a.wr)})}),ee.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;He.isDocumentKey(o)||(o=o.child(""));const s=new $r(new He(o),0);let a=new Jn(Ut);return this.br.forEachWhile(c=>{const l=c.key.path;return!!i.isPrefixOf(l)&&(l.length===r&&(a=a.add(c.wr)),!0)},s),ee.resolve(this.Cr(a))}Cr(t){const e=[];return t.forEach(i=>{const r=this.Dr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){ct(0===this.Fr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.br;return ee.forEach(e.mutations,r=>{const o=new $r(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.br=i})}On(t){}containsKey(t,e){const i=new $r(e,0),r=this.br.firstAfterOrEqual(i);return ee.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ee.resolve()}Fr(t,e){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const e=this.vr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class lEe{constructor(t){this.Mr=t,this.docs=new vi(He.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,s=this.Mr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ee.resolve(i?i.document.mutableCopy():Ti.newInvalidDocument(e))}getEntries(t,e){let i=ds();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Ti.newInvalidDocument(r))}),ee.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=ds();const s=e.path,a=new He(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||WM(pW(u),i)<=0||(r.has(u.key)||ay(e,u))&&(o=o.insert(u.key,u.mutableCopy()))}return ee.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Je()}Or(t,e){return ee.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new uEe(this)}getSize(t){return ee.resolve(this.size)}}class uEe extends h6{constructor(t){super(),this.cr=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.cr.addEntry(t,r)):this.cr.removeEntry(i)}),ee.waitFor(e)}getFromCache(t,e){return this.cr.getEntry(t,e)}getAllFromCache(t,e){return this.cr.getEntries(t,e)}}class dEe{constructor(t){this.persistence=t,this.Nr=new gl(e=>Xd(e),oy),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new CO,this.targetCount=0,this.kr=sh.Bn()}forEachTarget(t,e){return this.Nr.forEach((i,r)=>e(r)),ee.resolve()}getLastRemoteSnapshotVersion(t){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ee.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Lr&&(this.Lr=e),ee.resolve()}Kn(t){this.Nr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.kr=new sh(e),this.highestTargetId=e),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,e){return this.Kn(e),this.targetCount+=1,ee.resolve()}updateTargetData(t,e){return this.Kn(e),ee.resolve()}removeTargetData(t,e){return this.Nr.delete(e.target),this.Br.gr(e.targetId),this.targetCount-=1,ee.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=e&&null===i.get(a.targetId)&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)}),ee.waitFor(o).next(()=>r)}getTargetCount(t){return ee.resolve(this.targetCount)}getTargetData(t,e){const i=this.Nr.get(e)||null;return ee.resolve(i)}addMatchingKeys(t,e,i){return this.Br.Rr(e,i),ee.resolve()}removeMatchingKeys(t,e,i){this.Br.mr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),ee.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Br.gr(e),ee.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Br.yr(e);return ee.resolve(i)}containsKey(t,e){return ee.resolve(this.Br.containsKey(e))}}class TO{constructor(t,e){this.qr={},this.overlays={},this.Qr=new Fs(0),this.Kr=!1,this.Kr=!0,this.$r=new aEe,this.referenceDelegate=t(this),this.Ur=new dEe(this),this.indexManager=new Qwe,this.remoteDocumentCache=new lEe(i=>this.referenceDelegate.Wr(i)),this.serializer=new zq(e),this.Gr=new oEe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new sEe,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.qr[t.toKey()];return i||(i=new cEe(e,this.referenceDelegate),this.qr[t.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,e,i){ke("MemoryPersistence","Starting transaction:",t);const r=new hEe(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(o=>this.referenceDelegate.jr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Hr(t,e){return ee.or(Object.values(this.qr).map(i=>()=>i.containsKey(t,e)))}}class hEe extends gW{constructor(t){super(),this.currentSequenceNumber=t}}class SC{constructor(t){this.persistence=t,this.Jr=new CO,this.Yr=null}static Zr(t){return new SC(t)}get Xr(){if(this.Yr)return this.Yr;throw Je()}addReference(t,e,i){return this.Jr.addReference(i,e),this.Xr.delete(i.toString()),ee.resolve()}removeReference(t,e,i){return this.Jr.removeReference(i,e),this.Xr.add(i.toString()),ee.resolve()}markPotentiallyOrphaned(t,e){return this.Xr.add(e.toString()),ee.resolve()}removeTarget(t,e){this.Jr.gr(e.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Xr.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}zr(){this.Yr=new Set}jr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Xr,i=>{const r=He.fromPath(i);return this.ei(t,r).next(o=>{o||e.removeEntry(r,mt.min())})}).next(()=>(this.Yr=null,e.apply(t)))}updateLimboDocument(t,e){return this.ei(t,e).next(i=>{i?this.Xr.delete(e.toString()):this.Xr.add(e.toString())})}Wr(t){return 0}ei(t,e){return ee.or([()=>ee.resolve(this.Jr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Hr(t,e)])}}class fEe{constructor(t){this.serializer=t}O(t,e,i,r){const o=new nC("createOrUpgrade",e);var c;i<1&&r>=1&&(t.createObjectStore("owner"),(c=t).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wW,{unique:!0}),c.createObjectStore("documentMutations"),v6(t),function(c){c.createObjectStore("remoteDocuments")}(t));let s=ee.resolve();return i<3&&r>=3&&(0!==i&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(t),v6(t)),s=s.next(()=>function(c){const l=c.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:mt.min().toTimestamp(),targetCount:0};return l.put("targetGlobalKey",u)}(o))),i<4&&r>=4&&(0!==i&&(s=s.next(()=>function(c,l){return l.store("mutations").U().next(u=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wW,{unique:!0});const p=l.store("mutations"),_=u.map(v=>p.put(v));return ee.waitFor(_)})}(t,o))),s=s.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(s=s.next(()=>this.ni(o))),i<6&&r>=6&&(s=s.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(t),this.ri(o)))),i<7&&r>=7&&(s=s.next(()=>this.ii(o))),i<8&&r>=8&&(s=s.next(()=>this.si(t,o))),i<9&&r>=9&&(s=s.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(s=s.next(()=>this.oi(o))),i<11&&r>=11&&(s=s.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(s=s.next(()=>{!function(c){const l=c.createObjectStore("documentOverlays",{keyPath:Q0e});l.createIndex("collectionPathOverlayIndex",Z0e,{unique:!1}),l.createIndex("collectionGroupOverlayIndex",X0e,{unique:!1})}(t)})),i<13&&r>=13&&(s=s.next(()=>function(c){const l=c.createObjectStore("remoteDocumentsV14",{keyPath:B0e});l.createIndex("documentKeyIndex",U0e),l.createIndex("collectionGroupIndex",j0e)}(t)).next(()=>this._i(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(s=s.next(()=>this.ai(t,o))),i<15&&r>=15&&(s=s.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:W0e}).createIndex("sequenceNumberIndex",q0e,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:K0e}).createIndex("documentKeyIndex",Y0e,{unique:!1})}(t))),i<16&&r>=16&&(s=s.next(()=>{e.objectStore("indexState").clear()}).next(()=>{e.objectStore("indexEntries").clear()})),i<17&&r>=17&&(s=s.next(()=>{!function(c){c.createObjectStore("globals",{keyPath:"name"})}(t)})),s}ri(t){let e=0;return t.store("remoteDocuments").J((i,r)=>{e+=CC(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}ni(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.U().next(r=>ee.forEach(r,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.U("userMutationsIndex",s).next(a=>ee.forEach(a,c=>{ct(c.userId===o.userId);const l=ih(this.serializer,c);return o6(t,o.userId,l).next(()=>{})}))}))}ii(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.J((s,a)=>{const c=new bn(s),l=[0,yo(c)];o.push(e.get(l).next(u=>u?ee.resolve():e.put({targetId:0,path:yo(c),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ee.waitFor(o))})}si(t,e){t.createObjectStore("collectionParents",{keyPath:G0e});const i=e.store("collectionParents"),r=new IO,o=s=>{if(r.add(s)){const a=s.lastSegment(),c=s.popLast();return i.put({collectionId:a,parent:yo(c)})}};return e.store("remoteDocuments").J({H:!0},(s,a)=>{const c=new bn(s);return o(c.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([s,a,c],l)=>{const u=wc(a);return o(u.popLast())}))}oi(t){const e=t.store("targets");return e.J((i,r)=>{const o=_y(r),s=Gq(this.serializer,o);return e.put(s)})}_i(t,e){const i=e.store("remoteDocuments"),r=[];return i.J((o,s)=>{const a=e.store("remoteDocumentsV14"),c=(p=s,p.document?new He(bn.fromString(p.document.name).popFirst(5)):p.noDocument?He.fromSegments(p.noDocument.path):p.unknownDocument?He.fromSegments(p.unknownDocument.path):Je()).path.toArray(),l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};var p;r.push(a.put(l))}).next(()=>ee.waitFor(r))}ai(t,e){const i=e.store("mutations"),r=f6(this.serializer),o=new TO(SC.Zr,this.serializer.ct);return i.U().next(s=>{const a=new Map;return s.forEach(c=>{var l;let u=null!==(l=a.get(c.userId))&&void 0!==l?l:en();ih(this.serializer,c).keys().forEach(p=>u=u.add(p)),a.set(c.userId,u)}),ee.forEach(a,(c,l)=>{const u=new zr(l),p=wC.lt(this.serializer,u),_=o.getIndexManager(u),v=TC.lt(u,this.serializer,_,o.referenceDelegate);return new _6(r,v,p,_).recalculateAndSaveOverlaysForDocumentKeys(new QM(e,Fs.oe),c).next()})})}}function v6(n){n.createObjectStore("targetDocuments",{keyPath:z0e}).createIndex("documentTargetsIndex",$0e,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",H0e,{unique:!0}),n.createObjectStore("targetGlobal")}const DO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class SO{constructor(t,e,i,r,o,s,a,c,l,u,p=17){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ui=o,this.window=s,this.document=a,this.ci=l,this.li=u,this.hi=p,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=_=>Promise.resolve(),!SO.D())throw new xe(ce.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new tEe(this,r),this.Ai=e+"main",this.serializer=new zq(c),this.Ri=new bc(this.Ai,this.hi,new fEe(this.serializer)),this.$r=new $we,this.Ur=new Xwe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=f6(this.serializer),this.Gr=new zwe,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===u&&lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(ce.FAILED_PRECONDITION,DO);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new Fs(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){var e=this;return this.di=function(){var i=(0,he.A)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(function(){var e=(0,he.A)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget((0,he.A)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>RC(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(e=>{e||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(e=>this.isPrimary&&!e?this.bi(t).next(()=>!1):!!e&&this.Di(t).next(()=>!0))).catch(t=>{if(mu(t))return ke("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return Ey(t).get("owner").next(e=>ee.resolve(this.vi(e)))}Ci(t){return RC(t).delete(this.clientId)}Fi(){var t=this;return(0,he.A)(function*(){if(t.isPrimary&&!t.Mi(t.Ei,18e5)){t.Ei=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Nr(i,"clientMetadata");return r.U().next(o=>{const s=t.xi(o,18e5),a=o.filter(c=>-1===s.indexOf(c));return ee.forEach(a,c=>r.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(t.Vi)for(const i of e)t.Vi.removeItem(t.Oi(i.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?ee.resolve(!0):Ey(t).get("owner").next(e=>{if(null!==e&&this.Mi(e.leaseTimestampMs,5e3)&&!this.Ni(e.ownerId)){if(this.vi(e)&&this.networkEnabled)return!0;if(!this.vi(e)){if(!e.allowTabSynchronization)throw new xe(ce.FAILED_PRECONDITION,DO);return!1}}return!(!this.networkEnabled||!this.inForeground)||RC(t).U().next(i=>void 0===this.xi(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&ke("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,he.A)(function*(){t.Kr=!1,t.Li(),t.Ti&&(t.Ti.cancel(),t.Ti=null),t.Bi(),t.ki(),yield t.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new QM(e,Fs.oe);return t.bi(i).next(()=>t.Ci(i))}),t.Ri.close(),t.qi()})()}xi(t,e){return t.filter(i=>this.Mi(i.updateTimeMs,e)&&!this.Ni(i.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>RC(t).U().next(e=>this.xi(e,18e5).map(i=>i.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,e){return TC.lt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Zwe(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return wC.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,e,i){ke("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=17===(c=this.hi)?twe:16===c?ewe:15===c?YM:14===c?TW:13===c?CW:12===c?J0e:11===c?IW:void Je();var c;let s;return this.Ri.runTransaction(t,r,o,a=>(s=new QM(a,this.Qr?this.Qr.next():Fs.oe),"readwrite-primary"===e?this.wi(s).next(c=>!!c||this.Si(s)).next(c=>{if(!c)throw lr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new xe(ce.FAILED_PRECONDITION,mW);return i(s)}).next(c=>this.Di(s).next(()=>c)):this.Ki(s).next(()=>i(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ki(t){return Ey(t).get("owner").next(e=>{if(null!==e&&this.Mi(e.leaseTimestampMs,5e3)&&!this.Ni(e.ownerId)&&!this.vi(e)&&!(this.li||this.allowTabSynchronization&&e.allowTabSynchronization))throw new xe(ce.FAILED_PRECONDITION,DO)})}Di(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ey(t).put("owner",e)}static D(){return bc.D()}bi(t){const e=Ey(t);return e.get("owner").next(i=>this.vi(i)?(ke("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ee.resolve())}Mi(t,e){const i=Date.now();return!(t<i-e||t>i&&(lr(`Detected an update time that is in the future: ${t} > ${i}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Pi=()=>{this.Li();const e=/(?:Version|Mobile)\/1[456]/;(0,sn.nr)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var e;try{const i=null!==(null===(e=this.Vi)||void 0===e?void 0:e.getItem(this.Oi(t)));return ke("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return lr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){lr("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Ey(n){return Nr(n,"owner")}function RC(n){return Nr(n,"clientMetadata")}function AO(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class RO{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.$i=i,this.Ui=r}static Wi(t,e){let i=en(),r=en();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new RO(t,e.fromCache,i,r)}}class pEe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class y6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,sn.nr)()?8:_W((0,sn.ZQ)())>0?6:4}initialize(t,e){this.Ji=t,this.indexManager=e,this.Gi=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.Yi(t,e).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(t,e,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new pEe;return this.Xi(t,e,s).next(a=>{if(o.result=a,this.zi)return this.es(t,e,s,a.size)})}).next(()=>o.result)}es(t,e,i,r){return i.documentReadCount<this.ji?(Kp()<=yc.$b.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",im(e),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ee.resolve()):(Kp()<=yc.$b.DEBUG&&ke("QueryEngine","Query:",im(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Kp()<=yc.$b.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",im(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bo(e))):ee.resolve())}Yi(t,e){if(XW(e))return ee.resolve(null);let i=bo(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=fC(e,null,"F"),i=bo(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const s=en(...o);return this.Ji.getDocuments(t,s).next(a=>this.indexManager.getMinOffset(t,i).next(c=>{const l=this.ts(e,a);return this.ns(e,l,s,c.readTime)?this.Yi(t,fC(e,null,"F")):this.rs(t,l,e,c)}))})))}Zi(t,e,i,r){return XW(e)||r.isEqual(mt.min())?ee.resolve(null):this.Ji.getDocuments(t,i).next(o=>{const s=this.ts(e,o);return this.ns(e,s,i,r)?ee.resolve(null):(Kp()<=yc.$b.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),im(e)),this.rs(t,s,e,fW(r,-1)).next(a=>a))})}ts(t,e){let i=new Jn(iq(t));return e.forEach((r,o)=>{ay(t,o)&&(i=i.add(o))}),i}ns(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Xi(t,e,i){return Kp()<=yc.$b.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",im(e)),this.Ji.getDocumentsMatchingQuery(t,e,Ps.min(),i)}rs(t,e,i,r){return this.Ji.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(s=>{o=o.insert(s.key,s)}),o))}}class mEe{constructor(t,e,i,r){this.persistence=t,this.ss=e,this.serializer=r,this.os=new vi(Ut),this._s=new gl(o=>Xd(o),oy),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(i)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.os))}}function b6(n,t,e,i){return new mEe(n,t,e,i)}function w6(n,t){return xO.apply(this,arguments)}function xO(){return(xO=(0,he.A)(function*(n,t){const e=Be(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.ls(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let c=en();for(const l of r){s.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of o){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return e.localDocuments.getDocuments(i,c).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})).apply(this,arguments)}function E6(n){const t=Be(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function I6(n,t,e){let i=en(),r=en();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let s=ds();return e.forEach((a,c)=>{const l=o.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(mt.min())?(t.removeEntry(a,c.readTime),s=s.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||0===c.version.compareTo(l.version)&&l.hasPendingWrites?(t.addEntry(c),s=s.insert(a,c)):ke("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Ps:s,Is:r}})}function vEe(n,t){const e=Be(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function pm(n,t){const e=Be(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Ur.getTargetData(i,t).next(o=>o?(r=o,ee.resolve(r)):e.Ur.allocateTargetId(i).next(s=>(r=new vl(t,s,"TargetPurposeListen",i.currentSequenceNumber),e.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.os.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.os=e.os.insert(i.targetId,i),e._s.set(t,i.targetId)),i})}function mm(n,t,e){return MO.apply(this,arguments)}function MO(){return(MO=(0,he.A)(function*(n,t,e){const i=Be(n),r=i.os.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!mu(s))throw s;ke("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}i.os=i.os.remove(t),i._s.delete(r.target)})).apply(this,arguments)}function xC(n,t,e){const i=Be(n);let r=mt.min(),o=en();return i.persistence.runTransaction("Execute query","readwrite",s=>function(c,l,u){const p=Be(c),_=p._s.get(u);return void 0!==_?ee.resolve(p.os.get(_)):p.Ur.getTargetData(l,u)}(i,s,bo(t)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>i.ss.getDocumentsMatchingQuery(s,t,e?r:mt.min(),e?o:en())).next(a=>(D6(i,nq(t),a),{documents:a,Ts:o})))}function C6(n,t){const e=Be(n),i=Be(e.Ur),r=e.os.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.ot(o,t).next(s=>s?s.target:null))}function T6(n,t){const e=Be(n),i=e.us.get(t)||mt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.cs.getAllFromCollectionGroup(r,t,fW(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(D6(e,t,r),r))}function D6(n,t,e){let i=n.us.get(t)||mt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.us.set(t,i)}function OO(){return(OO=(0,he.A)(function*(n,t,e,i){const r=Be(n);let o=en(),s=ds();for(const l of e){const u=t.Es(l.metadata.name);l.document&&(o=o.add(u));const p=t.ds(l);p.setReadTime(t.As(l.metadata.readTime)),s=s.insert(u,p)}const a=r.cs.newChangeBuffer({trackRemovals:!0}),c=yield pm(r,(u=i,bo(tm(bn.fromString(`__bundle__/docs/${u}`)))));var u;return r.persistence.runTransaction("Apply bundle documents","readwrite",l=>I6(l,a,s).next(u=>(a.apply(l),u)).next(u=>r.Ur.removeMatchingKeysForTargetId(l,c.targetId).next(()=>r.Ur.addMatchingKeys(l,o,c.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(l,u.Ps,u.Is)).next(()=>u.Ps)))})).apply(this,arguments)}function bEe(n,t){return kO.apply(this,arguments)}function kO(){return(kO=(0,he.A)(function*(n,t,e=en()){const i=yield pm(n,bo(_O(t.bundledQuery))),r=Be(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const s=ur(t.readTime);if(i.snapshotVersion.compareTo(s)>=0)return r.Gr.saveNamedQuery(o,t);const a=i.withResumeToken(Ki.EMPTY_BYTE_STRING,s);return r.os=r.os.insert(a.targetId,a),r.Ur.updateTargetData(o,a).next(()=>r.Ur.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Ur.addMatchingKeys(o,e,i.targetId)).next(()=>r.Gr.saveNamedQuery(o,t))})})).apply(this,arguments)}function S6(n,t){return`firestore_clients_${n}_${t}`}function A6(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function NO(n,t){return`firestore_targets_${n}_${t}`}class MC{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Rs(t,e,i){const r=JSON.parse(i);let o,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(o=new xe(r.error.code,r.error.message))),s?new MC(t,e,r.state,o):(lr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Iy{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Rs(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new xe(i.error.code,i.error.message))),o?new Iy(t,i.state,r):(lr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class OC{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Rs(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=oO();for(let s=0;r&&s<i.activeTargetIds.length;++s)r=yW(i.activeTargetIds[s]),o=o.add(i.activeTargetIds[s]);return r?new OC(t,o):(lr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class PO{constructor(t,e){this.clientId=t,this.onlineState=e}static Rs(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new PO(e.clientId,e.onlineState):(lr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class FO{constructor(){this.activeTargetIds=oO()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class LO{constructor(t,e,i,r,o){this.window=t,this.ui=e,this.persistenceKey=i,this.ps=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new vi(Ut),this.started=!1,this.bs=[];const s=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ds=S6(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new FO),this.Cs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,he.A)(function*(){const e=yield t.syncEngine.Qi();for(const r of e){if(r===t.ps)continue;const o=t.getItem(S6(t.persistenceKey,r));if(o){const s=OC.Rs(r,o);s&&(t.Ss=t.Ss.insert(s.clientId,s))}}t.Ns();const i=t.storage.getItem(t.xs);if(i){const r=t.Ls(i);r&&t.Bs(r)}for(const r of t.bs)t.ws(r);t.bs=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.vs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(t){let e=!1;return this.Ss.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.qs(t,"pending")}updateMutationState(t,e,i){this.qs(t,e,i),this.Qs(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(NO(this.persistenceKey,t));if(i){const r=Iy.Rs(t,i);r&&(e=r.state)}}return this.Ks.fs(t),this.Ns(),e}removeLocalQueryTarget(t){this.Ks.gs(t),this.Ns()}isLocalQueryTarget(t){return this.Ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(NO(this.persistenceKey,t))}updateQueryState(t,e,i){this.$s(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Qs(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Us(t)}notifyBundleLoaded(t){this.Ws(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return ke("SharedClientState","READ",t,e),e}setItem(t,e){ke("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){ke("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ws(t){var e=this;const i=t;if(i.storageArea===this.storage){if(ke("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Ds)return void lr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,he.A)(function*(){if(e.started){if(null!==i.key)if(e.Cs.test(i.key)){if(null==i.newValue){const r=e.Gs(i.key);return e.zs(r,null)}{const r=e.js(i.key,i.newValue);if(r)return e.zs(r.clientId,r)}}else if(e.Fs.test(i.key)){if(null!==i.newValue){const r=e.Hs(i.key,i.newValue);if(r)return e.Js(r)}}else if(e.Ms.test(i.key)){if(null!==i.newValue){const r=e.Ys(i.key,i.newValue);if(r)return e.Zs(r)}}else if(i.key===e.xs){if(null!==i.newValue){const r=e.Ls(i.newValue);if(r)return e.Bs(r)}}else if(i.key===e.vs){const r=function(s){let a=Fs.oe;if(null!=s)try{const c=JSON.parse(s);ct("number"==typeof c),a=c}catch(c){lr("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(i.newValue);r!==Fs.oe&&e.sequenceNumberHandler(r)}else if(i.key===e.Os){const r=e.Xs(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.eo(o)))}}else e.bs.push(i)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(t,e,i){const r=new MC(this.currentUser,t,e,i),o=A6(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Vs())}Qs(t){const e=A6(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Us(t){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:t}))}$s(t,e,i){const r=NO(this.persistenceKey,t),o=new Iy(t,e,i);this.setItem(r,o.Vs())}Ws(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Os,e)}Gs(t){const e=this.Cs.exec(t);return e?e[1]:null}js(t,e){const i=this.Gs(t);return OC.Rs(i,e)}Hs(t,e){const i=this.Fs.exec(t),r=Number(i[1]);return MC.Rs(new zr(void 0!==i[2]?i[2]:null),r,e)}Ys(t,e){const i=this.Ms.exec(t),r=Number(i[1]);return Iy.Rs(r,e)}Ls(t){return PO.Rs(t)}Xs(t){return JSON.parse(t)}Js(t){var e=this;return(0,he.A)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.no(t.batchId,t.state,t.error);ke("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Zs(t){return this.syncEngine.ro(t.targetId,t.state,t.error)}zs(t,e){const i=e?this.Ss.insert(t,e):this.Ss.remove(t),r=this.ks(this.Ss),o=this.ks(i),s=[],a=[];return o.forEach(c=>{r.has(c)||s.push(c)}),r.forEach(c=>{o.has(c)||a.push(c)}),this.syncEngine.io(s,a).then(()=>{this.Ss=i})}Bs(t){this.Ss.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ks(t){let e=oO();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class R6{constructor(){this.so=new FO,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,e,i){this.oo[t]=e}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new FO,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class wEe{_o(t){}shutdown(){}}class x6{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let kC=null;function VO(){return null===kC?kC=268435456+Math.round(2147483648*Math.random()):kC++,"0x"+kC.toString(16)}const EEe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IEe{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const Eo="WebChannelConnection";class CEe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+e.host,this.vo=`projects/${r}/databases/${o}`,this.Co="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Fo(){return!1}Mo(e,i,r,o,s){const a=VO(),c=this.xo(e,i.toUriEncodedString());ke("RestConnection",`Sending RPC '${e}' ${a}:`,c,r);const l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(e,c,l,r).then(u=>(ke("RestConnection",`Received RPC '${e}' ${a}: `,u),u),u=>{throw ls("RestConnection",`RPC '${e}' ${a} failed with error: `,u,"url: ",c,"request:",r),u})}Lo(e,i,r,o,s,a){return this.Mo(e,i,r,o,s)}Oo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+qp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>e[s]=o),r&&r.headers.forEach((o,s)=>e[s]=o)}xo(e,i){return`${this.Do}/v1/${i}:${EEe[e]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,e,i,r){const o=VO();return new Promise((s,a)=>{const c=new nW;c.setWithCredentials(!0),c.listenOnce(rW.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case tC.NO_ERROR:const u=c.getResponseJson();ke(Eo,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(u)),s(u);break;case tC.TIMEOUT:ke(Eo,`RPC '${t}' ${o} timed out`),a(new xe(ce.DEADLINE_EXCEEDED,"Request time out"));break;case tC.HTTP_ERROR:const p=c.getStatus();if(ke(Eo,`RPC '${t}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let _=c.getResponseJson();Array.isArray(_)&&(_=_[0]);const v=_?.error;if(v&&v.status&&v.message){const b=function(D){const N=D.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(N)>=0?N:ce.UNKNOWN}(v.status);a(new xe(b,v.message))}else a(new xe(ce.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new xe(ce.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{ke(Eo,`RPC '${t}' ${o} completed.`)}});const l=JSON.stringify(r);ke(Eo,`RPC '${t}' ${o} sending request:`,r),c.send(e,"POST",l,i,15)})}Bo(t,e,i){const r=VO(),o=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=aW(),a=sW(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new iW({})),this.Oo(c.initMessageHeaders,e,i),c.encodeInitMessageHeaders=!0;const u=o.join("");ke(Eo,`Creating RPC '${t}' stream ${r}: ${u}`,c);const p=s.createWebChannel(u,c);let _=!1,v=!1;const b=new IEe({Io:D=>{v?ke(Eo,`Not sending because RPC '${t}' stream ${r} is closed:`,D):(_||(ke(Eo,`Opening RPC '${t}' stream ${r} transport.`),p.open(),_=!0),ke(Eo,`RPC '${t}' stream ${r} sending:`,D),p.send(D))},To:()=>p.close()}),C=(D,N,k)=>{D.listen(N,j=>{try{k(j)}catch(Y){setTimeout(()=>{throw Y},0)}})};return C(p,Yv.EventType.OPEN,()=>{v||(ke(Eo,`RPC '${t}' stream ${r} transport opened.`),b.yo())}),C(p,Yv.EventType.CLOSE,()=>{v||(v=!0,ke(Eo,`RPC '${t}' stream ${r} transport closed`),b.So())}),C(p,Yv.EventType.ERROR,D=>{v||(v=!0,ls(Eo,`RPC '${t}' stream ${r} transport errored:`,D),b.So(new xe(ce.UNAVAILABLE,"The operation could not be completed")))}),C(p,Yv.EventType.MESSAGE,D=>{var N;if(!v){const k=D.data[0];ct(!!k);const Y=k.error||(null===(N=k[0])||void 0===N?void 0:N.error);if(Y){ke(Eo,`RPC '${t}' stream ${r} received error:`,Y);const me=Y.status;let we=function(U){const G=yr[U];if(void 0!==G)return wq(G)}(me),B=Y.message;void 0===we&&(we=ce.INTERNAL,B="Unknown error status: "+me+" with message "+Y.message),v=!0,b.So(new xe(we,B)),p.close()}else ke(Eo,`RPC '${t}' stream ${r} received:`,k),b.bo(k)}}),C(a,oW.STAT_EVENT,D=>{D.stat===zM.PROXY?ke(Eo,`RPC '${t}' stream ${r} detected buffering proxy`):D.stat===zM.NOPROXY&&ke(Eo,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function M6(){return typeof window<"u"?window:null}function NC(){return typeof document<"u"?document:null}function Cy(n){return new Owe(n,!0)}class BO{constructor(t,e,i=1e3,r=1.5,o=6e4){this.ui=t,this.timerId=e,this.ko=i,this.qo=r,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const e=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,e-i);r>0&&ke("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class O6{constructor(t,e,i,r,o,s,a,c){this.ui=t,this.Ho=i,this.Jo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new BO(t,e)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var t=this;return(0,he.A)(function*(){t.n_()&&(yield t.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){var t=this;return(0,he.A)(function*(){if(t.r_())return t.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,e){var i=this;return(0,he.A)(function*(){i.u_(),i.c_(),i.t_.cancel(),i.Yo++,4!==t?i.t_.reset():e&&e.code===ce.RESOURCE_EXHAUSTED?(lr(e.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),i.t_.Wo()):e&&e.code===ce.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.l_(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.mo(e)})()}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),e=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===e&&this.P_(i,r)},i=>{t(()=>{const r=new xe(ce.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(t,e){const i=this.h_(this.Yo);this.stream=this.T_(t,e),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>1==++this.e_?this.E_(r):this.onNext(r))})}i_(){var t=this;this.state=5,this.t_.Go((0,he.A)(function*(){t.state=0,t.start()}))}I_(t){return ke("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return e=>{this.ui.enqueueAndForget(()=>this.Yo===t?e():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class TEe extends O6{constructor(t,e,i,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o}T_(t,e){return this.connection.Bo("Listen",t,e)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const e=function Pwe(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(l=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Je(),r=t.targetChange.targetIds||[],o=function(l,u){return l.useProto3Json?(ct(void 0===u||"string"==typeof u),Ki.fromBase64String(u||"")):(ct(void 0===u||u instanceof Buffer||u instanceof Uint8Array),Ki.fromUint8Array(u||new Uint8Array))}(n,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(l){const u=void 0===l.code?ce.UNKNOWN:wq(l.code);return new xe(u,l.message||"")}(s);e=new Dq(i,r,o,a||null)}else if("documentChange"in t){const i=t.documentChange,r=Cc(n,i.document.name),o=ur(i.document.updateTime),s=i.document.createTime?ur(i.document.createTime):mt.min(),a=new ro({mapValue:{fields:i.document.fields}}),c=Ti.newFoundDocument(r,o,s,a);e=new vC(i.targetIds||[],i.removedTargetIds||[],c.key,c)}else if("documentDelete"in t){const i=t.documentDelete,r=Cc(n,i.document),o=i.readTime?ur(i.readTime):mt.min(),s=Ti.newNoDocument(r,o);e=new vC([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in t){const i=t.documentRemove,r=Cc(n,i.document);e=new vC([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return Je();{const i=t.filter,{count:r=0,unchangedNames:o}=i,s=new Dwe(r,o);e=new Tq(i.targetId,s)}}var l;return e}(this.serializer,t),i=function(o){if(!("targetChange"in o))return mt.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?mt.min():s.readTime?ur(s.readTime):mt.min()}(t);return this.listener.d_(e,i)}A_(t){const e={};e.database=mO(this.serializer),e.addTarget=function(o,s){let a;const c=s.target;if(a=dC(c)?{documents:Lq(o,c)}:{query:yC(o,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=xq(o,s.resumeToken);const l=hO(o,s.expectedCount);null!==l&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(mt.min())>0){a.readTime=cm(o,s.snapshotVersion.toTimestamp());const l=hO(o,s.expectedCount);null!==l&&(a.expectedCount=l)}return a}(this.serializer,t);const i=function Lwe(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.a_(e)}R_(t){const e={};e.database=mO(this.serializer),e.removeTarget=t,this.a_(e)}}class DEe extends O6{constructor(t,e,i,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,e){return this.connection.Bo("Write",t,e)}E_(t){return ct(!!t.streamToken),this.lastStreamToken=t.streamToken,ct(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){ct(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const e=function Fwe(n,t){return n&&n.length>0?(ct(void 0!==t),n.map(e=>function(r,o){let s=ur(r.updateTime?r.updateTime:o);return s.isEqual(mt.min())&&(s=ur(o)),new Iwe(s,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=ur(t.commitTime);return this.listener.g_(i,e)}p_(){const t={};t.database=mO(this.serializer),this.a_(t)}m_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>gy(this.serializer,i))};this.a_(e)}}class SEe extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new xe(ce.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,e,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(t,pO(e,i),r,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xe(ce.UNKNOWN,o.toString())})}Lo(t,e,i,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(t,pO(e,i),r,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(ce.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class AEe{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(lr(e),this.D_=!1):ke("OnlineStateTracker",e)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class REe{constructor(t,e,i,r,o){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{i.enqueueAndForget((0,he.A)(function*(){var c;Du(s)&&(ke("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,he.A)(function*(u){const p=Be(u);p.L_.add(4),yield gm(p),p.q_.set("Unknown"),p.L_.delete(4),yield Ty(p)}),function l(u){return c.apply(this,arguments)})(s))}))}),this.q_=new AEe(i,r)}}function Ty(n){return UO.apply(this,arguments)}function UO(){return(UO=(0,he.A)(function*(n){if(Du(n))for(const t of n.B_)yield t(!0)})).apply(this,arguments)}function gm(n){return jO.apply(this,arguments)}function jO(){return(jO=(0,he.A)(function*(n){for(const t of n.B_)yield t(!1)})).apply(this,arguments)}function PC(n,t){const e=Be(n);e.N_.has(t.targetId)||(e.N_.set(t.targetId,t),$O(e)?zO(e):ym(e).r_()&&HO(e,t))}function _m(n,t){const e=Be(n),i=ym(e);e.N_.delete(t),i.r_()&&k6(e,t),0===e.N_.size&&(i.r_()?i.o_():Du(e)&&e.q_.set("Unknown"))}function HO(n,t){if(n.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(mt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ym(n).A_(t)}function k6(n,t){n.Q_.xe(t),ym(n).R_(t)}function zO(n){n.Q_=new Awe({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>n.N_.get(t)||null,tt:()=>n.datastore.serializer.databaseId}),ym(n).start(),n.q_.v_()}function $O(n){return Du(n)&&!ym(n).n_()&&n.N_.size>0}function Du(n){return 0===Be(n).L_.size}function N6(n){n.Q_=void 0}function xEe(n){return GO.apply(this,arguments)}function GO(){return(GO=(0,he.A)(function*(n){n.q_.set("Online")})).apply(this,arguments)}function MEe(n){return WO.apply(this,arguments)}function WO(){return(WO=(0,he.A)(function*(n){n.N_.forEach((t,e)=>{HO(n,t)})})).apply(this,arguments)}function OEe(n,t){return qO.apply(this,arguments)}function qO(){return(qO=(0,he.A)(function*(n,t){N6(n),$O(n)?(n.q_.M_(t),zO(n)):n.q_.set("Unknown")})).apply(this,arguments)}function kEe(n,t,e){return KO.apply(this,arguments)}function KO(){return KO=(0,he.A)(function*(n,t,e){if(n.q_.set("Online"),t instanceof Dq&&2===t.state&&t.cause)try{yield(i=(0,he.A)(function*(o,s){const a=s.cause;for(const c of s.targetIds)o.N_.has(c)&&(yield o.remoteSyncer.rejectListen(c,a),o.N_.delete(c),o.Q_.removeTarget(c))}),function r(o,s){return i.apply(this,arguments)})(n,t)}catch(i){ke("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield FC(n,i)}else if(t instanceof vC?n.Q_.Ke(t):t instanceof Tq?n.Q_.He(t):n.Q_.We(t),!e.isEqual(mt.min()))try{const i=yield E6(n.localStore);e.compareTo(i)>=0&&(yield function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=o.N_.get(l);u&&o.N_.set(l,u.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,l)=>{const u=o.N_.get(c);if(!u)return;o.N_.set(c,u.withResumeToken(Ki.EMPTY_BYTE_STRING,u.snapshotVersion)),k6(o,c);const p=new vl(u.target,c,l,u.sequenceNumber);HO(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,e))}catch(i){ke("RemoteStore","Failed to raise snapshot:",i),yield FC(n,i)}var i}),KO.apply(this,arguments)}function FC(n,t,e){return YO.apply(this,arguments)}function YO(){return(YO=(0,he.A)(function*(n,t,e){if(!mu(t))throw t;n.L_.add(1),yield gm(n),n.q_.set("Offline"),e||(e=()=>E6(n.localStore)),n.asyncQueue.enqueueRetryable((0,he.A)(function*(){ke("RemoteStore","Retrying IndexedDB access"),yield e(),n.L_.delete(1),yield Ty(n)}))})).apply(this,arguments)}function P6(n,t){return t().catch(e=>FC(n,e,t))}function vm(n){return QO.apply(this,arguments)}function QO(){return(QO=(0,he.A)(function*(n){const t=Be(n),e=Su(t);let i=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;NEe(t);)try{const r=yield vEe(t.localStore,i);if(null===r){0===t.O_.length&&e.o_();break}i=r.batchId,PEe(t,r)}catch(r){yield FC(t,r)}F6(t)&&L6(t)})).apply(this,arguments)}function NEe(n){return Du(n)&&n.O_.length<10}function PEe(n,t){n.O_.push(t);const e=Su(n);e.r_()&&e.V_&&e.m_(t.mutations)}function F6(n){return Du(n)&&!Su(n).n_()&&n.O_.length>0}function L6(n){Su(n).start()}function FEe(n){return ZO.apply(this,arguments)}function ZO(){return(ZO=(0,he.A)(function*(n){Su(n).p_()})).apply(this,arguments)}function LEe(n){return XO.apply(this,arguments)}function XO(){return(XO=(0,he.A)(function*(n){const t=Su(n);for(const e of n.O_)t.m_(e.mutations)})).apply(this,arguments)}function VEe(n,t,e){return JO.apply(this,arguments)}function JO(){return(JO=(0,he.A)(function*(n,t,e){const i=n.O_.shift(),r=lO.from(i,t,e);yield P6(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield vm(n)})).apply(this,arguments)}function BEe(n,t){return ek.apply(this,arguments)}function ek(){return ek=(0,he.A)(function*(n,t){var e;t&&Su(n).V_&&(yield(e=(0,he.A)(function*(r,o){if(bq(a=o.code)&&a!==ce.ABORTED){const s=r.O_.shift();Su(r).s_(),yield P6(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield vm(r)}var a}),function i(r,o){return e.apply(this,arguments)})(n,t)),F6(n)&&L6(n)}),ek.apply(this,arguments)}function V6(n,t){return tk.apply(this,arguments)}function tk(){return(tk=(0,he.A)(function*(n,t){const e=Be(n);e.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const i=Du(e);e.L_.add(3),yield gm(e),i&&e.q_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.L_.delete(3),yield Ty(e)})).apply(this,arguments)}function nk(n,t){return ik.apply(this,arguments)}function ik(){return(ik=(0,he.A)(function*(n,t){const e=Be(n);t?(e.L_.delete(2),yield Ty(e)):t||(e.L_.add(2),yield gm(e),e.q_.set("Unknown"))})).apply(this,arguments)}function ym(n){return n.K_||(n.K_=function(e,i,r){const o=Be(e);return o.w_(),new TEe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:xEe.bind(null,n),Ro:MEe.bind(null,n),mo:OEe.bind(null,n),d_:kEe.bind(null,n)}),n.B_.push(function(){var t=(0,he.A)(function*(e){e?(n.K_.s_(),$O(n)?zO(n):n.q_.set("Unknown")):(yield n.K_.stop(),N6(n))});return function(e){return t.apply(this,arguments)}}())),n.K_}function Su(n){return n.U_||(n.U_=function(e,i,r){const o=Be(e);return o.w_(),new DEe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:FEe.bind(null,n),mo:BEe.bind(null,n),f_:LEe.bind(null,n),g_:VEe.bind(null,n)}),n.B_.push(function(){var t=(0,he.A)(function*(e){e?(n.U_.s_(),yield vm(n)):(yield n.U_.stop(),n.O_.length>0&&(ke("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))});return function(e){return t.apply(this,arguments)}}())),n.U_}class rk{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const s=Date.now()+i,a=new rk(t,e,s,r,o);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xe(ce.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bm(n,t){if(lr("AsyncQueue",`${t}: ${n}`),mu(n))return new xe(ce.UNAVAILABLE,`${t}: ${n}`);throw n}class wm{constructor(t){this.comparator=t?(e,i)=>t(e,i)||He.comparator(e.key,i.key):(e,i)=>He.comparator(e.key,i.key),this.keyedMap=cy(),this.sortedSet=new vi(this.comparator)}static emptySet(t){return new wm(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof wm)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new wm;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class B6{constructor(){this.W_=new vi(He.comparator)}track(t){const e=t.doc.key,i=this.W_.get(e);i?0!==t.type&&3===i.type?this.W_=this.W_.insert(e,t):3===t.type&&1!==i.type?this.W_=this.W_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.W_=this.W_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.W_=this.W_.remove(e):1===t.type&&2===i.type?this.W_=this.W_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):Je():this.W_=this.W_.insert(e,t)}G_(){const t=[];return this.W_.inorderTraversal((e,i)=>{t.push(i)}),t}}class Em{constructor(t,e,i,r,o,s,a,c,l){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(t,e,i,r,o){const s=[];return e.forEach(a=>{s.push({type:0,doc:a})}),new Em(t,e,wm.emptySet(e),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sy(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class UEe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class jEe{constructor(){this.queries=U6(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,i){const r=Be(e),o=r.queries;r.queries=U6(),o.forEach((s,a)=>{for(const c of a.j_)c.onError(i)})}(this,new xe(ce.ABORTED,"Firestore shutting down"))}}function U6(){return new gl(n=>tq(n),sy)}function ok(n,t){return sk.apply(this,arguments)}function sk(){return(sk=(0,he.A)(function*(n,t){const e=Be(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.H_()&&t.J_()&&(i=2):(o=new UEe,i=t.J_()?0:1);try{switch(i){case 0:o.z_=yield e.onListen(r,!0);break;case 1:o.z_=yield e.onListen(r,!1);break;case 2:yield e.onFirstRemoteStoreListen(r)}}catch(s){const a=bm(s,`Initialization of query '${im(t.query)}' failed`);return void t.onError(a)}e.queries.set(r,o),o.j_.push(t),t.Z_(e.onlineState),o.z_&&t.X_(o.z_)&&lk(e)})).apply(this,arguments)}function ak(n,t){return ck.apply(this,arguments)}function ck(){return(ck=(0,he.A)(function*(n,t){const e=Be(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const s=o.j_.indexOf(t);s>=0&&(o.j_.splice(s,1),0===o.j_.length?r=t.J_()?0:1:!o.H_()&&t.J_()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}})).apply(this,arguments)}function HEe(n,t){const e=Be(n);let i=!1;for(const r of t){const s=e.queries.get(r.query);if(s){for(const a of s.j_)a.X_(r)&&(i=!0);s.z_=r}}i&&lk(e)}function zEe(n,t,e){const i=Be(n),r=i.queries.get(t);if(r)for(const o of r.j_)o.onError(e);i.queries.delete(t)}function lk(n){n.Y_.forEach(t=>{t.next()})}var uk,j6;(j6=uk||(uk={})).ea="default",j6.Cache="cache";class dk{constructor(t,e,i){this.query=t,this.ta=e,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Em(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.na?this.ia(t)&&(this.ta.next(t),e=!0):this.sa(t,this.onlineState)&&(this.oa(t),e=!0),this.ra=t,e}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let e=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),e=!0),e}sa(t,e){return!t.fromCache||!this.J_()||(!this.options._a||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}ia(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(t){t=Em.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==uk.Cache}}class $Ee{constructor(t,e){this.aa=t,this.byteLength=e}ua(){return"metadata"in this.aa}}class H6{constructor(t){this.serializer=t}Es(t){return Cc(this.serializer,t)}ds(t){return t.metadata.exists?Fq(this.serializer,t.document,!1):Ti.newNoDocument(this.Es(t.metadata.name),this.As(t.metadata.readTime))}As(t){return ur(t)}}class GEe{constructor(t,e,i){this.ca=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=z6(t)}la(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.aa.namedQuery)this.queries.push(t.aa.namedQuery);else if(t.aa.documentMetadata){this.documents.push({metadata:t.aa.documentMetadata}),t.aa.documentMetadata.exists||++e;const i=bn.fromString(t.aa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.aa.document&&(this.documents[this.documents.length-1].document=t.aa.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ha(t){const e=new Map,i=new H6(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.Es(r.metadata.name);for(const s of r.metadata.queries){const a=(e.get(s)||en()).add(o);e.set(s,a)}}return e}complete(){var t=this;return(0,he.A)(function*(){const e=yield function yEe(n,t,e,i){return OO.apply(this,arguments)}(t.localStore,new H6(t.serializer),t.documents,t.ca.id),i=t.ha(t.documents);for(const r of t.queries)yield bEe(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Pa:t.collectionGroups,Ia:e}})()}}function z6(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class $6{constructor(t){this.key=t}}class G6{constructor(t){this.key=t}}class W6{constructor(t,e){this.query=t,this.Ta=e,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=en(),this.mutatedKeys=en(),this.Aa=iq(t),this.Ra=new wm(this.Aa)}get Va(){return this.Ta}ma(t,e){const i=e?e.fa:new B6,r=e?e.Ra:this.Ra;let o=e?e.mutatedKeys:this.mutatedKeys,s=r,a=!1;const c="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((u,p)=>{const _=r.get(u),v=ay(this.query,p)?p:null,b=!!_&&this.mutatedKeys.has(_.key),C=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let D=!1;_&&v?_.data.isEqual(v.data)?b!==C&&(i.track({type:3,doc:v}),D=!0):this.ga(_,v)||(i.track({type:2,doc:v}),D=!0,(c&&this.Aa(v,c)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!_&&v?(i.track({type:0,doc:v}),D=!0):_&&!v&&(i.track({type:1,doc:_}),D=!0,(c||l)&&(a=!0)),D&&(v?(s=s.add(v),o=C?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{Ra:s,fa:i,ns:a,mutatedKeys:o}}ga(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const s=t.fa.G_();s.sort((u,p)=>function(v,b){const C=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return C(v)-C(b)}(u.type,p.type)||this.Aa(u.doc,p.doc)),this.pa(i),r=null!=r&&r;const a=e&&!r?this.ya():[],c=0===this.da.size&&this.current&&!r?1:0,l=c!==this.Ea;return this.Ea=c,0!==s.length||l?{snapshot:new Em(this.query,t.Ra,o,s,t.mutatedKeys,0===c,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new B6,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=en(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const e=[];return t.forEach(i=>{this.da.has(i)||e.push(new G6(i))}),this.da.forEach(i=>{t.has(i)||e.push(new $6(i))}),e}ba(t){this.Ta=t.Ts,this.da=en();const e=this.ma(t.documents);return this.applyChanges(e,!0)}Da(){return Em.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class WEe{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class qEe{constructor(t){this.key=t,this.va=!1}}class KEe{constructor(t,e,i,r,o,s){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new gl(a=>tq(a),sy),this.Ma=new Map,this.xa=new Set,this.Oa=new vi(He.comparator),this.Na=new Map,this.La=new CO,this.Ba={},this.ka=new Map,this.qa=sh.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function YEe(n,t){return hk.apply(this,arguments)}function hk(){return(hk=(0,he.A)(function*(n,t,e=!0){const i=LC(n);let r;const o=i.Fa.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.Da()):r=yield q6(i,t,e,!0),r})).apply(this,arguments)}function QEe(n,t){return fk.apply(this,arguments)}function fk(){return(fk=(0,he.A)(function*(n,t){const e=LC(n);yield q6(e,t,!0,!1)})).apply(this,arguments)}function q6(n,t,e,i){return pk.apply(this,arguments)}function pk(){return(pk=(0,he.A)(function*(n,t,e,i){const r=yield pm(n.localStore,bo(t)),o=r.targetId,s=e?n.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return i&&(a=yield mk(n,t,o,"current"===s,r.resumeToken)),n.isPrimaryClient&&e&&PC(n.remoteStore,r),a})).apply(this,arguments)}function mk(n,t,e,i,r){return gk.apply(this,arguments)}function gk(){return gk=(0,he.A)(function*(n,t,e,i,r){n.Ka=(p,_,v)=>{return(b=(0,he.A)(function*(D,N,k,j){let Y=N.view.ma(k);Y.ns&&(Y=yield xC(D.localStore,N.query,!1).then(({documents:M})=>N.view.ma(M,Y)));const me=j&&j.targetChanges.get(N.targetId),we=j&&null!=j.targetMismatches.get(N.targetId),B=N.view.applyChanges(Y,D.isPrimaryClient,me,we);return Sk(D,N.targetId,B.wa),B.snapshot}),function C(D,N,k,j){return b.apply(this,arguments)})(n,p,_,v);var b};const o=yield xC(n.localStore,t,!0),s=new W6(t,o.Ts),a=s.ma(o.documents),c=py.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),l=s.applyChanges(a,n.isPrimaryClient,c);Sk(n,e,l.wa);const u=new WEe(t,e,s);return n.Fa.set(t,u),n.Ma.has(e)?n.Ma.get(e).push(t):n.Ma.set(e,[t]),l.snapshot}),gk.apply(this,arguments)}function ZEe(n,t,e){return _k.apply(this,arguments)}function _k(){return(_k=(0,he.A)(function*(n,t,e){const i=Be(n),r=i.Fa.get(t),o=i.Ma.get(r.targetId);if(o.length>1)return i.Ma.set(r.targetId,o.filter(s=>!sy(s,t))),void i.Fa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield mm(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&_m(i.remoteStore,r.targetId),Im(i,r.targetId)}).catch(pu))):(Im(i,r.targetId),yield mm(i.localStore,r.targetId,!0))})).apply(this,arguments)}function XEe(n,t){return vk.apply(this,arguments)}function vk(){return(vk=(0,he.A)(function*(n,t){const e=Be(n),i=e.Fa.get(t),r=e.Ma.get(i.targetId);e.isPrimaryClient&&1===r.length&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),_m(e.remoteStore,i.targetId))})).apply(this,arguments)}function yk(){return(yk=(0,he.A)(function*(n,t,e){const i=Vk(n);try{const r=yield function(s,a){const c=Be(s),l=ki.now(),u=a.reduce((v,b)=>v.add(b.key),en());let p,_;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=ds(),C=en();return c.cs.getEntries(v,u).next(D=>{b=D,b.forEach((N,k)=>{k.isValidDocument()||(C=C.add(N))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,b)).next(D=>{p=D;const N=[];for(const k of a){const j=Twe(k,p.get(k.key).overlayedDocument);null!=j&&N.push(new _l(k.key,j,BW(j.value.mapValue),Pi.exists(!0)))}return c.mutationQueue.addMutationBatch(v,l,N,a)}).next(D=>{_=D;const N=D.applyToLocalDocumentSet(p,C);return c.documentOverlayCache.saveOverlays(v,D.batchId,N)})}).then(()=>({batchId:_.batchId,changes:oq(p)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,c){let l=s.Ba[s.currentUser.toKey()];l||(l=new vi(Ut)),l=l.insert(a,c),s.Ba[s.currentUser.toKey()]=l}(i,r.batchId,e),yield yl(i,r.changes),yield vm(i.remoteStore)}catch(r){const o=bm(r,"Failed to persist write");e.reject(o)}})).apply(this,arguments)}function K6(n,t){return bk.apply(this,arguments)}function bk(){return(bk=(0,he.A)(function*(n,t){const e=Be(n);try{const i=yield function _Ee(n,t){const e=Be(n),i=t.snapshotVersion;let r=e.os;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=e.cs.newChangeBuffer({trackRemovals:!0});r=e.os;const a=[];t.targetChanges.forEach((u,p)=>{const _=r.get(p);if(!_)return;a.push(e.Ur.removeMatchingKeys(o,u.removedDocuments,p).next(()=>e.Ur.addMatchingKeys(o,u.addedDocuments,p)));let v=_.withSequenceNumber(o.currentSequenceNumber);var C,D,N;null!==t.targetMismatches.get(p)?v=v.withResumeToken(Ki.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):u.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(u.resumeToken,i)),r=r.insert(p,v),D=v,N=u,(0===(C=_).resumeToken.approximateByteSize()||D.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8||N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0)&&a.push(e.Ur.updateTargetData(o,v))});let c=ds(),l=en();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(e.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(I6(o,s,t.documentUpdates).next(u=>{c=u.Ps,l=u.Is})),!i.isEqual(mt.min())){const u=e.Ur.getLastRemoteSnapshotVersion(o).next(p=>e.Ur.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return ee.waitFor(a).next(()=>s.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,c,l)).next(()=>c)}).then(o=>(e.os=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const s=e.Na.get(o);s&&(ct(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.va=!0:r.modifiedDocuments.size>0?ct(s.va):r.removedDocuments.size>0&&(ct(s.va),s.va=!1))}),yield yl(e,i,t)}catch(i){yield pu(i)}})).apply(this,arguments)}function Y6(n,t,e){const i=Be(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.Fa.forEach((o,s)=>{const a=s.view.Z_(t);a.snapshot&&r.push(a.snapshot)}),function(s,a){const c=Be(s);c.onlineState=a;let l=!1;c.queries.forEach((u,p)=>{for(const _ of p.j_)_.Z_(a)&&(l=!0)}),l&&lk(c)}(i.eventManager,t),r.length&&i.Ca.d_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function eIe(n,t,e){return wk.apply(this,arguments)}function wk(){return(wk=(0,he.A)(function*(n,t,e){const i=Be(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Na.get(t),o=r&&r.key;if(o){let s=new vi(He.comparator);s=s.insert(o,Ti.newNoDocument(o,mt.min()));const a=en().add(o),c=new fy(mt.min(),new Map,new vi(Ut),s,a);yield K6(i,c),i.Oa=i.Oa.remove(o),i.Na.delete(t),Ak(i)}else yield mm(i.localStore,t,!1).then(()=>Im(i,t,e)).catch(pu)})).apply(this,arguments)}function tIe(n,t){return Ek.apply(this,arguments)}function Ek(){return(Ek=(0,he.A)(function*(n,t){const e=Be(n),i=t.batch.batchId;try{const r=yield function gEe(n,t){const e=Be(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const p=l.batch,_=p.keys();let v=ee.resolve();return _.forEach(b=>{v=v.next(()=>u.getEntry(c,b)).next(C=>{const D=l.docVersions.get(b);ct(null!==D),C.version.compareTo(D)<0&&(p.applyToRemoteDocument(C,l),C.isValidDocument()&&(C.setReadTime(l.commitVersion),u.addEntry(C)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let c=en();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);Dk(e,i,null),Tk(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield yl(e,r)}catch(r){yield pu(r)}})).apply(this,arguments)}function nIe(n,t,e){return Ik.apply(this,arguments)}function Ik(){return(Ik=(0,he.A)(function*(n,t,e){const i=Be(n);try{const r=yield function(s,a){const c=Be(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(p=>(ct(null!==p),u=p.keys(),c.mutationQueue.removeMutationBatch(l,p))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(i.localStore,t);Dk(i,t,e),Tk(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield yl(i,r)}catch(r){yield pu(r)}})).apply(this,arguments)}function Ck(){return(Ck=(0,he.A)(function*(n,t){const e=Be(n);Du(e.remoteStore)||ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const a=Be(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(e.localStore);if(-1===i)return void t.resolve();const r=e.ka.get(i)||[];r.push(t),e.ka.set(i,r)}catch(i){const r=bm(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}})).apply(this,arguments)}function Tk(n,t){(n.ka.get(t)||[]).forEach(e=>{e.resolve()}),n.ka.delete(t)}function Dk(n,t,e){const i=Be(n);let r=i.Ba[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Ba[i.currentUser.toKey()]=r}}function Im(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Ma.get(t))n.Fa.delete(i),e&&n.Ca.$a(i,e);n.Ma.delete(t),n.isPrimaryClient&&n.La.gr(t).forEach(i=>{n.La.containsKey(i)||Q6(n,i)})}function Q6(n,t){n.xa.delete(t.path.canonicalString());const e=n.Oa.get(t);null!==e&&(_m(n.remoteStore,e),n.Oa=n.Oa.remove(t),n.Na.delete(e),Ak(n))}function Sk(n,t,e){for(const i of e)i instanceof $6?(n.La.addReference(i.key,t),rIe(n,i)):i instanceof G6?(ke("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,t),n.La.containsKey(i.key)||Q6(n,i.key)):Je()}function rIe(n,t){const e=t.key,i=e.path.canonicalString();n.Oa.get(e)||n.xa.has(i)||(ke("SyncEngine","New document in limbo: "+e),n.xa.add(i),Ak(n))}function Ak(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const t=n.xa.values().next().value;n.xa.delete(t);const e=new He(bn.fromString(t)),i=n.qa.next();n.Na.set(i,new qEe(e)),n.Oa=n.Oa.insert(e,i),PC(n.remoteStore,new vl(bo(tm(e.path)),i,"TargetPurposeLimboResolution",Fs.oe))}}function yl(n,t,e){return Rk.apply(this,arguments)}function Rk(){return Rk=(0,he.A)(function*(n,t,e){const i=Be(n),r=[],o=[],s=[];var a;i.Fa.isEmpty()||(i.Fa.forEach((a,c)=>{s.push(i.Ka(c,t,e).then(l=>{var u;if((l||e)&&i.isPrimaryClient){const p=l?!l.fromCache:null===(u=e?.targetChanges.get(c.targetId))||void 0===u?void 0:u.current;i.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(l){r.push(l);const p=RO.Wi(c.targetId,l);o.push(p)}}))}),yield Promise.all(s),i.Ca.d_(r),yield(a=(0,he.A)(function*(l,u){const p=Be(l);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ee.forEach(u,v=>ee.forEach(v.$i,b=>p.persistence.referenceDelegate.addReference(_,v.targetId,b)).next(()=>ee.forEach(v.Ui,b=>p.persistence.referenceDelegate.removeReference(_,v.targetId,b)))))}catch(_){if(!mu(_))throw _;ke("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of u){const v=_.targetId;if(!_.fromCache){const b=p.os.get(v),D=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);p.os=p.os.insert(v,D)}}}),function c(l,u){return a.apply(this,arguments)})(i.localStore,o))}),Rk.apply(this,arguments)}function oIe(n,t){return xk.apply(this,arguments)}function xk(){return(xk=(0,he.A)(function*(n,t){const e=Be(n);if(!e.currentUser.isEqual(t)){ke("SyncEngine","User change. New user:",t.toKey());const i=yield w6(e.localStore,t);e.currentUser=t,(o=e).ka.forEach(a=>{a.forEach(c=>{c.reject(new xe(ce.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ka.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield yl(e,i.hs)}var o})).apply(this,arguments)}function sIe(n,t){const e=Be(n),i=e.Na.get(t);if(i&&i.va)return en().add(i.key);{let r=en();const o=e.Ma.get(t);if(!o)return r;for(const s of o){const a=e.Fa.get(s);r=r.unionWith(a.view.Va)}return r}}function aIe(n,t){return Mk.apply(this,arguments)}function Mk(){return(Mk=(0,he.A)(function*(n,t){const e=Be(n),i=yield xC(e.localStore,t.query,!0),r=t.view.ba(i);return e.isPrimaryClient&&Sk(e,t.targetId,r.wa),r})).apply(this,arguments)}function cIe(n,t){return Ok.apply(this,arguments)}function Ok(){return(Ok=(0,he.A)(function*(n,t){const e=Be(n);return T6(e.localStore,t).then(i=>yl(e,i))})).apply(this,arguments)}function lIe(n,t,e,i){return kk.apply(this,arguments)}function kk(){return(kk=(0,he.A)(function*(n,t,e,i){const r=Be(n),o=yield function(a,c){const l=Be(a),u=Be(l.mutationQueue);return l.persistence.runTransaction("Lookup mutation documents","readonly",p=>u.Mn(p,c).next(_=>_?l.localDocuments.getDocuments(p,_):ee.resolve(null)))}(r.localStore,t);var c;null!==o?("pending"===e?yield vm(r.remoteStore):"acknowledged"===e||"rejected"===e?(Dk(r,t,i||null),Tk(r,t),c=t,Be(Be(r.localStore).mutationQueue).On(c)):Je(),yield yl(r,o)):ke("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function Nk(){return(Nk=(0,he.A)(function*(n,t){const e=Be(n);if(LC(e),Vk(e),!0===t&&!0!==e.Qa){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield Z6(e,i.toArray());e.Qa=!0,yield nk(e.remoteStore,!0);for(const o of r)PC(e.remoteStore,o)}else if(!1===t&&!1!==e.Qa){const i=[];let r=Promise.resolve();e.Ma.forEach((o,s)=>{e.sharedClientState.isLocalQueryTarget(s)?i.push(s):r=r.then(()=>(Im(e,s),mm(e.localStore,s,!0))),_m(e.remoteStore,s)}),yield r,yield Z6(e,i),function(s){const a=Be(s);a.Na.forEach((c,l)=>{_m(a.remoteStore,l)}),a.La.pr(),a.Na=new Map,a.Oa=new vi(He.comparator)}(e),e.Qa=!1,yield nk(e.remoteStore,!1)}})).apply(this,arguments)}function Z6(n,t,e){return Pk.apply(this,arguments)}function Pk(){return(Pk=(0,he.A)(function*(n,t,e){const i=Be(n),r=[],o=[];for(const s of t){let a;const c=i.Ma.get(s);if(c&&0!==c.length){a=yield pm(i.localStore,bo(c[0]));for(const l of c){const u=i.Fa.get(l),p=yield aIe(i,u);p.snapshot&&o.push(p.snapshot)}}else{const l=yield C6(i.localStore,s);a=yield pm(i.localStore,l),yield mk(i,X6(l),s,!1,a.resumeToken)}r.push(a)}return i.Ca.d_(o),r})).apply(this,arguments)}function X6(n){return ZW(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function dIe(n){return e=Be(n).localStore,Be(Be(e).persistence).Qi();var e}function hIe(n,t,e,i){return Fk.apply(this,arguments)}function Fk(){return(Fk=(0,he.A)(function*(n,t,e,i){const r=Be(n);if(r.Qa)return void ke("SyncEngine","Ignoring unexpected query state notification.");const o=r.Ma.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const s=yield T6(r.localStore,nq(o[0])),a=fy.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Ki.EMPTY_BYTE_STRING);yield yl(r,s,a);break}case"rejected":yield mm(r.localStore,t,!0),Im(r,t,i);break;default:Je()}})).apply(this,arguments)}function fIe(n,t,e){return Lk.apply(this,arguments)}function Lk(){return(Lk=(0,he.A)(function*(n,t,e){const i=LC(n);if(i.Qa){for(const r of t){if(i.Ma.has(r)&&i.sharedClientState.isActiveQueryTarget(r)){ke("SyncEngine","Adding an already active target "+r);continue}const o=yield C6(i.localStore,r),s=yield pm(i.localStore,o);yield mk(i,X6(o),s.targetId,!1,s.resumeToken),PC(i.remoteStore,s)}for(const r of e)i.Ma.has(r)&&(yield mm(i.localStore,r,!1).then(()=>{_m(i.remoteStore,r),Im(i,r)}).catch(pu))}})).apply(this,arguments)}function LC(n){const t=Be(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=K6.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=sIe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eIe.bind(null,t),t.Ca.d_=HEe.bind(null,t.eventManager),t.Ca.$a=zEe.bind(null,t.eventManager),t}function Vk(n){const t=Be(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tIe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=nIe.bind(null,t),t}class Cm{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,he.A)(function*(){e.serializer=Cy(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return b6(this.persistence,new y6,t.initialUser,this.serializer)}createPersistence(t){return new TO(SC.Zr,this.serializer)}createSharedClientState(t){return new R6}terminate(){var t=this;return(0,he.A)(function*(){var e,i;null===(e=t.gcScheduler)||void 0===e||e.stop(),null===(i=t.indexBackfillerScheduler)||void 0===i||i.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class Bk extends Cm{constructor(t,e,i){super(),this.Wa=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,he.A)(function*(){yield e().call(i,t),yield i.Wa.initialize(i,t),yield Vk(i.Wa.syncEngine),yield vm(i.Wa.remoteStore),yield i.persistence.yi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return b6(this.persistence,new y6,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new u6(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new F0e(e,this.persistence);return new P0e(t.asyncQueue,i)}createPersistence(t){const e=AO(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?wo.withCacheSize(this.cacheSizeBytes):wo.DEFAULT;return new SO(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,M6(),NC(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new R6}}class J6 extends Bk{constructor(t,e){super(t,e,!1),this.Wa=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,he.A)(function*(){yield e().call(i,t);const r=i.Wa.syncEngine;i.sharedClientState instanceof LO&&(i.sharedClientState.syncEngine={no:lIe.bind(null,r),ro:hIe.bind(null,r),io:fIe.bind(null,r),Qi:dIe.bind(null,r),eo:cIe.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.yi(function(){var o=(0,he.A)(function*(s){yield function uIe(n,t){return Nk.apply(this,arguments)}(i.Wa.syncEngine,s),i.gcScheduler&&(s&&!i.gcScheduler.started?i.gcScheduler.start():s||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(s&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():s||i.indexBackfillerScheduler.stop())});return function(s){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=M6();if(!LO.D(e))throw new xe(ce.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=AO(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new LO(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Tm{initialize(t,e){var i=this;return(0,he.A)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>Y6(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=oIe.bind(null,i.syncEngine),yield nk(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new jEe}createDatastore(t){const e=Cy(t.databaseInfo.databaseId),i=new CEe(t.databaseInfo);return new SEe(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return i=this.localStore,r=this.datastore,o=t.asyncQueue,s=e=>Y6(this.syncEngine,e,0),a=x6.D()?new x6:new wEe,new REe(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(t,e){return function(r,o,s,a,c,l,u){const p=new KEe(r,o,s,a,c,l);return u&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){var t=this;return(0,he.A)(function*(){var e,i,r;yield(r=(0,he.A)(function*(s){const a=Be(s);ke("RemoteStore","RemoteStore shutting down."),a.L_.add(5),yield gm(a),a.k_.shutdown(),a.q_.set("Unknown")}),function o(s){return r.apply(this,arguments)})(t.remoteStore),null===(e=t.datastore)||void 0===e||e.terminate(),null===(i=t.eventManager)||void 0===i||i.terminate()})()}}function e9(n,t=10240){let e=0;return{read:()=>(0,he.A)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,he.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class VC{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ga(this.observer.next,t)}error(t){this.observer.error?this.Ga(this.observer.error,t):lr("Uncaught Error in snapshot listener:",t.toString())}za(){this.muted=!0}Ga(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class gIe{constructor(t,e){this.ja=t,this.serializer=e,this.metadata=new kr,this.buffer=new Uint8Array,this.Ha=new TextDecoder("utf-8"),this.Ja().then(i=>{i&&i.ua()?this.metadata.resolve(i.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.aa)}`))},i=>this.metadata.reject(i))}close(){return this.ja.cancel()}getMetadata(){var t=this;return(0,he.A)(function*(){return t.metadata.promise})()}Ua(){var t=this;return(0,he.A)(function*(){return yield t.getMetadata(),t.Ja()})()}Ja(){var t=this;return(0,he.A)(function*(){const e=yield t.Ya();if(null===e)return null;const i=t.Ha.decode(e),r=Number(i);isNaN(r)&&t.Za(`length string (${i}) is not valid number`);const o=yield t.Xa(r);return new $Ee(JSON.parse(o),e.length+r)})()}eu(){return this.buffer.findIndex(t=>123===t)}Ya(){var t=this;return(0,he.A)(function*(){for(;t.eu()<0&&!(yield t.tu()););if(0===t.buffer.length)return null;const e=t.eu();e<0&&t.Za("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Xa(t){var e=this;return(0,he.A)(function*(){for(;e.buffer.length<t;)(yield e.tu())&&e.Za("Reached the end of bundle when more is expected.");const i=e.Ha.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Za(t){throw this.ja.cancel(),new Error(`Invalid bundle format: ${t}`)}tu(){var t=this;return(0,he.A)(function*(){const e=yield t.ja.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class _Ie{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,he.A)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw e.lastTransactionError=new xe(ce.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),e.lastTransactionError;const i=yield(r=(0,he.A)(function*(s,a){const c=Be(s),l={documents:a.map(v=>my(c.serializer,v))},u=yield c.Lo("BatchGetDocuments",c.serializer.databaseId,bn.emptyPath(),l,a.length),p=new Map;u.forEach(v=>{const b=function Nwe(n,t){return"found"in t?function(i,r){ct(!!r.found);const o=Cc(i,r.found.name),s=ur(r.found.updateTime),a=r.found.createTime?ur(r.found.createTime):mt.min(),c=new ro({mapValue:{fields:r.found.fields}});return Ti.newFoundDocument(o,s,a,c)}(n,t):"missing"in t?function(i,r){ct(!!r.missing),ct(!!r.readTime);const o=Cc(i,r.missing),s=ur(r.readTime);return Ti.newNoDocument(o,s)}(n,t):Je()}(c.serializer,v);p.set(b.key.toString(),b)});const _=[];return a.forEach(v=>{const b=p.get(v.toString());ct(!!b),_.push(b)}),_}),function o(s,a){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new am(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,he.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=He.fromPath(r);t.mutations.push(new aO(o,t.precondition(o)))}),yield(i=(0,he.A)(function*(o,s){const a=Be(o),c={writes:s.map(l=>gy(a.serializer,l))};yield a.Mo("Commit",a.serializer.databaseId,bn.emptyPath(),c)}),function r(o,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Je();e=mt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new xe(ce.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(mt.min())?Pi.exists(!1):Pi.updateTime(e):Pi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(mt.min()))throw new xe(ce.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pi.updateTime(e)}return Pi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class vIe{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.nu=i.maxAttempts,this.t_=new BO(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){var t=this;this.t_.Go((0,he.A)(function*(){const e=new _Ie(t.datastore),i=t.su(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.ou(o)}))}).catch(r=>{t.ou(r)})}))}su(t){try{const e=this.updateFunction(t);return!Xv(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ou(t){this.nu>0&&this._u(t)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(t)}_u(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!bq(e)}return!1}}class yIe{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=zr.UNAUTHENTICATED,this.clientId=dW.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=(0,he.A)(function*(a){ke("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(ke("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xe(ce.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,he.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=bm(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function BC(n,t){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,he.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const e=n.configuration;yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,he.A)(function*(o){i.isEqual(o)||(yield w6(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),Uk.apply(this,arguments)}function jk(n,t){return Hk.apply(this,arguments)}function Hk(){return(Hk=(0,he.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield zk(n);ke("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>V6(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>V6(t.remoteStore,r)),n._onlineComponents=t})).apply(this,arguments)}function t9(n){return"FirebaseError"===n.name?n.code===ce.FAILED_PRECONDITION||n.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function zk(n){return $k.apply(this,arguments)}function $k(){return($k=(0,he.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ke("FirestoreClient","Using user provided OfflineComponentProvider");try{yield BC(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!t9(e))throw e;ls("Error using user provided cache. Falling back to memory cache: "+e),yield BC(n,new Cm)}}else ke("FirestoreClient","Using default OfflineComponentProvider"),yield BC(n,new Cm);return n._offlineComponents})).apply(this,arguments)}function UC(n){return Gk.apply(this,arguments)}function Gk(){return(Gk=(0,he.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ke("FirestoreClient","Using user provided OnlineComponentProvider"),yield jk(n,n._uninitializedComponentsProvider._online)):(ke("FirestoreClient","Using default OnlineComponentProvider"),yield jk(n,new Tm))),n._onlineComponents})).apply(this,arguments)}function n9(n){return zk(n).then(t=>t.persistence)}function Dm(n){return zk(n).then(t=>t.localStore)}function i9(n){return UC(n).then(t=>t.remoteStore)}function Wk(n){return UC(n).then(t=>t.syncEngine)}function Sm(n){return qk.apply(this,arguments)}function qk(){return(qk=(0,he.A)(function*(n){const t=yield UC(n),e=t.eventManager;return e.onListen=YEe.bind(null,t.syncEngine),e.onUnlisten=ZEe.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=QEe.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=XEe.bind(null,t.syncEngine),e})).apply(this,arguments)}function o9(n,t,e={}){const i=new kr;return n.asyncQueue.enqueueAndForget((0,he.A)(function*(){return function(o,s,a,c,l){const u=new VC({next:_=>{s.enqueueAndForget(()=>ak(o,p));const v=_.docs.has(a);!v&&_.fromCache?l.reject(new xe(ce.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&_.fromCache&&c&&"server"===c.source?l.reject(new xe(ce.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(_)},error:_=>l.reject(_)}),p=new dk(tm(a.path),u,{includeMetadataChanges:!0,_a:!0});return ok(o,p)}(yield Sm(n),n.asyncQueue,t,e,i)})),i.promise}function s9(n,t,e={}){const i=new kr;return n.asyncQueue.enqueueAndForget((0,he.A)(function*(){return function(o,s,a,c,l){const u=new VC({next:_=>{s.enqueueAndForget(()=>ak(o,p)),_.fromCache&&"server"===c.source?l.reject(new xe(ce.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(_)},error:_=>l.reject(_)}),p=new dk(a,u,{includeMetadataChanges:!0,_a:!0});return ok(o,p)}(yield Sm(n),n.asyncQueue,t,e,i)})),i.promise}function a9(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const c9=new Map;function Kk(n,t,e){if(!e)throw new xe(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function l9(n,t,e,i){if(!0===t&&!0===i)throw new xe(ce.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function u9(n){if(!He.isDocumentKey(n))throw new xe(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function d9(n){if(He.isDocumentKey(n))throw new xe(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":Je()}function fn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new xe(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=jC(n);throw new xe(ce.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function h9(n,t){if(t<=0)throw new xe(ce.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class f9{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new xe(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new xe(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}l9("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=a9(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Dy{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f9({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xe(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new xe(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f9(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new I0e;switch(i.type){case"firstParty":return new S0e(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new xe(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=c9.get(e);i&&(ke("ComponentProvider","Removing Datastore"),c9.delete(e),i.terminate())}(this),Promise.resolve()}}class oo{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new oo(this.firestore,t,this._query)}}class Di{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Di(this.firestore,t,this._key)}}class Tc extends oo{constructor(t,e,i){super(t,e,tm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Di(this.firestore,null,new He(t))}withConverter(t){return new Tc(this.firestore,t,this._path)}}function m9(n,t,...e){if(n=(0,sn.Ku)(n),Kk("collection","path",t),n instanceof Dy){const i=bn.fromString(t,...e);return d9(i),new Tc(n,null,i)}{if(!(n instanceof Di||n instanceof Tc))throw new xe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(bn.fromString(t,...e));return d9(i),new Tc(n.firestore,null,i)}}function HC(n,t,...e){if(n=(0,sn.Ku)(n),1===arguments.length&&(t=dW.newId()),Kk("doc","path",t),n instanceof Dy){const i=bn.fromString(t,...e);return u9(i),new Di(n,null,new He(i))}{if(!(n instanceof Di||n instanceof Tc))throw new xe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(bn.fromString(t,...e));return u9(i),new Di(n.firestore,n instanceof Tc?n.converter:null,new He(i))}}function g9(n,t){return n=(0,sn.Ku)(n),t=(0,sn.Ku)(t),(n instanceof Di||n instanceof Tc)&&(t instanceof Di||t instanceof Tc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function Yk(n,t){return n=(0,sn.Ku)(n),t=(0,sn.Ku)(t),n instanceof oo&&t instanceof oo&&n.firestore===t.firestore&&sy(n._query,t._query)&&n.converter===t.converter}class OIe{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new BO(this,"async_queue_retry"),this.Eu=()=>{const e=NC();e&&ke("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()};const t=NC();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.du(),this.Au(t)}enterRestrictedMode(t){if(!this.cu){this.cu=!0,this.Iu=t||!1;const e=NC();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Eu)}}enqueue(t){if(this.du(),this.cu)return new Promise(()=>{});const e=new kr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.uu.push(t),this.Ru()))}Ru(){var t=this;return(0,he.A)(function*(){if(0!==t.uu.length){try{yield t.uu[0](),t.uu.shift(),t.t_.reset()}catch(e){if(!mu(e))throw e;ke("AsyncQueue","Operation failed with retryable error: "+e)}t.uu.length>0&&t.t_.Go(()=>t.Ru())}})()}Au(t){const e=this.au.then(()=>(this.Pu=!0,t().catch(i=>{throw this.hu=i,this.Pu=!1,lr("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.Pu=!1,i))));return this.au=e,e}enqueueAfterDelay(t,e,i){this.du(),this.Tu.indexOf(t)>-1&&(e=0);const r=rk.createAndSchedule(this,t,e,i,o=>this.Vu(o));return this.lu.push(r),r}du(){this.hu&&Je()}verifyOperationInProgress(){}mu(){var t=this;return(0,he.A)(function*(){let e;do{e=t.au,yield e}while(e!==t.au)})()}fu(t){for(const e of this.lu)if(e.timerId===t)return!0;return!1}gu(t){return this.mu().then(()=>{this.lu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.lu)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.mu()})}pu(t){this.Tu.push(t)}Vu(t){const e=this.lu.indexOf(t);this.lu.splice(e,1)}}function Qk(n){return function(e){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class kIe{constructor(){this._progressObserver={},this._taskCompletionResolver=new kr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class ei extends Dy{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new OIe,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||_9(this),this._firestoreClient.terminate()}}function Fi(n){return n._firestoreClient||_9(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function _9(n){var t,e,i;const r=n._freezeSettings(),o=(c=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new rwe(n._databaseId,c,n._persistenceKey,(u=r).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,a9(u.experimentalLongPollingOptions),u.useFetchStreams));var c,u;n._firestoreClient=new yIe(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function v9(n,t,e){const i=new kr;return n.asyncQueue.enqueue((0,he.A)(function*(){try{yield BC(n,e),yield jk(n,t),i.resolve()}catch(r){const o=r;if(!t9(o))throw o;ls("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function y9(n){if(n._initialized||n._terminated)throw new xe(ce.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Dc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Dc(Ki.fromBase64String(t))}catch(e){throw new xe(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Dc(Ki.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class bl{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new xe(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ci(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ch{constructor(t){this._methodName=t}}class zC{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new xe(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new xe(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}}class $C{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}}const $Ie=/^__.*__$/;class GIe{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new _l(t,this.data,this.fieldMask,e,this.fieldTransforms):new sm(t,this.data,e,this.fieldTransforms)}}class b9{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new _l(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function w9(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class GC{constructor(t,e,i,r,o,s){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(t){return new GC(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Su({path:i,Du:!1});return r.vu(t),r}Cu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Su({path:i,Du:!1});return r.yu(),r}Fu(t){return this.Su({path:void 0,Du:!0})}Mu(t){return KC(t,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}yu(){if(this.path)for(let t=0;t<this.path.length;t++)this.vu(this.path.get(t))}vu(t){if(0===t.length)throw this.Mu("Document fields must not be empty");if(w9(this.wu)&&$Ie.test(t))throw this.Mu('Document fields cannot begin and end with "__"')}}class WIe{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Cy(t)}Nu(t,e,i,r=!1){return new GC({wu:t,methodName:e,Ou:i,path:Ci.emptyPath(),Du:!1,xu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lh(n){const t=n._freezeSettings(),e=Cy(n._databaseId);return new WIe(n._databaseId,!!t.ignoreUndefinedProperties,e)}function WC(n,t,e,i,r,o={}){const s=n.Nu(o.merge||o.mergeFields?2:0,t,e,r);iN("Data must be an object, but it was:",s,i);const a=C9(i,s);let c,l;if(o.merge)c=new us(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const p of o.mergeFields){const _=Ry(t,p,e);if(!s.contains(_))throw new xe(ce.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);D9(u,_)||u.push(_)}c=new us(u),l=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,l=s.fieldTransforms;return new GIe(new ro(a),c,l)}class Ay extends ch{_toFieldTransform(t){if(2!==t.wu)throw t.Mu(1===t.wu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ay}}function E9(n,t,e){return new GC({wu:3,Ou:t.settings.Ou,methodName:n._methodName,Du:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Zk extends ch{_toFieldTransform(t){return new uy(t.path,new rm)}isEqual(t){return t instanceof Zk}}class Xk extends ch{constructor(t,e){super(t),this.Lu=e}_toFieldTransform(t){const e=E9(this,t,!0),i=this.Lu.map(o=>uh(o,e)),r=new Jd(i);return new uy(t.path,r)}isEqual(t){return t instanceof Xk&&(0,sn.bD)(this.Lu,t.Lu)}}class Jk extends ch{constructor(t,e){super(t),this.Lu=e}_toFieldTransform(t){const e=E9(this,t,!0),i=this.Lu.map(o=>uh(o,e)),r=new eh(i);return new uy(t.path,r)}isEqual(t){return t instanceof Jk&&(0,sn.bD)(this.Lu,t.Lu)}}class eN extends ch{constructor(t,e){super(t),this.Bu=e}_toFieldTransform(t){const e=new om(t.serializer,cq(t.serializer,this.Bu));return new uy(t.path,e)}isEqual(t){return t instanceof eN&&this.Bu===t.Bu}}function tN(n,t,e,i){const r=n.Nu(1,t,e);iN("Data must be an object, but it was:",r,i);const o=[],s=ro.empty();gu(i,(c,l)=>{const u=qC(t,c,e);l=(0,sn.Ku)(l);const p=r.Cu(u);if(l instanceof Ay)o.push(u);else{const _=uh(l,p);null!=_&&(o.push(u),s.set(u,_))}});const a=new us(o);return new b9(s,a,r.fieldTransforms)}function nN(n,t,e,i,r,o){const s=n.Nu(1,t,e),a=[Ry(t,i,e)],c=[r];if(o.length%2!=0)throw new xe(ce.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)a.push(Ry(t,o[_])),c.push(o[_+1]);const l=[],u=ro.empty();for(let _=a.length-1;_>=0;--_)if(!D9(l,a[_])){const v=a[_];let b=c[_];b=(0,sn.Ku)(b);const C=s.Cu(v);if(b instanceof Ay)l.push(v);else{const D=uh(b,C);null!=D&&(l.push(v),u.set(v,D))}}const p=new us(l);return new b9(u,p,s.fieldTransforms)}function I9(n,t,e,i=!1){return uh(e,n.Nu(i?4:3,t))}function uh(n,t){if(T9(n=(0,sn.Ku)(n)))return iN("Unsupported field value:",t,n),C9(n,t);if(n instanceof ch)return function(i,r){if(!w9(r.wu))throw r.Mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Du&&4!==t.wu)throw t.Mu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let c=uh(a,r.Fu(s));null==c&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if(null===(i=(0,sn.Ku)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return cq(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=ki.fromDate(i);return{timestampValue:cm(r.serializer,o)}}if(i instanceof ki){const o=new ki(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:cm(r.serializer,o)}}if(i instanceof zC)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Dc)return{bytesValue:xq(r.serializer,i._byteString)};if(i instanceof Di){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:fO(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof $C)return a=r,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(c=>{if("number"!=typeof c)throw a.Mu("VectorValues must only contain numeric values.");return sO(a.serializer,c)})}}}}};var a;throw r.Mu(`Unsupported field value: ${jC(i)}`)}(n,t)}function C9(n,t){const e={};return AW(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):gu(n,(i,r)=>{const o=uh(r,t.bu(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function T9(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ki||n instanceof zC||n instanceof Dc||n instanceof Di||n instanceof ch||n instanceof $C)}function iN(n,t,e){if(!T9(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=jC(e);throw t.Mu("an object"===i?n+" a custom object":n+" "+i)}var r}function Ry(n,t,e){if((t=(0,sn.Ku)(t))instanceof bl)return t._internalPath;if("string"==typeof t)return qC(n,t);throw KC("Field path arguments must be of type string or ",n,!1,void 0,e)}const qIe=new RegExp("[~\\*/\\[\\]]");function qC(n,t,e){if(t.search(qIe)>=0)throw KC(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new bl(...t.split("."))._internalPath}catch{throw KC(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function KC(n,t,e,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${t}() called with invalid data`;e&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new xe(ce.INVALID_ARGUMENT,a+n+c)}function D9(n,t){return n.some(e=>e.isEqual(t))}class xy{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Di(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new KIe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(YC("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class KIe extends xy{data(){return super.data()}}function YC(n,t){return"string"==typeof t?qC(n,t):t instanceof bl?t._internalPath:t._delegate._internalPath}function S9(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new xe(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rN{}class My extends rN{}function Au(n,t,...e){let i=[];t instanceof rN&&i.push(t),i=i.concat(e),function(o){const s=o.filter(c=>c instanceof Am).length,a=o.filter(c=>c instanceof Oy).length;if(s>1||s>0&&a>0)throw new xe(ce.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Oy extends My{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Oy(t,e,i)}_apply(t){const e=this._parse(t);return M9(t._query,e),new oo(t.firestore,t.converter,rO(t._query,e))}_parse(t){const e=lh(t.firestore);return function(o,s,a,c,l,u,p){let _;if(l.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new xe(ce.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if("in"===u||"not-in"===u){x9(p,u);const v=[];for(const b of p)v.push(R9(c,o,b));_={arrayValue:{values:v}}}else _=R9(c,o,p)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||x9(p,u),_=I9(a,"where",p,"in"===u||"not-in"===u);return wn.create(l,u,_)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Am extends rN{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Am(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Qn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,o){let s=r;const a=o.getFlattenedFilters();for(const c of a)M9(s,c),s=rO(s,c)}(t._query,e),new oo(t.firestore,t.converter,rO(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class oN extends My{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new oN(t,e)}_apply(t){const e=function(r,o,s){if(null!==r.startAt)throw new xe(ce.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new xe(ce.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ry(o,s)}(t._query,this._field,this._direction);return new oo(t.firestore,t.converter,function(r,o){const s=r.explicitOrderBy.concat([o]);return new ml(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class QC extends My{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new QC(t,e,i)}_apply(t){return new oo(t.firestore,t.converter,fC(t._query,this._limit,this._limitType))}}class ZC extends My{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new ZC(t,e,i)}_apply(t){const e=A9(t,this.type,this._docOrFields,this._inclusive);return new oo(t.firestore,t.converter,(o=e,new ml((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class XC extends My{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new XC(t,e,i)}_apply(t){const e=A9(t,this.type,this._docOrFields,this._inclusive);return new oo(t.firestore,t.converter,(o=e,new ml((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function A9(n,t,e,i){if(e[0]=(0,sn.Ku)(e[0]),e[0]instanceof xy)return function(o,s,a,c,l){if(!c)throw new xe(ce.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const u=[];for(const p of nm(o))if(p.field.isKeyField())u.push(Zd(s,c.key));else{const _=c.data.field(p.field);if(oC(_))throw new xe(ce.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===_){const v=p.field.canonicalString();throw new xe(ce.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}u.push(_)}return new wu(u,l)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=lh(n.firestore);return function(s,a,c,l,u,p){const _=s.explicitOrderBy;if(u.length>_.length)throw new xe(ce.INVALID_ARGUMENT,`Too many arguments provided to ${l}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let b=0;b<u.length;b++){const C=u[b];if(_[b].field.isKeyField()){if("string"!=typeof C)throw new xe(ce.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${l}(), but got a ${typeof C}`);if(!iO(s)&&-1!==C.indexOf("/"))throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${l}() must be a plain document ID, but '${C}' contains a slash.`);const D=s.path.child(bn.fromString(C));if(!He.isDocumentKey(D))throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${l}() must result in a valid document path, but '${D}' is not because it contains an odd number of segments.`);const N=new He(D);v.push(Zd(a,N))}else{const D=I9(c,l,C);v.push(D)}}return new wu(v,p)}(n._query,n.firestore._databaseId,r,t,e,i)}}function R9(n,t,e){if("string"==typeof(e=(0,sn.Ku)(e))){if(""===e)throw new xe(ce.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iO(t)&&-1!==e.indexOf("/"))throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(bn.fromString(e));if(!He.isDocumentKey(i))throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Zd(n,new He(i))}if(e instanceof Di)return Zd(n,e._key);throw new xe(ce.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jC(e)}.`)}function x9(n,t){if(!Array.isArray(n)||0===n.length)throw new xe(ce.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function M9(n,t){const e=function(r,o){for(const s of r)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new xe(ce.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class sN{convertValue(t,e="none"){switch(yu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ni(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(pl(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Je()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return gu(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,r;const o=null===(r=null===(i=null===(e=t.fields)||void 0===e?void 0:e.value.arrayValue)||void 0===i?void 0:i.values)||void 0===r?void 0:r.map(s=>Ni(s.doubleValue));return new $C(o)}convertGeoPoint(t){return new zC(Ni(t.latitude),Ni(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=sC(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(ey(t));default:return null}}convertTimestamp(t){const e=fl(t);return new ki(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=bn.fromString(t);ct(Hq(i));const r=new _u(i.get(1),i.get(3)),o=new He(i.popFirst(5));return r.isEqual(e)||lr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function JC(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class iCe extends sN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Di(this.firestore,null,e)}}class dh{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class wl extends xy{constructor(t,e,i,r,o,s){super(t,e,i,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new ky(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(YC("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class ky extends wl{data(t={}){return super.data(t)}}class Ru{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new dh(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new ky(this._firestore,this._userDataWriter,i.key,i,new dh(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new xe(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new ky(r._firestore,r._userDataWriter,a.doc.key,a.doc,new dh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const c=new ky(r._firestore,r._userDataWriter,a.doc.key,a.doc,new dh(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return 0!==a.type&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:oCe(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function oCe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}function k9(n,t){return n instanceof wl&&t instanceof wl?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Ru&&t instanceof Ru&&n._firestore===t._firestore&&Yk(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class xu extends sN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Di(this.firestore,null,e)}}function N9(n,t,e){n=fn(n,Di);const i=fn(n.firestore,ei),r=JC(n.converter,t,e);return Rm(i,[WC(lh(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Pi.none())])}function P9(n,t,e,...i){n=fn(n,Di);const r=fn(n.firestore,ei),o=lh(r);let s;return s="string"==typeof(t=(0,sn.Ku)(t))||t instanceof bl?nN(o,"updateDoc",n._key,t,e,i):tN(o,"updateDoc",n._key,t),Rm(r,[s.toMutation(n._key,Pi.exists(!0))])}function F9(n,...t){var e,i,r;n=(0,sn.Ku)(n);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof t[s]||Qk(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Qk(t[s])){const p=t[s];t[s]=null===(e=p.next)||void 0===e?void 0:e.bind(p),t[s+1]=null===(i=p.error)||void 0===i?void 0:i.bind(p),t[s+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}let c,l,u;if(n instanceof Di)l=fn(n.firestore,ei),u=tm(n._key.path),c={next:p=>{t[s]&&t[s](aN(l,n,p))},error:t[s+1],complete:t[s+2]};else{const p=fn(n,oo);l=fn(p.firestore,ei),u=p._query;const _=new xu(l);c={next:v=>{t[s]&&t[s](new Ru(l,_,p,v))},error:t[s+1],complete:t[s+2]},S9(n._query)}return function(_,v,b,C){const D=new VC(C),N=new dk(v,D,b);return _.asyncQueue.enqueueAndForget((0,he.A)(function*(){return ok(yield Sm(_),N)})),()=>{D.za(),_.asyncQueue.enqueueAndForget((0,he.A)(function*(){return ak(yield Sm(_),N)}))}}(Fi(l),u,a,c)}function Rm(n,t){return function(i,r){const o=new kr;return i.asyncQueue.enqueueAndForget((0,he.A)(function*(){return function JEe(n,t,e){return yk.apply(this,arguments)}(yield Wk(i),r,o)})),o.promise}(Fi(n),t)}function aN(n,t,e){const i=e.docs.get(t._key),r=new xu(n);return new wl(n,r,t._key,i,new dh(e.hasPendingWrites,e.fromCache),t.converter)}const ICe={maxAttempts:5};class L9{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=lh(t)}set(t,e,i){this._verifyNotCommitted();const r=Mu(t,this._firestore),o=JC(r.converter,e,i),s=WC(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(s.toMutation(r._key,Pi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Mu(t,this._firestore);let s;return s="string"==typeof(e=(0,sn.Ku)(e))||e instanceof bl?nN(this._dataReader,"WriteBatch.update",o._key,e,i,r):tN(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Pi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Mu(t,this._firestore);return this._mutations=this._mutations.concat(new am(e._key,Pi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(ce.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mu(n,t){if((n=(0,sn.Ku)(n)).firestore!==t)throw new xe(ce.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class CCe extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=lh(e)}get(e){const i=Mu(e,this._firestore),r=new iCe(this._firestore);return this._transaction.lookup([i._key]).then(o=>{if(!o||1!==o.length)return Je();const s=o[0];if(s.isFoundDocument())return new xy(this._firestore,r,s.key,s,i.converter);if(s.isNoDocument())return new xy(this._firestore,r,i._key,null,i.converter);throw Je()})}set(e,i,r){const o=Mu(e,this._firestore),s=JC(o.converter,i,r),a=WC(this._dataReader,"Transaction.set",o._key,s,null!==o.converter,r);return this._transaction.set(o._key,a),this}update(e,i,r,...o){const s=Mu(e,this._firestore);let a;return a="string"==typeof(i=(0,sn.Ku)(i))||i instanceof bl?nN(this._dataReader,"Transaction.update",s._key,i,r,o):tN(this._dataReader,"Transaction.update",s._key,i),this._transaction.update(s._key,a),this}delete(e){const i=Mu(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Mu(t,this._firestore),i=new xu(this._firestore);return super.get(t).then(r=>new wl(this._firestore,i,e._key,r._document,new dh(!1,!1),e.converter))}}function lN(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new xe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function j9(){if(typeof Uint8Array>"u")throw new xe("unimplemented","Uint8Arrays are not available in this environment.")}function H9(){if(!function nwe(){return typeof atob<"u"}())throw new xe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){qp=mc.SDK_VERSION,(0,mc._registerComponent)(new WI.uA("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new ei(new T0e(i.getProvider("auth-internal")),new A0e(i.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new xe(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(l.options.projectId,u)}(s,r),s);return o=Object.assign({useFetchStreams:e},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),(0,mc.registerVersion)(cW,"4.7.0",t),(0,mc.registerVersion)(cW,"4.7.0","esm2017")}();class Ny{constructor(t){this._delegate=t}static fromBase64String(t){return H9(),new Ny(Dc.fromBase64String(t))}static fromUint8Array(t){return j9(),new Ny(Dc.fromUint8Array(t))}toBase64(){return H9(),this._delegate.toBase64()}toUint8Array(){return j9(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function uN(n){return function NCe(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class PCe{enableIndexedDbPersistence(t,e){return function PIe(n,t){y9(n=fn(n,ei));const e=Fi(n);if(e._uninitializedComponentsProvider)throw new xe(ce.FAILED_PRECONDITION,"SDK cache is already specified.");ls("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Tm;return v9(e,r,new Bk(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function FIe(n){y9(n=fn(n,ei));const t=Fi(n);if(t._uninitializedComponentsProvider)throw new xe(ce.FAILED_PRECONDITION,"SDK cache is already specified.");ls("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new Tm;return v9(t,i,new J6(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function LIe(n){if(n._initialized&&!n._terminated)throw new xe(ce.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new kr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,he.A)(function*(){try{yield(e=(0,he.A)(function*(r){if(!bc.D())return Promise.resolve();const o=r+"main";yield bc.delete(o)}),function i(r){return e.apply(this,arguments)})(AO(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class z9{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof _u||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&ls("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function p9(n,t,e,i={}){var r;const o=(n=fn(n,Dy))._getSettings(),s=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,c;if("string"==typeof i.mockUserToken)a=i.mockUserToken,c=zr.MOCK_USER;else{a=(0,sn.Fy)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const l=i.mockUserToken.sub||i.mockUserToken.user_id;if(!l)throw new xe(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new zr(l)}n._authCredentials=new C0e(new lW(a,c))}}(this._delegate,t,e,i)}enableNetwork(){return function BIe(n){return function bIe(n){return n.asyncQueue.enqueue((0,he.A)(function*(){const t=yield n9(n),e=yield i9(n);return t.setNetworkEnabled(!0),function(r){const o=Be(r);return o.L_.delete(0),Ty(o)}(e)}))}(Fi(n=fn(n,ei)))}(this._delegate)}disableNetwork(){return function UIe(n){return function wIe(n){return n.asyncQueue.enqueue((0,he.A)(function*(){const t=yield n9(n),e=yield i9(n);return t.setNetworkEnabled(!1),(i=(0,he.A)(function*(o){const s=Be(o);s.L_.add(0),yield gm(s),s.q_.set("Offline")}),function r(o){return i.apply(this,arguments)})(e);var i}))}(Fi(n=fn(n,ei)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,l9("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function VIe(n){return function(e){const i=new kr;return e.asyncQueue.enqueueAndForget((0,he.A)(function*(){return function iIe(n,t){return Ck.apply(this,arguments)}(yield Wk(e),i)})),i.promise}(Fi(n=fn(n,ei)))}(this._delegate)}onSnapshotsInSync(t){return function pCe(n,t){return function TIe(n,t){const e=new VC(t);return n.asyncQueue.enqueueAndForget((0,he.A)(function*(){return r=yield Sm(n),o=e,Be(r).Y_.add(o),void o.next();var r,o})),()=>{e.za(),n.asyncQueue.enqueueAndForget((0,he.A)(function*(){return r=yield Sm(n),o=e,void Be(r).Y_.delete(o);var r,o}))}}(Fi(n=fn(n,ei)),Qk(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new xe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new xm(this,m9(this._delegate,t))}catch(e){throw $o(e,"collection()","Firestore.collection()")}}doc(t){try{return new oa(this,HC(this._delegate,t))}catch(e){throw $o(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Go(this,function MIe(n,t){if(n=fn(n,Dy),Kk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new xe(ce.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new oo(n,null,(i=t,new ml(bn.emptyPath(),i)));var i}(this._delegate,t))}catch(e){throw $o(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function TCe(n,t,e){n=fn(n,ei);const i=Object.assign(Object.assign({},ICe),e);return function(o){if(o.maxAttempts<1)throw new xe(ce.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(o,s,a){const c=new kr;return o.asyncQueue.enqueueAndForget((0,he.A)(function*(){const l=yield function r9(n){return UC(n).then(t=>t.datastore)}(o);new vIe(o.asyncQueue,l,a,s,c).ru()})),c.promise}(Fi(n),r=>t(new CCe(n,r)),i)}(this._delegate,e=>t(new $9(this,e)))}batch(){return Fi(this._delegate),new G9(new L9(this._delegate,t=>Rm(this._delegate,t)))}loadBundle(t){return function jIe(n,t){const e=Fi(n=fn(n,ei)),i=new kIe;return function DIe(n,t,e,i){const r=function(s,a){let c;return c="string"==typeof s?Eq().encode(s):s,u=function(u,p){if(u instanceof Uint8Array)return e9(u,p);if(u instanceof ArrayBuffer)return e9(new Uint8Array(u),p);if(u instanceof ReadableStream)return u.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new gIe(u,a);var u}(e,Cy(t));n.asyncQueue.enqueueAndForget((0,he.A)(function*(){!function pIe(n,t,e){const i=Be(n);var r;(r=(0,he.A)(function*(s,a,c){try{const l=yield a.getMetadata();if(yield function(b,C){const D=Be(b),N=ur(C.createTime);return D.persistence.runTransaction("hasNewerBundle","readonly",k=>D.Gr.getBundleMetadata(k,C.id)).then(k=>!!k&&k.createTime.compareTo(N)>=0)}(s.localStore,l))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(b=l).totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}),Promise.resolve(new Set);c._updateProgress(z6(l));const u=new GEe(l,s.localStore,a.serializer);let p=yield a.Ua();for(;p;){const v=yield u.la(p);v&&c._updateProgress(v),p=yield a.Ua()}const _=yield u.complete();return yield yl(s,_.Ia,void 0),yield function(b,C){const D=Be(b);return D.persistence.runTransaction("Save bundle","readwrite",N=>D.Gr.saveBundleMetadata(N,C))}(s.localStore,l),c._completeWith(_.progress),Promise.resolve(_.Pa)}catch(l){return ls("SyncEngine",`Loading bundle failed with ${l}`),c._failWith(l),Promise.resolve(new Set)}var b}),function o(s,a,c){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield Wk(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function HIe(n,t){return function SIe(n,t){return n.asyncQueue.enqueue((0,he.A)(function*(){return function(i,r){const o=Be(i);return o.persistence.runTransaction("Get named query","readonly",s=>o.Gr.getNamedQuery(s,r))}(yield Dm(n),t)}))}(Fi(n=fn(n,ei)),t).then(e=>e?new oo(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Go(this,e):null)}}class tT extends sN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ny(new Dc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return oa.forKey(e,this.firestore,null)}}class $9{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new tT(t)}get(t){const e=fh(t);return this._delegate.get(e).then(i=>new Py(this._firestore,new wl(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=fh(t);return i?(lN("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=fh(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=fh(t);return this._delegate.delete(e),this}}class G9{constructor(t){this._delegate=t}set(t,e,i){const r=fh(t);return i?(lN("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=fh(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=fh(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class hh{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new ky(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Fy(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=hh.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new hh(t,new tT(t),e),r.set(e,o)),o}}hh.INSTANCES=new WeakMap;class oa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new tT(t)}static forPath(t,e,i){if(t.length%2!=0)throw new xe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new oa(e,new Di(e._delegate,i,new He(t)))}static forKey(t,e,i){return new oa(e,new Di(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new xm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new xm(this.firestore,m9(this._delegate,t))}catch(e){throw $o(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,sn.Ku)(t))instanceof Di&&g9(this._delegate,t)}set(t,e){e=lN("DocumentReference.set",e);try{return e?N9(this._delegate,t,e):N9(this._delegate,t)}catch(i){throw $o(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?P9(this._delegate,t):P9(this._delegate,t,e,...i)}catch(r){throw $o(r,"updateDoc()","DocumentReference.update()")}}delete(){return function hCe(n){return Rm(fn(n.firestore,ei),[new am(n._key,Pi.none())])}(this._delegate)}onSnapshot(...t){const e=W9(t),i=q9(t,r=>new Py(this.firestore,new wl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return F9(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function aCe(n){n=fn(n,Di);const t=fn(n.firestore,ei),e=Fi(t),i=new xu(t);return function EIe(n,t){const e=new kr;return n.asyncQueue.enqueueAndForget((0,he.A)(function*(){return(i=(0,he.A)(function*(o,s,a){try{const c=yield function(u,p){const _=Be(u);return _.persistence.runTransaction("read document","readonly",v=>_.localDocuments.getDocument(v,p))}(o,s);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new xe(ce.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const l=bm(c,`Failed to get document '${s} from cache`);a.reject(l)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Dm(n),t,e);var i})),e.promise}(e,n._key).then(r=>new wl(t,i,n._key,r,new dh(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function cCe(n){n=fn(n,Di);const t=fn(n.firestore,ei);return o9(Fi(t),n._key,{source:"server"}).then(e=>aN(t,n,e))}(this._delegate):function sCe(n){n=fn(n,Di);const t=fn(n.firestore,ei);return o9(Fi(t),n._key).then(e=>aN(t,n,e))}(this._delegate),e.then(i=>new Py(this.firestore,new wl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new oa(this.firestore,this._delegate.withConverter(t?hh.getInstance(this.firestore,t):null))}}function $o(n,t,e){return n.message=n.message.replace(t,e),n}function W9(n){for(const t of n)if("object"==typeof t&&!uN(t))return t;return{}}function q9(n,t){var e,i;let r;return r=uN(n[0])?n[0]:uN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Py{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new oa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return k9(this._delegate,t._delegate)}}class Fy extends Py{data(t){const e=this._delegate.data(t);return this._delegate._converter||function E0e(n){n||Je()}(void 0!==e),e}}class Go{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new tT(t)}where(t,e,i){try{return new Go(this.firestore,Au(this._delegate,function YIe(n,t,e){const i=t,r=YC("where",n);return Oy._create(r,i,e)}(t,e,i)))}catch(r){throw $o(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Go(this.firestore,Au(this._delegate,function QIe(n,t="asc"){const e=t,i=YC("orderBy",n);return oN._create(i,e)}(t,e)))}catch(i){throw $o(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Go(this.firestore,Au(this._delegate,function ZIe(n){return h9("limit",n),QC._create("limit",n,"F")}(t)))}catch(e){throw $o(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Go(this.firestore,Au(this._delegate,function XIe(n){return h9("limitToLast",n),QC._create("limitToLast",n,"L")}(t)))}catch(e){throw $o(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Go(this.firestore,Au(this._delegate,function JIe(...n){return ZC._create("startAt",n,!0)}(...t)))}catch(e){throw $o(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Go(this.firestore,Au(this._delegate,function eCe(...n){return ZC._create("startAfter",n,!1)}(...t)))}catch(e){throw $o(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Go(this.firestore,Au(this._delegate,function tCe(...n){return XC._create("endBefore",n,!1)}(...t)))}catch(e){throw $o(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Go(this.firestore,Au(this._delegate,function nCe(...n){return XC._create("endAt",n,!0)}(...t)))}catch(e){throw $o(e,"endAt()","Query.endAt()")}}isEqual(t){return Yk(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function uCe(n){n=fn(n,oo);const t=fn(n.firestore,ei),e=Fi(t),i=new xu(t);return function IIe(n,t){const e=new kr;return n.asyncQueue.enqueueAndForget((0,he.A)(function*(){return(i=(0,he.A)(function*(o,s,a){try{const c=yield xC(o,s,!0),l=new W6(s,c.Ts),u=l.ma(c.documents),p=l.applyChanges(u,!1);a.resolve(p.snapshot)}catch(c){const l=bm(c,`Failed to execute query '${s} against cache`);a.reject(l)}}),function r(o,s,a){return i.apply(this,arguments)})(yield Dm(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Ru(t,i,n,r))}(this._delegate):"server"===t?.source?function dCe(n){n=fn(n,oo);const t=fn(n.firestore,ei),e=Fi(t),i=new xu(t);return s9(e,n._query,{source:"server"}).then(r=>new Ru(t,i,n,r))}(this._delegate):function lCe(n){n=fn(n,oo);const t=fn(n.firestore,ei),e=Fi(t),i=new xu(t);return S9(n._query),s9(e,n._query).then(r=>new Ru(t,i,n,r))}(this._delegate),e.then(i=>new dN(this.firestore,new Ru(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=W9(t),i=q9(t,r=>new dN(this.firestore,new Ru(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return F9(this._delegate,e,i)}withConverter(t){return new Go(this.firestore,this._delegate.withConverter(t?hh.getInstance(this.firestore,t):null))}}class LCe{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Fy(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class dN{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Go(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Fy(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new LCe(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Fy(this._firestore,i))})}isEqual(t){return k9(this._delegate,t._delegate)}}class xm extends Go{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new oa(this.firestore,t):null}doc(t){try{return new oa(this.firestore,void 0===t?HC(this._delegate):HC(this._delegate,t))}catch(e){throw $o(e,"doc()","CollectionReference.doc()")}}add(t){return function fCe(n,t){const e=fn(n.firestore,ei),i=HC(n),r=JC(n.converter,t);return Rm(e,[WC(lh(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Pi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new oa(this.firestore,e))}isEqual(t){return g9(this._delegate,t._delegate)}withConverter(t){return new xm(this.firestore,this._delegate.withConverter(t?hh.getInstance(this.firestore,t):null))}}function fh(n){return fn(n,Di)}class hN{constructor(...t){this._delegate=new bl(...t)}static documentId(){return new hN(Ci.keyField().canonicalString())}isEqual(t){return(t=(0,sn.Ku)(t))instanceof bl&&this._delegate._internalPath.isEqual(t._internalPath)}}class ph{constructor(t){this._delegate=t}static serverTimestamp(){const t=function SCe(){return new Zk("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new ph(t)}static delete(){const t=function DCe(){return new Ay("deleteField")}();return t._methodName="FieldValue.delete",new ph(t)}static arrayUnion(...t){const e=function ACe(...n){return new Xk("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new ph(e)}static arrayRemove(...t){const e=function RCe(...n){return new Jk("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new ph(e)}static increment(t){const e=function xCe(n){return new eN("increment",n)}(t);return e._methodName="FieldValue.increment",new ph(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const VCe={Firestore:z9,GeoPoint:zC,Timestamp:ki,Blob:Ny,Transaction:$9,WriteBatch:G9,DocumentReference:oa,DocumentSnapshot:Py,Query:Go,QueryDocumentSnapshot:Fy,QuerySnapshot:dN,CollectionReference:xm,FieldPath:hN,FieldValue:ph,setLogLevel:function FCe(n){!function w0e(n){fu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function K9(n,t){return function jCe(n,t=Dp){return new Qt(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function fN(n,t){return K9(n,t).pipe(Me(e=>({payload:e,type:"query"})))}!function UCe(n){(function BCe(n,t){n.INTERNAL.registerComponent(new WI.uA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},VCe)))})(n,(t,e)=>new z9(t,e,new PCe)),n.registerVersion("@firebase/firestore-compat","0.3.35")}(Oa.A);class Y9{ref;afs;constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=tK(i,e);return new X9(r,o,this.afs)}snapshotChanges(){return function HCe(n,t){return K9(n,t).pipe(Os(void 0),HM(),Me(e=>{const[i,r]=e;return r.exists?i?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(jo)}valueChanges(t={}){return this.snapshotChanges().pipe(Me(({payload:e})=>t.idField?{...e.data(),[t.idField]:e.id}:e.data()))}get(t){return jn(this.ref.get(t)).pipe(jo)}}function nT(n,t){return fN(n,t).pipe(Os(void 0),HM(),Me(e=>{const[i,r]=e,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,c)=>{const l=o.find(p=>p.doc.ref.isEqual(a.ref)),u=i?.payload.docs.find(p=>p.ref.isEqual(a.ref));l&&JSON.stringify(l.doc.metadata)===JSON.stringify(a.metadata)||!l&&u&&JSON.stringify(u.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),s}))}function Q9(n,t,e){return nT(n,e).pipe(IE((i,r)=>function zCe(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function $Ce(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return pN(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return pN(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return pN(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),nx(),Me(i=>i.map(r=>({type:r.type,payload:r}))))}function pN(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function Z9(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class X9{ref;query;afs;constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=nT(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Me(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Os(void 0),HM(),Rn(([i,r])=>r.length>0||!i),Me(([,i])=>i),jo)}auditTrail(t){return this.stateChanges(t).pipe(IE((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=Z9(t);return Q9(this.query,e,this.afs.schedulers.outsideAngular).pipe(jo)}valueChanges(t={}){return fN(this.query,this.afs.schedulers.outsideAngular).pipe(Me(e=>e.payload.docs.map(i=>t.idField?{...i.data(),[t.idField]:i.id}:i.data())),jo)}get(t){return jn(this.query.get(t)).pipe(jo)}add(t){return this.ref.add(t)}doc(t){return new Y9(this.ref.doc(t),this.afs)}}class GCe{query;afs;constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?nT(this.query,this.afs.schedulers.outsideAngular).pipe(Me(e=>e.filter(i=>t.indexOf(i.type)>-1)),Rn(e=>e.length>0),jo):nT(this.query,this.afs.schedulers.outsideAngular).pipe(jo)}auditTrail(t){return this.stateChanges(t).pipe(IE((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=Z9(t);return Q9(this.query,e,this.afs.schedulers.outsideAngular).pipe(jo)}valueChanges(t={}){return fN(this.query,this.afs.schedulers.outsideAngular).pipe(Me(i=>i.payload.docs.map(r=>t.idField?{[t.idField]:r.id,...r.data()}:r.data())),jo)}get(t){return jn(this.query.get(t)).pipe(jo)}}const J9=new ne("angularfire2.enableFirestorePersistence"),eK=new ne("angularfire2.firestore.persistenceSettings"),WCe=new ne("angularfire2.firestore.settings"),qCe=new ne("angularfire2.firestore.use-emulator");function tK(n,t=e=>e){return{query:t(n),ref:n}}let mN=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(e,i,r,o,s,a,c,l,u,p,_,v,b,C,D,N,k){this.schedulers=c;const j=GI(e,a,i),Y=u;p&&X5(j,a,_,b,C,D,v,N),[this.firestore,this.persistenceEnabled$]=RM(`${j.name}.firestore`,"AngularFirestore",j.name,()=>{const me=a.runOutsideAngular(()=>j.firestore());if(o&&me.settings(o),Y&&me.useEmulator(...Y),r&&!pE(s)){const we=()=>{try{return jn(me.enablePersistence(l||void 0).then(()=>!0,()=>!1))}catch(B){return typeof console<"u"&&console.warn(B),Ge(!1)}};return[me,a.runOutsideAngular(we)]}return[me,Ge(!1)]},[o,Y,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:s}=tK(r,i),a=this.schedulers.ngZone.run(()=>o);return new X9(a,s,this)}collectionGroup(e,i){const r=i||(s=>s),o=this.firestore.collectionGroup(e);return new GCe(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new Y9(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(i){return new(i||n)($(zv),$($v,8),$(J9,8),$(WCe,8),$(Jo),$($e),$(AM),$(eK,8),$(qCe,8),$(Wp,8),$(W5,8),$(q5,8),$(K5,8),$(Y5,8),$(Q5,8),$(Z5,8),$(SM,8))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),KCe=(()=>{class n{constructor(){Oa.A.registerVersion("angularfire",Hv.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:J9,useValue:!0},{provide:eK,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=We({type:n});static \u0275inj=qe({providers:[mN]})}return n})(),gN=(()=>{class n{constructor(e,i,r,o){this.afs=e,this.fireAuth=i,this.router=r,this.route=o,this.currentGroup=null,this.groupInitialized=this.initializeGroup()}initializeGroup(){var e=this;return(0,he.A)(function*(){try{const i=e.route.snapshot.queryParamMap.get("id");if(!i)return void e.router.navigateByUrl("/");const r=yield e.afs.collection("groups").doc(i).ref.get();r.exists?e.currentGroup={...r.data(),id:r.id}:e.router.navigateByUrl("/")}catch(i){console.error("Error initializing group:",i),e.router.navigateByUrl("/")}})()}addPictureToGroup(e){var i=this;return(0,he.A)(function*(){yield i.groupInitialized;const r=yield i.fireAuth.currentUser;if(!r||(yield i.picturesLeftToTake(r.email))<=0||!i.currentGroup)return;const s=i.currentGroup.members?.find(a=>a.User.email===r.email);if(s)s.pictures.push(e);else{const a={email:r.email,username:r.displayName||"Unknown"};i.currentGroup.members?.push({User:a,pictures:[e]})}try{yield i.afs.collection("groups").doc(i.currentGroup.id).update(i.currentGroup)}catch(a){console.error("Error updating group:",a)}})()}getCurrentGroup(){var e=this;return(0,he.A)(function*(){return yield e.groupInitialized,e.currentGroup?(e.currentGroup.endDate>Math.floor(Date.now()/1e3)&&(yield e.router.navigateByUrl("/disposable?id="+e.currentGroup.id)),e.currentGroup):null})()}picturesLeftToTake(e){var i=this;return(0,he.A)(function*(){if(yield i.groupInitialized,!i.currentGroup)return 0;if(0===i.currentGroup.members.length)return i.currentGroup.maxPictures;i.currentGroup.endDate<Math.floor(Date.now()/1e3)&&(yield i.router.navigateByUrl("/pictures?id="+i.currentGroup.id));const r=i.currentGroup.members?.find(o=>o.User.email===e);return r?(i.currentGroup.maxPictures??0)-r.pictures.length:i.currentGroup.maxPictures??25})()}static#e=this.\u0275fac=function(i){return new(i||n)($(mN),$(Wp),$(ss),$(ou))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YCe=(()=>{class n{constructor(e,i){this.firestorage=e,this.groupService=i}b64ToBlob(e){const i=atob(e),r=[];for(let a=0;a<i.length;a+=512){const c=i.slice(a,a+512),l=new Array(c.length);for(let p=0;p<c.length;p++)l[p]=c.charCodeAt(p);const u=new Uint8Array(l);r.push(u)}return new Blob(r,{type:"image/png"})}uploadImage(e){var i=this;this.firestorage.upload("pictures/"+lye(),this.b64ToBlob(e.split("data:image/png;base64,").pop()??"")).then(function(){var r=(0,he.A)(function*(o){yield i.groupService.addPictureToGroup(yield o.ref.getDownloadURL())});return function(o){return r.apply(this,arguments)}}())}static#e=this.\u0275fac=function(i){return new(i||n)($($5),$(gN))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const QCe=["video"],ZCe=["imageCanvas"],XCe=["lutCanvas"],JCe=["resultCanvas"],eTe=["gradientCanvas"];let nK=(()=>{class n{constructor(e,i,r){var o=this;this.imageService=e,this.groupservice=i,this.fireAuth=r,this.picturesLeft=0,this.currentEmail="",this.currentposition="user",this.fireAuth.user.subscribe(function(){var a=(0,he.A)(function*(c){o.currentEmail=c?.email??"",o.picturesLeft=yield o.groupservice.picturesLeftToTake(c?.email??"no email found")});return function(c){return a.apply(this,arguments)}}());const s=document.getElementById("counter");s&&(s.scrollTop=s.scrollHeight)}ngAfterViewInit(){this.setupCamera(),this.loadLUT("assets/lut.png","assets/GRAINOVERLAY.png")}setupCamera(){const e=this.video.nativeElement;navigator.mediaDevices.getUserMedia({video:{facingMode:{exact:"user"}}}).then(i=>{e.srcObject=i,e.play()}).catch(i=>{console.error("Error accessing the camera: "+i)})}flipCamera(){const e=this.video.nativeElement;let i="";i="user"===this.currentposition?"environment":"user",this.currentposition=i,navigator.mediaDevices.getUserMedia({video:{facingMode:{exact:i}}}).then(r=>{e.srcObject=r,e.play()}).catch(r=>{console.error("Error accessing the camera: "+r)})}captureAndApplyLUT(){var e=this;return(0,he.A)(function*(){const i=e.video.nativeElement,r=e.imageCanvas.nativeElement;r.getContext("2d").drawImage(i,0,0,r.width,r.height),e.applyLUT("imageCanvas","lutCanvas","resultCanvas"),e.video.nativeElement.classList.add("flash"),setTimeout(()=>{e.video.nativeElement.classList.remove("flash")},100),e.imageService.uploadImage(e.resultCanvas.nativeElement.toDataURL()),e.picturesLeft-=1})()}loadLUT(e,i){const r=new Image;r.src=e,r.onload=()=>{const s=this.lutCanvas.nativeElement;s.getContext("2d").drawImage(r,0,0,s.width,s.height)};const o=new Image;o.src=i,o.onload=()=>{const s=this.gradientCanvas.nativeElement;s.getContext("2d").drawImage(o,0,0,s.width,s.height)}}applyLUT(e,i,r){const o=document.getElementById(e),s=document.getElementById(i),a=document.getElementById(r),c=o.getContext("2d"),l=s.getContext("2d"),u=a.getContext("2d"),p=c.getImageData(0,0,o.width,o.height),_=l.getImageData(0,0,s.width,s.height);if(p){for(let v=0;v<p.data.length;v+=4){const b=Math.floor(p.data[v]/4),C=Math.floor(p.data[v+1]/4),D=Math.floor(p.data[v+2]/4),N=D%8*64+b,j=4*((64*Math.floor(D/8)+C)*s.width+N);p.data[v]=_.data[j],p.data[v+1]=_.data[j+1],p.data[v+2]=_.data[j+2]}u.putImageData(p,0,0),u.globalAlpha=.5,u.drawImage(this.gradientCanvas.nativeElement,0,0,a.width,a.height)}}static#e=this.\u0275fac=function(i){return new(i||n)(P(YCe),P(gN),P(Wp))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["app-disposible"]],viewQuery:function(i,r){if(1&i&&(Yn(QCe,5),Yn(ZCe,5),Yn(XCe,5),Yn(JCe,5),Yn(eTe,5)),2&i){let o;Qe(o=Ze())&&(r.video=o.first),Qe(o=Ze())&&(r.imageCanvas=o.first),Qe(o=Ze())&&(r.lutCanvas=o.first),Qe(o=Ze())&&(r.resultCanvas=o.first),Qe(o=Ze())&&(r.gradientCanvas=o.first)}},decls:23,vars:1,consts:[["video",""],["imageCanvas",""],["lutCanvas",""],["gradientCanvas",""],["resultCanvas",""],[1,"camera-container"],[1,"camera-body"],[1,"camera-settings"],["id","switch-camera",3,"click"],[1,"camera-lens"],["width","640","height","480","autoPlay","{false}","muted","","playsinline","","loop","","webkit-playsinline","","preload","auto"],["id","imageCanvas","width","1512","height","2016"],["id","lutCanvas","width","512","height","512"],["id","gradientCanvas","width","1512","height","2016"],["id","resultCanvas","width","1512","height","2016"],[1,"camera-controls"],["id","capture-button",3,"click"],[1,"picture-counter"],["id","counter"]],template:function(i,r){if(1&i){const o=eo();te(0,"div",5)(1,"div",6)(2,"div",7)(3,"button",8),gt("click",function(){return nr(o),ir(r.flipCamera())}),Ve(4,"flip camera"),oe()(),te(5,"div",9),hn(6,"video",10,0)(8,"canvas",11,1)(10,"canvas",12,2)(12,"canvas",13,3)(14,"canvas",14,4),oe(),te(16,"div",15)(17,"button",16),gt("click",function(){return nr(o),ir(r.captureAndApplyLUT())}),Ve(18,"Capture"),oe(),te(19,"div",17),Ve(20,"Pictures Left: "),te(21,"span",18),Ve(22),oe()()()()()}2&i&&(Fe(22),is(r.picturesLeft))},styles:["body[_ngcontent-%COMP%]{background-color:#f4f4f4;display:flex;justify-content:center;align-items:center;height:calc(100vh - 62px);margin:0;font-family:Arial,sans-serif}.camera-container[_ngcontent-%COMP%]{width:100vw;height:calc(100vh - 62px);background-color:#fff;border-radius:0;box-shadow:none;display:flex;flex-direction:column;justify-content:space-between;box-sizing:border-box;position:relative}.camera-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-between;height:100%;padding:5vh}.camera-lens[_ngcontent-%COMP%]{width:100%;height:67%;background-color:#222;border-radius:10px;overflow:hidden;display:flex;justify-content:center;align-items:center;position:relative;box-shadow:inset 0 0 20px #00000080}.camera-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}#capture-button[_ngcontent-%COMP%]{background-color:#fb8500;color:#fff;border:none;border-radius:50%;width:20vw;height:20vw;font-size:3vw;cursor:pointer;box-shadow:0 5px 15px #0000004d;transition:transform .1s ease}#capture-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.picture-counter[_ngcontent-%COMP%]{margin-top:2vh;color:gray;font-size:3vw}#counter[_ngcontent-%COMP%]{font-weight:700;font-size:4vw}.flash[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_flashAnimation .1s ease}.camera-settings[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#fff;border-color:#fb8500;width:100%;border-radius:15px;color:gray}@keyframes _ngcontent-%COMP%_flashAnimation{0%{filter:brightness(2)}to{filter:brightness(1)}}canvas[_ngcontent-%COMP%]{display:none}"]})}return n})();var tTe=_t(257);let iK=(()=>{class n{constructor(e,i){this.fireAuth=e,this.afs=i,this.user$=this.fireAuth.authState}get isAuthenticated(){return!1}signIn(){var e=this;return(0,he.A)(function*(){const i=yield e.fireAuth.signInWithPopup(new tTe.X);yield e.afs.collection("users").add({username:i.user?.displayName,email:i.user?.email})})()}signOut(){return this.fireAuth.signOut()}static#e=this.\u0275fac=function(i){return new(i||n)($(Wp),$(mN))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function nTe(n,t){if(1&n){const e=eo();te(0,"button",3),gt("click",function(){return nr(e),ir(lt().logOut())}),Ve(1,"Log out"),oe()}}function iTe(n,t){if(1&n){const e=eo();te(0,"button",4),gt("click",function(){return nr(e),ir(lt().onClick())}),Ve(1,"Sign in with google"),oe()}}let rK=(()=>{class n{constructor(e,i,r){this.authService=e,this.router=i,this.route=r,this.loggedIn=!1}ngOnInit(){var e=this;return(0,he.A)(function*(){e.authService.user$.subscribe(i=>{i&&(e.loggedIn=!0)})})()}logOut(){this.authService.signOut().then(e=>{this.loggedIn=!1})}onClick(){var e=this;return(0,he.A)(function*(){yield e.authService.signIn(),e.authService.user$.subscribe(function(){var i=(0,he.A)(function*(r){if(r){const o=e.route.snapshot.queryParams.returnUrl||["/"];yield e.router.navigateByUrl(o)}});return function(r){return i.apply(this,arguments)}}()),e.loggedIn=!0})()}static#e=this.\u0275fac=function(i){return new(i||n)(P(iK),P(ss),P(ou))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["app-login"]],decls:3,vars:1,consts:[[1,"container"],[1,"signout"],[1,"login-with-google-btn"],[1,"signout",3,"click"],[1,"login-with-google-btn",3,"click"]],template:function(i,r){1&i&&(te(0,"div",0),dt(1,nTe,2,0,"button",1)(2,iTe,2,0,"button",2),oe()),2&i&&(Fe(),zt(r.loggedIn?1:2))},styles:[".container[_ngcontent-%COMP%]{height:90vh;position:relative}button[_ngcontent-%COMP%]{transition:background-color .3s,box-shadow .3s;margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:3px;border:0px;box-shadow:0 -1px #0000000a,0 1px 1px #00000040;background-color:#fff}.signout[_ngcontent-%COMP%]{width:20%;height:4%;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}.login-with-google-btn[_ngcontent-%COMP%]{transition:background-color .3s,box-shadow .3s;padding:12px 16px 12px 42px;border:none;border-radius:3px;box-shadow:0 -1px #0000000a,0 1px 1px #00000040;color:#757575;font-size:14px;font-weight:500;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTcuNiA5LjJsLS4xLTEuOEg5djMuNGg0LjhDMTMuNiAxMiAxMyAxMyAxMiAxMy42djIuMmgzYTguOCA4LjggMCAwIDAgMi42LTYuNnoiIGZpbGw9IiM0Mjg1RjQiIGZpbGwtcnVsZT0ibm9uemVybyIvPjxwYXRoIGQ9Ik05IDE4YzIuNCAwIDQuNS0uOCA2LTIuMmwtMy0yLjJhNS40IDUuNCAwIDAgMS04LTIuOUgxVjEzYTkgOSAwIDAgMCA4IDV6IiBmaWxsPSIjMzRBODUzIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48cGF0aCBkPSJNNCAxMC43YTUuNCA1LjQgMCAwIDEgMC0zLjRWNUgxYTkgOSAwIDAgMCAwIDhsMy0yLjN6IiBmaWxsPSIjRkJCQzA1IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48cGF0aCBkPSJNOSAzLjZjMS4zIDAgMi41LjQgMy40IDEuM0wxNSAyLjNBOSA5IDAgMCAwIDEgNWwzIDIuNGE1LjQgNS40IDAgMCAxIDUtMy43eiIgZmlsbD0iI0VBNDMzNSIgZmlsbC1ydWxlPSJub256ZXJvIi8+PHBhdGggZD0iTTAgMGgxOHYxOEgweiIvPjwvZz48L3N2Zz4=);background-color:#fff;background-repeat:no-repeat;background-position:12px 11px}.login-with-google-btn[_ngcontent-%COMP%]:hover{box-shadow:0 -1px #0000000a,0 2px 4px #00000040}.login-with-google-btn[_ngcontent-%COMP%]:active{background-color:#eee}.login-with-google-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 -1px #0000000a,0 2px 4px #00000040,0 0 0 3px #c8dafc}.login-with-google-btn[_ngcontent-%COMP%]:disabled{filter:grayscale(100%);background-color:#ebebeb;box-shadow:0 -1px #0000000a,0 1px 1px #00000040;cursor:not-allowed}"]})}return n})(),oK=(()=>{class n{constructor(e,i){this.router=e,this.authService=i}canActivate(e,i){var r=this;let o=!0;return this.authService.user$.subscribe(function(){var s=(0,he.A)(function*(a){a||(o=!0,r.router.navigate(["/login"],{queryParams:{returnUrl:i.url}}))});return function(a){return s.apply(this,arguments)}}()),!!o}static#e=this.\u0275fac=function(i){return new(i||n)($(ss),$(iK))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rTe(n,t){if(1&n&&(te(0,"div",2),hn(1,"img",3),te(2,"div",4),Ve(3),oe()()),2&n){const e=t.$implicit;Fe(),Lw("alt","Photo by ",e.photographer,""),Jt("src",e.url,jS),Fe(2),is(e.photographer)}}let sK=(()=>{class n{constructor(e){this.groupService=e,this.group=null,this.photos=[],this.groupService.getCurrentGroup().then(i=>{this.group=i,i?.members.forEach(r=>{r.pictures.forEach(o=>{this.photos.push({url:o,photographer:r.User.username})})})})}static#e=this.\u0275fac=function(i){return new(i||n)(P(gN))};static#t=this.\u0275cmp=Dt({type:n,selectors:[["app-pictures"]],decls:2,vars:1,consts:[[1,"photo-gallery"],["class","photo-card",4,"ngFor","ngForOf"],[1,"photo-card"],[3,"src","alt"],[1,"photographer"]],template:function(i,r){1&i&&(te(0,"div",0),dt(1,rTe,4,4,"div",1),oe()),2&i&&(Fe(),Jt("ngForOf",r.photos))},dependencies:[ZH],styles:[".photo-gallery[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:center}.photo-card[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:3px;overflow:hidden;width:300px;text-align:center;box-shadow:0 4px 8px #0000001a}.photo-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.photographer[_ngcontent-%COMP%]{padding:10px;background-color:#fff;font-weight:700}"]})}return n})();const oTe=[{path:"",component:TM},{path:"home",redirectTo:"",component:TM},{path:"about",component:Xve},{path:"contact",component:X8},{path:"portfolio",component:eye},{path:"disposable",component:nK,canActivate:[oK]},{path:"login",component:rK},{path:"*",redirectTo:""},{path:"pictures",component:sK,canActivate:[oK]}];let sTe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({imports:[q1.forRoot(oTe),q1]})}return n})(),aTe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n,bootstrap:[TM]});static#n=this.\u0275inj=qe({imports:[rs,Fp,Bp]})}return n})();const{isArray:hTe}=Array;function aK(n){return 1===n.length&&hTe(n[0])?n[0]:n}function _N(...n){const t=bE(n),e=aK(n);return e.length?new Qt(i=>{let r=e.map(()=>[]),o=e.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<e.length;s++)_r(e[s]).subscribe(Le(i,a=>{if(r[s].push(a),r.every(c=>c.length)){const c=r.map(l=>l.shift());i.next(t?t(...c):c),r.some((l,u)=>!l.length&&o[u])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):os}function vN(...n){const t=bE(n);return Se((e,i)=>{const r=n.length,o=new Array(r);let s=n.map(()=>!1),a=!1;for(let c=0;c<r;c++)_r(n[c]).subscribe(Le(i,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(Dr))&&(s=null))},pn));e.subscribe(Le(i,c=>{if(a){const l=[c,...o];i.next(t?t(...l):l)}}))})}Math,Math,Math;const vDe=["*"],KDe=["dialog"],DK={animation:!0,transitionTimerDelayMs:5};let aT=(()=>{class n{constructor(){this.animation=DK.animation}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Pm(n){return"string"==typeof n}function _h(n){return null!=n}function Fm(n){return(n||document.body).getBoundingClientRect()}const jSe=()=>{},{transitionTimerDelayMs:HSe}=DK,zy=new Map,aa=(n,t,e,i)=>{let r=i.context||{};const o=zy.get(t);if(o)switch(i.runningTransition){case"continue":return os;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),zy.delete(t)}const s=e(t,i.animation,r)||jSe;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>s()),Ge(void 0).pipe(function USe(n){return t=>new Qt(e=>t.subscribe({next:s=>n.run(()=>e.next(s)),error:s=>n.run(()=>e.error(s)),complete:()=>n.run(()=>e.complete())}))}(n));const a=new I,c=new I,l=a.pipe(function pTe(...n){return t=>hp(t,Ge(...n))}(!0));zy.set(t,{transition$:a,complete:()=>{c.next(),c.complete()},context:r});const u=function LSe(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const p=qi(t,"transitionend").pipe(mn(l),Rn(({target:v})=>v===t));(function cK(...n){return 1===(n=aK(n)).length?_r(n[0]):new Qt(function fTe(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(_r(n[i]).subscribe(Le(t,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}t.next(r)})))}}(n))})(Tx(u+HSe).pipe(mn(l)),p,c).pipe(mn(l)).subscribe(()=>{zy.delete(t),n.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let kK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})(),NK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})(),LK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})(),VK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const GK=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function WK(n){const t=Array.from(n.querySelectorAll(GK)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let c7=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})(),u7=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})(),GAe=(()=>{class n{constructor(){this._ngbConfig=F(aT),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Eh{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let WAe=(()=>{class n{constructor(){this._document=F(yt)}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(e>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=s),r.overflow=o}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qAe=(()=>{class n{constructor(){this._nativeElement=F(st).nativeElement,this._zone=F($e)}ngOnInit(){this._zone.onStable.asObservable().pipe(Mi(1)).subscribe(()=>{aa(this._zone,this._nativeElement,(e,i)=>{i&&Fm(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return aa(this._zone,this._nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Dt({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(ic("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),St("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[dn],decls:0,vars:0,template:function(i,r){},encapsulation:2})}return n})();class d7{update(t){}close(t){}dismiss(t){}}const KAe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],YAe=["animation","backdropClass"];class QAe{_applyWindowOptions(t,e){KAe.forEach(i=>{_h(e[i])&&(t[i]=e[i])})}_applyBackdropOptions(t,e){YAe.forEach(i=>{_h(e[i])&&(t[i]=e[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(mn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(mn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new I,this._dismissed=new I,this._hidden=new I,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function SK(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Ge(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),_N(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var zN=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(zN||{});let ZAe=(()=>{class n{constructor(){this._document=F(yt),this._elRef=F(st),this._zone=F($e),this._closed$=new I,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new nt,this.shown=new I,this.hidden=new I}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Pm(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Mi(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=_N(aa(this._zone,e,()=>e.classList.remove("show"),i),aa(this._zone,this._dialogEl.nativeElement,()=>{},i));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const e={animation:this.animation,runningTransition:"continue"};_N(aa(this._zone,this._elRef.nativeElement,(o,s)=>{s&&Fm(o),o.classList.add("show")},e),aa(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{qi(e,"keydown").pipe(mn(this._closed$),Rn(r=>"Escape"===r.key)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(zN.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;qi(this._dialogEl.nativeElement,"mousedown").pipe(mn(this._closed$),Hi(()=>i=!1),_i(()=>qi(e,"mouseup").pipe(mn(this._closed$),Mi(1))),Rn(({target:r})=>e===r)).subscribe(()=>{i=!0}),qi(e,"click").pipe(mn(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(zN.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=WK(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&aa(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=Dt({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&Yn(KDe,7),2&i){let o;Qe(o=Ze())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&(Lt("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),ic("modal d-block"+(r.windowClass?" "+r.windowClass:"")),St("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[dn],ngContentSelectors:vDe,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){1&i&&(jr(),te(0,"div",1,0)(2,"div",2),$t(3),oe()()),2&i&&ic("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return n})(),XAe=(()=>{class n{constructor(){this._applicationRef=F(xs),this._injector=F(un),this._environmentInjector=F(hr),this._document=F(yt),this._scrollBar=F(WAe),this._activeWindowCmptHasChanged=new I,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new nt;const e=F($e);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const i=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{n.runOutsideAngular(()=>{const r=qi(t,"focusin").pipe(mn(e),Me(o=>o.target));qi(t,"keydown").pipe(mn(e),Rn(o=>"Tab"===o.key),vN(r)).subscribe(([o,s])=>{const[a,c]=WK(t);(s===a||s===t)&&o.shiftKey&&(c.focus(),o.preventDefault()),s===c&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&qi(t,"click").pipe(mn(e),vN(r),Me(o=>o[1])).subscribe(o=>o.focus())})})(e,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){const o=r.container instanceof HTMLElement?r.container:_h(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const s=new d7,a=(e=r.injector||e).get(hr,null)||this._environmentInjector,c=this._getContentRef(e,a,i,s,r);let l=!1!==r.backdrop?this._attachBackdrop(o):void 0,u=this._attachWindowComponent(o,c.nodes),p=new QAe(u,c,l,r.beforeDismiss);return this._registerModalRef(p),this._registerWindowCmpt(u),p.hidden.pipe(Mi(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=_=>{p.close(_)},s.dismiss=_=>{p.dismiss(_)},s.update=_=>{p.update(_)},p.update(r),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),l&&l.instance&&l.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),p}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=BR(qAe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=BR(ZAe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_getContentRef(e,i,r,o,s){return r?r instanceof Un?this._createFromTemplateRef(r,o):Pm(r)?this._createFromString(r):this._createFromComponent(e,i,r,o,s):new Eh([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(o),new Eh([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Eh([[i]])}_createFromComponent(e,i,r,o,s){const c=BR(r,{environmentInjector:i,elementInjector:un.create({providers:[{provide:d7,useValue:o}],parent:e})}),l=c.location.nativeElement;return s.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Eh([[l]],c.hostView,c)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JAe=(()=>{class n{constructor(){this._injector=F(un),this._modalStack=F(XAe),this._config=F(GAe)}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),h7=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({providers:[JAe]})}return n})(),m7=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})(),I7=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})(),C7=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})(),T7=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})(),D7=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})(),S7=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})(),A7=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})(),R7=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})(),x7=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})();new ne("live announcer delay",{providedIn:"root",factory:()=>100});let M7=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})(),O7=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({})}return n})();const pRe=[kK,NK,LK,VK,c7,u7,h7,m7,O7,I7,C7,T7,D7,S7,A7,R7,x7,M7];let mRe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({imports:[pRe,kK,NK,LK,VK,c7,u7,h7,m7,O7,I7,C7,T7,D7,S7,A7,R7,x7,M7]})}return n})();function k7(n){return new se(3e3,!1)}function ku(n){switch(n.length){case 0:return new Av;case 1:return n[0];default:return new g4(n)}}function N7(n,t,e=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(t.forEach(c=>{const l=c.get("offset"),u=l==s,p=u&&a||new Map;c.forEach((_,v)=>{let b=v,C=_;if("offset"!==v)switch(b=n.normalizePropertyName(b,r),C){case"!":C=e.get(v);break;case ol:C=i.get(v);break;default:C=n.normalizeStyleValue(v,b,C,r)}p.set(b,C)}),u||o.push(p),a=p,s=l}),r.length)throw function VRe(){return new se(3502,!1)}();return o}function WN(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&qN(e,"start",n)));break;case"done":n.onDone(()=>i(e&&qN(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&qN(e,"destroy",n)))}}function qN(n,t,e){const o=KN(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function KN(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Us(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function P7(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const QRe=typeof document>"u"?null:document.documentElement;function YN(n){const t=n.parentNode||n.host||null;return t===QRe?null:t}let Ih=null,F7=!1;function L7(n,t){for(;t;){if(t===n)return!0;t=YN(t)}return!1}function V7(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let QN=(()=>{class n{validateStyleProperty(e){return function XRe(n){Ih||(Ih=function JRe(){return typeof document<"u"?document.body:null}()||{},F7=!!Ih.style&&"WebkitAppearance"in Ih.style);let t=!0;return Ih.style&&!function ZRe(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Ih.style,!t&&F7&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ih.style)),t}(e)}containsElement(e,i){return L7(e,i)}getParentElement(e){return YN(e)}query(e,i,r){return V7(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],c){return new Av(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})();class ZN{static#e=this.NOOP=new QN}class XN{}const t1e=1e3,JN="ng-enter",bT="ng-leave",wT="ng-trigger",ET=".ng-trigger",U7="ng-animating",eP=".ng-animating";function Cl(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:tP(parseFloat(t[1]),t[2])}function tP(n,t){return"s"===t?n*t1e:n}function IT(n,t,e){return n.hasOwnProperty("duration")?n:function i1e(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(k7()),{duration:0,delay:0,easing:""};r=tP(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=tP(parseFloat(c),a[4]));const l=a[5];l&&(s=l)}else r=n;if(!e){let a=!1,c=t.length;r<0&&(t.push(function gRe(){return new se(3100,!1)}()),a=!0),o<0&&(t.push(function _Re(){return new se(3101,!1)}()),a=!0),a&&t.splice(c,0,k7())}return{duration:r,delay:o,easing:s}}(n,t,e)}function Rc(n,t,e){t.forEach((i,r)=>{const o=iP(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i})}function Ch(n,t){t.forEach((e,i)=>{const r=iP(i);n.style[r]=""})}function Wy(n){return Array.isArray(n)?1==n.length?n[0]:function Rpe(n,t=null){return{type:Vt.Sequence,steps:n,options:t}}(n):n}const nP=new RegExp("{{\\s*(.+?)\\s*}}","g");function H7(n){let t=[];if("string"==typeof n){let e;for(;e=nP.exec(n);)t.push(e[1]);nP.lastIndex=0}return t}function qy(n,t,e){const i=`${n}`,r=i.replace(nP,(o,s)=>{let a=t[s];return null==a&&(e.push(function yRe(){return new se(3003,!1)}()),a=""),a.toString()});return r==i?n:r}const s1e=/-+([a-z0-9])/g;function iP(n){return n.replace(s1e,(...t)=>t[1].toUpperCase())}function js(n,t,e){switch(t.type){case Vt.Trigger:return n.visitTrigger(t,e);case Vt.State:return n.visitState(t,e);case Vt.Transition:return n.visitTransition(t,e);case Vt.Sequence:return n.visitSequence(t,e);case Vt.Group:return n.visitGroup(t,e);case Vt.Animate:return n.visitAnimate(t,e);case Vt.Keyframes:return n.visitKeyframes(t,e);case Vt.Style:return n.visitStyle(t,e);case Vt.Reference:return n.visitReference(t,e);case Vt.AnimateChild:return n.visitAnimateChild(t,e);case Vt.AnimateRef:return n.visitAnimateRef(t,e);case Vt.Query:return n.visitQuery(t,e);case Vt.Stagger:return n.visitStagger(t,e);default:throw function bRe(){return new se(3004,!1)}()}}function rP(n,t){return window.getComputedStyle(n)[t]}const l1e=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class z7 extends XN{normalizePropertyName(t,e){return iP(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(l1e.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function wRe(){return new se(3005,!1)}())}return s+o}}const CT="*";const TT=new Set(["true","1"]),DT=new Set(["false","0"]);function $7(n,t){const e=TT.has(n)||DT.has(n),i=TT.has(t)||DT.has(t);return(r,o)=>{let s=n==CT||n==r,a=t==CT||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?TT.has(n):DT.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?TT.has(t):DT.has(t)),s&&a}}const f1e=new RegExp("s*:selfs*,?","g");function oP(n,t,e,i){return new p1e(n).build(t,e,i)}class p1e{constructor(t){this._driver=t}build(t,e,i){const r=new _1e(e);return this._resetContextStyleTimingState(r),js(this,Wy(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function ERe(){return new se(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==Vt.State){const c=a,l=c.name;l.toString().split(/\s*,\s*/).forEach(u=>{c.name=u,o.push(this.visitState(c,e))}),c.name=l}else if(a.type==Vt.Transition){const c=this.visitTransition(a,e);i+=c.queryCount,r+=c.depCount,s.push(c)}else e.errors.push(function IRe(){return new se(3007,!1)}())}),{type:Vt.Trigger,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{H7(c).forEach(l=>{s.hasOwnProperty(l)||o.add(l)})})}),o.size&&e.errors.push(function CRe(){return new se(3008,!1)}(0,o.values()))}return{type:Vt.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=js(this,Wy(t.animation),e),r=function u1e(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function d1e(n,t,e){if(":"==n[0]){const c=function h1e(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function NRe(){return new se(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof c)return void t.push(c);n=c}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function kRe(){return new se(3015,!1)}()),t;const r=i[1],o=i[2],s=i[3];t.push($7(r,s)),"<"==o[0]&&(r!=CT||s!=CT)&&t.push($7(s,r))}(i,e,t)):e.push(n),e}(t.expr,e.errors);return{type:Vt.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Th(t.options)}}visitSequence(t,e){return{type:Vt.Sequence,steps:t.steps.map(i=>js(this,i,e)),options:Th(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=js(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:Vt.Group,steps:o,options:Th(t.options)}}visitAnimate(t,e){const i=function y1e(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return sP(IT(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=sP(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=IT(e,t);return sP(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Ii({});if(o.type==Vt.Keyframes)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const l={};i.easing&&(l.easing=i.easing),s=Ii(l)}e.currentTime+=i.duration+i.delay;const c=this.visitStyle(s,e);c.isEmptyStep=a,r=c}return e.currentAnimateTimings=null,{type:Vt.Animate,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===ol?i.push(a):e.errors.push(new se(3002,!1)):i.push(new Map(Object.entries(a)));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:Vt.Style,styles:i,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const l=e.collectedStyles.get(e.currentQuerySelector),u=l.get(c);let p=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(e.errors.push(function DRe(){return new se(3010,!1)}()),p=!1),o=u.startTime),p&&l.set(c,{startTime:o,endTime:r}),e.options&&function o1e(n,t,e){const i=t.params||{},r=H7(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function vRe(){return new se(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:Vt.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function SRe(){return new se(3011,!1)}()),i;let o=0;const s=[];let a=!1,c=!1,l=0;const u=t.steps.map(N=>{const k=this._makeStyleAst(N,e);let j=null!=k.offset?k.offset:function v1e(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(k.styles),Y=0;return null!=j&&(o++,Y=k.offset=j),c=c||Y<0||Y>1,a=a||Y<l,l=Y,s.push(Y),k});c&&e.errors.push(function ARe(){return new se(3012,!1)}()),a&&e.errors.push(function RRe(){return new se(3200,!1)}());const p=t.steps.length;let _=0;o>0&&o<p?e.errors.push(function xRe(){return new se(3202,!1)}()):0==o&&(_=1/(p-1));const v=p-1,b=e.currentTime,C=e.currentAnimateTimings,D=C.duration;return u.forEach((N,k)=>{const j=_>0?k==v?1:_*k:s[k],Y=j*D;e.currentTime=b+C.delay+Y,C.duration=Y,this._validateStyleAst(N,e),N.offset=j,i.styles.push(N)}),i}visitReference(t,e){return{type:Vt.Reference,animation:js(this,Wy(t.animation),e),options:Th(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:Vt.AnimateChild,options:Th(t.options)}}visitAnimateRef(t,e){return{type:Vt.AnimateRef,animation:this.visitReference(t.animation,e),options:Th(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function m1e(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(f1e,"")),n=n.replace(/@\*/g,ET).replace(/@\w+/g,e=>ET+"-"+e.slice(1)).replace(/:animating/g,eP),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Us(e.collectedStyles,e.currentQuerySelector,new Map);const a=js(this,Wy(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:Vt.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Th(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function MRe(){return new se(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:IT(t.timings,e.errors,!0);return{type:Vt.Stagger,animation:js(this,Wy(t.animation),e),timings:i,options:null}}}class _1e{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Th(n){return n?(n={...n}).params&&(n.params=function g1e(n){return n?{...n}:null}(n.params)):n={},n}function sP(n,t,e){return{duration:n,delay:t,easing:e}}function aP(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class ST{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const E1e=new RegExp(":enter","g"),C1e=new RegExp(":leave","g");function cP(n,t,e,i,r,o=new Map,s=new Map,a,c,l=[]){return(new T1e).buildKeyframes(n,t,e,i,r,o,s,a,c,l)}class T1e{buildKeyframes(t,e,i,r,o,s,a,c,l,u=[]){l=l||new ST;const p=new lP(t,e,l,r,o,u,[]);p.options=c;const _=c.delay?Cl(c.delay):0;p.currentTimeline.delayNextStep(_),p.currentTimeline.setStyles([s],null,p.errors,c),js(this,i,p);const v=p.timelines.filter(b=>b.containsAnimation());if(v.length&&a.size){let b;for(let C=v.length-1;C>=0;C--){const D=v[C];if(D.element===e){b=D;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,p.errors,c)}return v.length?v.map(b=>b.buildKeyframes()):[aP(e,[],[],[],0,_,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const s="number"==typeof o?o:Cl(qy(o,r?.params??{},e.errors));i.delayNextStep(s)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?Cl(i.duration):null,a=null!=i.delay?Cl(i.delay):null;return 0!==s&&t.forEach(c=>{const l=e.appendInstructionToTimeline(c,s,a);o=Math.max(o,l.duration+l.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),js(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){r.previousNode.type==Vt.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=AT);const s=Cl(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>js(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Cl(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),js(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return IT(e.params?qy(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;o.type==Vt.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Cl(r.delay):0;o&&(e.previousNode.type===Vt.Style||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=AT);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let c=null;a.forEach((l,u)=>{e.currentQueryIndex=u;const p=e.createSubContext(t.options,l);o&&p.delayNextStep(o),l===e.element&&(c=p.currentTimeline),js(this,t.animation,p),p.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,p.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let c=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=i.currentStaggerTime}const u=e.currentTimeline;c&&u.delayNextStep(c);const p=u.currentTime;js(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}}const AT={};class lP{constructor(t,e,i,r,o,s,a,c){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=AT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new RT(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Cl(i.duration)),null!=i.delay&&(r.delay=Cl(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=qy(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new lP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=AT,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new D1e(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(E1e,"."+this._enterClassName)).replace(C1e,"."+this._leaveClassName);let l=this._driver.query(this.element,t,1!=i);0!==i&&(l=i<0?l.slice(l.length+i,l.length):l.slice(0,i)),a.push(...l)}return!o&&0==a.length&&s.push(function ORe(){return new se(3014,!1)}()),a}}class RT{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new RT(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||ol),this._currentKeyframe.set(e,ol);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},s=function S1e(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i??=t.keys();for(let o of i)e.set(o,ol)}else for(let[o,s]of r)e.set(o,s)}),e}(t,this._globalTimelineStyles);for(let[a,c]of s){const l=qy(c,o,i);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ol),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,c)=>{const l=new Map([...this._backFill,...a]);l.forEach((u,p)=>{"!"===u?t.add(p):u===ol&&e.add(p)}),i||l.set("offset",c/this.duration),r.push(l)});const o=[...t.values()],s=[...e.values()];if(i){const a=r[0],c=new Map(a);a.set("offset",0),c.set("offset",1),r=[a,c]}return aP(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class D1e extends RT{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,c=new Map(t[0]);c.set("offset",0),o.push(c);const l=new Map(t[0]);l.set("offset",q7(a)),o.push(l);const u=t.length-1;for(let p=1;p<=u;p++){let _=new Map(t[p]);const v=_.get("offset");_.set("offset",q7((e+v*i)/s)),o.push(_)}i=s,e=0,r="",t=o}return aP(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function q7(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}function K7(n,t,e,i,r,o,s,a,c,l,u,p,_){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:p,errors:_}}const uP={};class Y7{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function A1e(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,s,a,c,l,u){const p=[],_=this.ast.options&&this.ast.options.params||uP,b=this.buildStyles(i,a&&a.params||uP,p),C=c&&c.params||uP,D=this.buildStyles(r,C,p),N=new Set,k=new Map,j=new Map,Y="void"===r,me={params:Q7(C,_),delay:this.ast.options?.delay},we=u?[]:cP(t,e,this.ast.animation,o,s,b,D,me,l,p);let B=0;return we.forEach(M=>{B=Math.max(M.duration+M.delay,B)}),p.length?K7(e,this._triggerName,i,r,Y,b,D,[],[],k,j,B,p):(we.forEach(M=>{const U=M.element,G=Us(k,U,new Set);M.preStyleProps.forEach(Z=>G.add(Z));const K=Us(j,U,new Set);M.postStyleProps.forEach(Z=>K.add(Z)),U!==e&&N.add(U)}),K7(e,this._triggerName,i,r,Y,b,D,we,[...N.values()],k,j,B))}}function Q7(n,t){const e={...t};return Object.entries(n).forEach(([i,r])=>{null!=r&&(e[i]=r)}),e}class R1e{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Q7(t,this.defaultParams);return this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=qy(s,r,e));const c=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,c,s,e),i.set(a,s)})}),i}}class M1e{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new R1e(r.style,r.options&&r.options.params||{},i))}),Z7(this.states,"true","1"),Z7(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Y7(t,r,this.states))}),this.fallbackTransition=function O1e(n,t){return new Y7(n,{type:Vt.Transition,animation:{type:Vt.Sequence,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function Z7(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const k1e=new ST;class N1e{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=oP(this._driver,e,i,[]);if(i.length)throw function BRe(){return new se(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=N7(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let s;const a=new Map;if(o?(s=cP(this._driver,e,o,JN,bT,new Map,new Map,i,k1e,r),s.forEach(u=>{const p=Us(a,u.element,new Map);u.postStyleProps.forEach(_=>p.set(_,null))})):(r.push(function URe(){return new se(3300,!1)}()),s=[]),r.length)throw function jRe(){return new se(3504,!1)}();a.forEach((u,p)=>{u.forEach((_,v)=>{u.set(v,this._driver.computeStyle(p,v,ol))})});const l=ku(s.map(u=>{const p=a.get(u.element);return this._buildPlayer(u,new Map,p)}));return this._playersById.set(t,l),l.onDestroy(()=>this.destroy(t)),this.players.push(l),l}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function HRe(){return new se(3301,!1)}();return e}listen(t,e,i,r){const o=KN(e,"","","");return WN(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const X7="ng-animate-queued",dP="ng-animate-disabled",B1e=[],J7={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},U1e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},La="__ng_removed";class hP{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function $1e(n){return n??null}(i?t.value:t),i){const{value:o,...s}=t;this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Ky="void",fP=new hP(Ky);class j1e{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ca(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function zRe(){return new se(3302,!1)}();if(null==i||0==i.length)throw function $Re(){return new se(3303,!1)}();if(!function G1e(n){return"start"==n||"done"==n}(i))throw function GRe(){return new se(3400,!1)}();const o=Us(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=Us(this._engine.statesByElement,t,new Map);return a.has(e)||(ca(t,wT),ca(t,wT+"-"+e),a.set(e,fP)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function WRe(){return new se(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new pP(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(ca(t,wT),ca(t,wT+"-"+e),this._engine.statesByElement.set(t,a=new Map));let c=a.get(e);const l=new hP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&c&&l.absorbOptions(c.options),a.set(e,l),c||(c=fP),l.value!==Ky&&c.value===l.value){if(!function K1e(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(c.params,l.params)){const C=[],D=o.matchStyles(c.value,c.params,C),N=o.matchStyles(l.value,l.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{Ch(t,D),Rc(t,N)})}return}const _=Us(this._engine.playersByElement,t,[]);_.forEach(C=>{C.namespaceId==this.id&&C.triggerName==e&&C.queued&&C.destroy()});let v=o.matchTransition(c.value,l.value,t,l.params),b=!1;if(!v){if(!r)return;v=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:v,fromState:c,toState:l,player:s,isFallbackTransition:b}),b||(ca(t,X7),s.onStart(()=>{Bm(t,X7)})),s.onDone(()=>{let C=this.players.indexOf(s);C>=0&&this.players.splice(C,1);const D=this._engine.playersByElement.get(t);if(D){let N=D.indexOf(s);N>=0&&D.splice(N,1)}}),this.players.push(s),_.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,ET,!0);i.forEach(r=>{if(r[La])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(o.forEach((c,l)=>{if(s.set(l,c.value),this._triggers.has(l)){const u=this.trigger(t,l,Ky,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&ku(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const c=this._triggers.get(s).fallbackTransition,l=i.get(s)||fP,u=new hP(Ky),p=new pP(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:c,fromState:l,toState:u,player:p,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[La];(!o||o===J7)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ca(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const c=KN(o,i.triggerName,i.fromState.value,i.toState.value);c._data=t,WN(i.player,a.phase,c,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class H1e{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new j1e(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){const c=r.get(a);if(c){const l=i.indexOf(c);i.splice(l+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(xT(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!xT(e))return;const o=e[La];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ca(t,dP)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Bm(t,dP))}removeNode(t,e,i){if(xT(e)){const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[La]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return xT(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,ET,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,eP,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ku(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[La];if(e&&e.setForRemoval){if(t[La]=J7,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(dP)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ca(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?ku(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function qRe(){return new se(3402,!1)}()}_flushAnimations(t,e){const i=new ST,r=[],o=new Map,s=[],a=new Map,c=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(ze=>{u.add(ze);const Xe=this.driver.query(ze,".ng-animate-queued",!0);for(let ht=0;ht<Xe.length;ht++)u.add(Xe[ht])});const p=this.bodyNode,_=Array.from(this.statesByElement.keys()),v=nY(_,this.collectedEnterElements),b=new Map;let C=0;v.forEach((ze,Xe)=>{const ht=JN+C++;b.set(Xe,ht),ze.forEach(Kt=>ca(Kt,ht))});const D=[],N=new Set,k=new Set;for(let ze=0;ze<this.collectedLeaveElements.length;ze++){const Xe=this.collectedLeaveElements[ze],ht=Xe[La];ht&&ht.setForRemoval&&(D.push(Xe),N.add(Xe),ht.hasAnimation?this.driver.query(Xe,".ng-star-inserted",!0).forEach(Kt=>N.add(Kt)):k.add(Xe))}const j=new Map,Y=nY(_,Array.from(N));Y.forEach((ze,Xe)=>{const ht=bT+C++;j.set(Xe,ht),ze.forEach(Kt=>ca(Kt,ht))}),t.push(()=>{v.forEach((ze,Xe)=>{const ht=b.get(Xe);ze.forEach(Kt=>Bm(Kt,ht))}),Y.forEach((ze,Xe)=>{const ht=j.get(Xe);ze.forEach(Kt=>Bm(Kt,ht))}),D.forEach(ze=>{this.processLeaveNode(ze)})});const me=[],we=[];for(let ze=this._namespaceList.length-1;ze>=0;ze--)this._namespaceList[ze].drainQueuedTransitions(e).forEach(ht=>{const Kt=ht.player,yi=ht.element;if(me.push(Kt),this.collectedEnterElements.length){const ci=yi[La];if(ci&&ci.setForMove){if(ci.previousTriggersValues&&ci.previousTriggersValues.has(ht.triggerName)){const co=ci.previousTriggersValues.get(ht.triggerName),Gr=this.statesByElement.get(ht.element);if(Gr&&Gr.has(ht.triggerName)){const Va=Gr.get(ht.triggerName);Va.value=co,Gr.set(ht.triggerName,Va)}}return void Kt.destroy()}}const Co=!p||!this.driver.containsElement(p,yi),ti=j.get(yi),Hn=b.get(yi),Pn=this._buildInstruction(ht,i,Hn,ti,Co);if(Pn.errors&&Pn.errors.length)return void we.push(Pn);if(Co)return Kt.onStart(()=>Ch(yi,Pn.fromStyles)),Kt.onDestroy(()=>Rc(yi,Pn.toStyles)),void r.push(Kt);if(ht.isFallbackTransition)return Kt.onStart(()=>Ch(yi,Pn.fromStyles)),Kt.onDestroy(()=>Rc(yi,Pn.toStyles)),void r.push(Kt);const ao=[];Pn.timelines.forEach(ci=>{ci.stretchStartingKeyframe=!0,this.disabledNodes.has(ci.element)||ao.push(ci)}),Pn.timelines=ao,i.append(yi,Pn.timelines),s.push({instruction:Pn,player:Kt,element:yi}),Pn.queriedElements.forEach(ci=>Us(a,ci,[]).push(Kt)),Pn.preStyleProps.forEach((ci,co)=>{if(ci.size){let Gr=c.get(co);Gr||c.set(co,Gr=new Set),ci.forEach((Va,la)=>Gr.add(la))}}),Pn.postStyleProps.forEach((ci,co)=>{let Gr=l.get(co);Gr||l.set(co,Gr=new Set),ci.forEach((Va,la)=>Gr.add(la))})});if(we.length){const ze=[];we.forEach(Xe=>{ze.push(function KRe(){return new se(3505,!1)}())}),me.forEach(Xe=>Xe.destroy()),this.reportError(ze)}const B=new Map,M=new Map;s.forEach(ze=>{const Xe=ze.element;i.has(Xe)&&(M.set(Xe,Xe),this._beforeAnimationBuild(ze.player.namespaceId,ze.instruction,B))}),r.forEach(ze=>{const Xe=ze.element;this._getPreviousPlayers(Xe,!1,ze.namespaceId,ze.triggerName,null).forEach(Kt=>{Us(B,Xe,[]).push(Kt),Kt.destroy()})});const U=D.filter(ze=>rY(ze,c,l)),G=new Map;tY(G,this.driver,k,l,ol).forEach(ze=>{rY(ze,c,l)&&U.push(ze)});const Z=new Map;v.forEach((ze,Xe)=>{tY(Z,this.driver,new Set(ze),c,"!")}),U.forEach(ze=>{const Xe=G.get(ze),ht=Z.get(ze);G.set(ze,new Map([...Xe?.entries()??[],...ht?.entries()??[]]))});const H=[],wr=[],Io={};s.forEach(ze=>{const{element:Xe,player:ht,instruction:Kt}=ze;if(i.has(Xe)){if(u.has(Xe))return ht.onDestroy(()=>Rc(Xe,Kt.toStyles)),ht.disabled=!0,ht.overrideTotalTime(Kt.totalTime),void r.push(ht);let yi=Io;if(M.size>1){let ti=Xe;const Hn=[];for(;ti=ti.parentNode;){const Pn=M.get(ti);if(Pn){yi=Pn;break}Hn.push(ti)}Hn.forEach(Pn=>M.set(Pn,yi))}const Co=this._buildAnimation(ht.namespaceId,Kt,B,o,Z,G);if(ht.setRealPlayer(Co),yi===Io)H.push(ht);else{const ti=this.playersByElement.get(yi);ti&&ti.length&&(ht.parentPlayer=ku(ti)),r.push(ht)}}else Ch(Xe,Kt.fromStyles),ht.onDestroy(()=>Rc(Xe,Kt.toStyles)),wr.push(ht),u.has(Xe)&&r.push(ht)}),wr.forEach(ze=>{const Xe=o.get(ze.element);if(Xe&&Xe.length){const ht=ku(Xe);ze.setRealPlayer(ht)}}),r.forEach(ze=>{ze.parentPlayer?ze.syncPlayerEvents(ze.parentPlayer):ze.destroy()});for(let ze=0;ze<D.length;ze++){const Xe=D[ze],ht=Xe[La];if(Bm(Xe,bT),ht&&ht.hasAnimation)continue;let Kt=[];if(a.size){let Co=a.get(Xe);Co&&Co.length&&Kt.push(...Co);let ti=this.driver.query(Xe,eP,!0);for(let Hn=0;Hn<ti.length;Hn++){let Pn=a.get(ti[Hn]);Pn&&Pn.length&&Kt.push(...Pn)}}const yi=Kt.filter(Co=>!Co.destroyed);yi.length?W1e(this,Xe,yi):this.processLeaveNode(Xe)}return D.length=0,H.forEach(ze=>{this.players.push(ze),ze.onDone(()=>{ze.destroy();const Xe=this.players.indexOf(ze);this.players.splice(Xe,1)}),ze.play()}),H}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const c=!o||o==Ky;a.forEach(l=>{l.queued||!c&&l.triggerName!=r||s.push(l)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const c of e.timelines){const l=c.element,u=l!==o,p=Us(i,l,[]);this._getPreviousPlayers(l,u,s,a,e.toState).forEach(v=>{const b=v.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),v.destroy(),p.push(v)})}Ch(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,c=e.element,l=[],u=new Set,p=new Set,_=e.timelines.map(b=>{const C=b.element;u.add(C);const D=C[La];if(D&&D.removedBeforeQueried)return new Av(b.duration,b.delay);const N=C!==c,k=function q1e(n){const t=[];return iY(n,t),t}((i.get(C)||B1e).map(B=>B.getRealPlayer())).filter(B=>!!B.element&&B.element===C),j=o.get(C),Y=s.get(C),me=N7(this._normalizer,b.keyframes,j,Y),we=this._buildPlayer(b,me,k);if(b.subTimeline&&r&&p.add(C),N){const B=new pP(t,a,C);B.setRealPlayer(we),l.push(B)}return we});l.forEach(b=>{Us(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function z1e(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,b.element,b))}),u.forEach(b=>ca(b,U7));const v=ku(_);return v.onDestroy(()=>{u.forEach(b=>Bm(b,U7)),Rc(c,e.toStyles)}),p.forEach(b=>{Us(r,b,[]).push(v)}),v}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Av(t.duration,t.delay)}}class pP{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Av,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>WN(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Us(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function xT(n){return n&&1===n.nodeType}function eY(n,t){const e=n.style.display;return n.style.display=t??"none",e}function tY(n,t,e,i,r){const o=[];e.forEach(c=>o.push(eY(c)));const s=[];i.forEach((c,l)=>{const u=new Map;c.forEach(p=>{const _=t.computeStyle(l,p,r);u.set(p,_),(!_||0==_.length)&&(l[La]=U1e,s.push(l))}),n.set(l,u)});let a=0;return e.forEach(c=>eY(c,o[a++])),s}function nY(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const l=a.parentNode;return c=e.has(l)?l:r.has(l)?1:s(l),o.set(a,c),c}return t.forEach(a=>{const c=s(a);1!==c&&e.get(c).push(a)}),e}function ca(n,t){n.classList?.add(t)}function Bm(n,t){n.classList?.remove(t)}function W1e(n,t,e){ku(e).onDone(()=>n.processLeaveNode(t))}function iY(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof g4?iY(i.players,t):t.push(i)}}function rY(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class Yy{constructor(t,e,i){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new H1e(t.body,e,i),this._timelineEngine=new N1e(t.body,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const c=[],u=oP(this._driver,o,c,[]);if(c.length)throw function LRe(){return new se(3404,!1)}();a=function x1e(n,t,e){return new M1e(n,t,e)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=P7(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=P7(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}class Qy{static#e=this.initialStylesByElement=new WeakMap;constructor(t,e,i){this._element=t,this._startStyles=e,this._endStyles=i,this._state=0;let r=Qy.initialStylesByElement.get(t);r||Qy.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Rc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Rc(this._element,this._initialStyles),this._endStyles&&(Rc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Qy.initialStylesByElement.delete(this._element),this._startStyles&&(Ch(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ch(this._element,this._endStyles),this._endStyles=null),Rc(this._element,this._initialStyles),this._state=3)}}function mP(n){let t=null;return n.forEach((e,i)=>{(function Q1e(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class oY{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:rP(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class sY{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return L7(t,e)}getParentElement(t){return YN(t)}query(t,e,i){return V7(t,e,i)}computeStyle(t,e,i){return rP(t,e)}animate(t,e,i,r,o,s=[]){const c={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(c.easing=o);const l=new Map,u=s.filter(v=>v instanceof oY);(function a1e(n,t){return 0===n||0===t})(i,r)&&u.forEach(v=>{v.currentSnapshot.forEach((b,C)=>l.set(C,b))});let p=function r1e(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}(e).map(v=>new Map(v));p=function c1e(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,rP(n,a)))}}return t}(t,p,l);const _=function Y1e(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=mP(t[0]),t.length>1&&(i=mP(t[t.length-1]))):t instanceof Map&&(e=mP(t)),e||i?new Qy(n,e,i):null}(t,p);return new oY(t,p,c,_)}}const aY="@.disabled";class cY{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==aY?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Z1e extends cY{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==aY?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function X1e(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function J1e(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}class exe{constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(t,e){const r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){const l=this._rendererCache;let u=l.get(r);return u||(u=new cY("",r,this.engine,()=>l.delete(r)),l.set(r,u)),u}const o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);const a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(o,s,t,l.name,l)};return e.data.animation.forEach(a),new Z1e(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId)return void this._zone.run(()=>e(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}const lY=[{provide:XN,useFactory:function nxe(){return new z7}},{provide:Yy,useClass:(()=>{class n extends Yy{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)($(yt),$(ZN),$(XN))};static#t=this.\u0275prov=pe({token:n,factory:n.\u0275fac})}return n})()},{provide:pw,useFactory:function ixe(n,t,e){return new exe(n,t,e)},deps:[d1,Yy,$e]}],gP=[{provide:ZN,useFactory:()=>new sY},{provide:Xs,useValue:"BrowserAnimations"},...lY],uY=[{provide:ZN,useClass:QN},{provide:Xs,useValue:"NoopAnimations"},...lY];let dY=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?uY:gP}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({providers:gP,imports:[p1]})}return n})();const sxe={provide:new ne("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const n=F(Or);return()=>n.scrollStrategies.reposition({scrollThrottle:20})}}),deps:[Or],useFactory:function oxe(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let fY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n});static#n=this.\u0275inj=qe({providers:[sxe],imports:[w3,rs,Hd,xn,xn,Rp]})}return n})(),cxe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n,bootstrap:[X8]});static#n=this.\u0275inj=qe({imports:[rs,Fp,Bp,dY,fY]})}return n})();const lxe_firebaseConfig={apiKey:"AIzaSyCWNkIuLsBSHGl08tte28hmPJKt1kjeFC8",authDomain:"portfolio-rico.firebaseapp.com",projectId:"portfolio-rico",storageBucket:"portfolio-rico.appspot.com",messagingSenderId:"73459943907",appId:"1:73459943907:web:e0c12f8064a16ce65eb8d6",measurementId:"G-H2LM4M180L"};let uxe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n,bootstrap:[rK]});static#n=this.\u0275inj=qe({imports:[rs,Fp,Bp,dY,fY]})}return n})(),dxe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n,bootstrap:[sK]});static#n=this.\u0275inj=qe({imports:[rs,Fp,Bp,p1]})}return n})(),pY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=We({type:n}),n.\u0275inj=qe({imports:[[rs]]}),n})(),gxe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n,bootstrap:[nK]});static#n=this.\u0275inj=qe({imports:[rs,Fp,Bp,pY]})}return n})(),_xe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=We({type:n,bootstrap:[Ufe]});static#n=this.\u0275inj=qe({providers:[ppe(mpe())],imports:[b0e,Aye.initializeApp(lxe_firebaseConfig,"portfolio-Rico"),KCe,v0e,Bp,sTe,p1,Fp,q1,aTe,mRe,cxe,uxe,dxe,pY,gxe]})}return n})();ule().bootstrapModule(_xe).catch(n=>console.error(n))},73:()=>{const uo=":";Error;const ve=function(Q,...q){if(ve.translate){const Ae=ve.translate(Q,q);Q=Ae[0],q=Ae[1]}let ge=nn(Q[0],Q.raw[0]);for(let Ae=1;Ae<Q.length;Ae++)ge+=q[Ae-1]+nn(Q[Ae],Q.raw[Ae]);return ge},ut=":";function nn(Q,q){return q.charAt(0)===ut?Q.substring(function Ai(Q,q){for(let ge=1,Ae=1;ge<Q.length;ge++,Ae++)if("\\"===q[Ae])Ae++;else if(Q[ge]===uo)return ge;throw new Error(`Unterminated $localize metadata block in "${q}".`)}(Q,q)+1):Q}globalThis.$localize=ve},345:(uo,Vi,_t)=>{_t.d(Vi,{A:()=>bi});var L=_t(76),Ne=_t(362),V=_t(852),it=_t(41);class Tn{constructor(It,Ct){this._delegate=It,this.firebase=Ct,(0,V._addComponent)(It,new Ne.uA("app-compat",()=>this,"PUBLIC")),this.container=It.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(It){this._delegate.automaticDataCollectionEnabled=It}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(It=>{this._delegate.checkDestroyed(),It()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(It,Ct=V._DEFAULT_ENTRY_NAME){var $n;this._delegate.checkDestroyed();const di=this._delegate.container.getProvider(It);return!di.isInitialized()&&"EXPLICIT"===(null===($n=di.getComponent())||void 0===$n?void 0:$n.instantiationMode)&&di.initialize(),di.getImmediate({identifier:Ct})}_removeServiceInstance(It,Ct=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(It).clearInstance(Ct)}_addComponent(It){(0,V._addComponent)(this._delegate,It)}_addOrOverwriteComponent(It){(0,V._addOrOverwriteComponent)(this._delegate,It)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ui=new L.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ce=function Ln(){const tn=function zn(tn){const It={},Ct={__esModule:!0,initializeApp:function Yt(Gt,ni={}){const Re=V.initializeApp(Gt,ni);if((0,L.gR)(It,Re.name))return It[Re.name];const Mn=new tn(Re,Ct);return It[Re.name]=Mn,Mn},app:di,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function Bi(Gt){const ni=Gt.name,Re=ni.replace("-compat","");if(V._registerComponent(Gt)&&"PUBLIC"===Gt.type){const Mn=(On=di())=>{if("function"!=typeof On[Re])throw ui.create("invalid-app-argument",{appName:ni});return On[Re]()};void 0!==Gt.serviceProps&&(0,L.zw)(Mn,Gt.serviceProps),Ct[Re]=Mn,tn.prototype[Re]=function(...On){return this._getService.bind(this,ni).apply(this,Gt.multipleInstances?On:[])}}return"PUBLIC"===Gt.type?Ct[Re]:null},removeApp:function $n(Gt){delete It[Gt]},useAsService:function En(Gt,ni){return"serverAuth"===ni?null:ni},modularAPIs:V}};function di(Gt){if(!(0,L.gR)(It,Gt=Gt||V._DEFAULT_ENTRY_NAME))throw ui.create("no-app",{appName:Gt});return It[Gt]}return Ct.default=Ct,Object.defineProperty(Ct,"apps",{get:function _n(){return Object.keys(It).map(Gt=>It[Gt])}}),di.App=tn,Ct}(Tn);return tn.INTERNAL=Object.assign(Object.assign({},tn.INTERNAL),{createFirebaseNamespace:Ln,extendNamespace:function It(Ct){(0,L.zw)(tn,Ct)},createSubscribe:L.tD,ErrorFactory:L.FA,deepExtend:L.zw}),tn}(),Oe=new it.Vy("@firebase/app-compat");try{const tn=(0,L.mS)();if(void 0!==tn.firebase){Oe.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const It=tn.firebase.SDK_VERSION;It&&It.indexOf("LITE")>=0&&Oe.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const bi=Ce;!function an(tn){(0,V.registerVersion)("@firebase/app-compat","0.2.39",tn)}()},852:(uo,Vi,_t)=>{_t.r(Vi),_t.d(Vi,{FirebaseError:()=>it.g,SDK_VERSION:()=>Qo,_DEFAULT_ENTRY_NAME:()=>pn,_addComponent:()=>Gi,_addOrOverwriteComponent:()=>ms,_apps:()=>Lr,_clearComponents:()=>fo,_components:()=>$i,_getProvider:()=>gs,_isFirebaseApp:()=>_s,_isFirebaseServerApp:()=>Wn,_registerComponent:()=>ho,_removeServiceInstance:()=>Yo,_serverApps:()=>Cr,deleteApp:()=>ha,getApp:()=>da,getApps:()=>Qt,initializeApp:()=>Dr,initializeServerApp:()=>ua,onLog:()=>S,registerVersion:()=>z,setLogLevel:()=>I});var L=_t(467),Ne=_t(362),V=_t(41),it=_t(76);const Tn=(le,X)=>X.some(Ee=>le instanceof Ee);let rt,ui;const Ce=new WeakMap,Oe=new WeakMap,tt=new WeakMap,Nt=new WeakMap,an=new WeakMap;let It={get(le,X,Ee){if(le instanceof IDBTransaction){if("done"===X)return Oe.get(le);if("objectStoreNames"===X)return le.objectStoreNames||tt.get(le);if("store"===X)return Ee.objectStoreNames[1]?void 0:Ee.objectStore(Ee.objectStoreNames[0])}return Yt(le[X])},set:(le,X,Ee)=>(le[X]=Ee,!0),has:(le,X)=>le instanceof IDBTransaction&&("done"===X||"store"===X)||X in le};function di(le){return"function"==typeof le?function $n(le){return le!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ln(){return ui||(ui=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(le)?function(...X){return le.apply(_n(this),X),Yt(Ce.get(this))}:function(...X){return Yt(le.apply(_n(this),X))}:function(X,...Ee){const je=le.call(_n(this),X,...Ee);return tt.set(je,X.sort?X.sort():[X]),Yt(je)}}(le):(le instanceof IDBTransaction&&function tn(le){if(Oe.has(le))return;const X=new Promise((Ee,je)=>{const xt=()=>{le.removeEventListener("complete",Ht),le.removeEventListener("error",cn),le.removeEventListener("abort",cn)},Ht=()=>{Ee(),xt()},cn=()=>{je(le.error||new DOMException("AbortError","AbortError")),xt()};le.addEventListener("complete",Ht),le.addEventListener("error",cn),le.addEventListener("abort",cn)});Oe.set(le,X)}(le),Tn(le,function zn(){return rt||(rt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(le,It):le)}function Yt(le){if(le instanceof IDBRequest)return function bi(le){const X=new Promise((Ee,je)=>{const xt=()=>{le.removeEventListener("success",Ht),le.removeEventListener("error",cn)},Ht=()=>{Ee(Yt(le.result)),xt()},cn=()=>{je(le.error),xt()};le.addEventListener("success",Ht),le.addEventListener("error",cn)});return X.then(Ee=>{Ee instanceof IDBCursor&&Ce.set(Ee,le)}).catch(()=>{}),an.set(X,le),X}(le);if(Nt.has(le))return Nt.get(le);const X=di(le);return X!==le&&(Nt.set(le,X),an.set(X,le)),X}const _n=le=>an.get(le),Gt=["get","getKey","getAll","getAllKeys","count"],ni=["put","add","delete","clear"],Re=new Map;function Mn(le,X){if(!(le instanceof IDBDatabase)||X in le||"string"!=typeof X)return;if(Re.get(X))return Re.get(X);const Ee=X.replace(/FromIndex$/,""),je=X!==Ee,xt=ni.includes(Ee);if(!(Ee in(je?IDBIndex:IDBObjectStore).prototype)||!xt&&!Gt.includes(Ee))return;const Ht=function(){var cn=(0,L.A)(function*(Ei,...Bt){const So=this.transaction(Ei,xt?"readwrite":"readonly");let Nn=So.store;return je&&(Nn=Nn.index(Bt.shift())),(yield Promise.all([Nn[Ee](...Bt),xt&&So.done]))[0]});return function(Bt){return cn.apply(this,arguments)}}();return Re.set(X,Ht),Ht}!function Ct(le){It=le(It)}(le=>({...le,get:(X,Ee,je)=>Mn(X,Ee)||le.get(X,Ee,je),has:(X,Ee)=>!!Mn(X,Ee)||le.has(X,Ee)}));class On{constructor(X){this.container=X}getPlatformInfoString(){return this.container.getProviders().map(Ee=>{if(function Ai(le){const X=le.getComponent();return"VERSION"===X?.type}(Ee)){const je=Ee.getImmediate();return`${je.library}/${je.version}`}return null}).filter(Ee=>Ee).join(" ")}}const Fr="@firebase/app",qo="0.10.9",wi=new V.Vy("@firebase/app"),ps="@firebase/app-compat",Ko="@firebase/analytics-compat",re="@firebase/analytics",ue="@firebase/app-check-compat",be="@firebase/app-check",ye="@firebase/auth",Te="@firebase/auth-compat",ve="@firebase/database",ut="@firebase/database-compat",nn="@firebase/functions",Q="@firebase/functions-compat",q="@firebase/installations",ge="@firebase/installations-compat",Ae="@firebase/messaging",Ye="@firebase/messaging-compat",De="@firebase/performance",Wt="@firebase/performance-compat",At="@firebase/remote-config",Rt="@firebase/remote-config-compat",vt="@firebase/storage",Er="@firebase/storage-compat",qr="@firebase/firestore",Gn="@firebase/vertexai-preview",hi="@firebase/firestore-compat",Ri="firebase",pn="[DEFAULT]",Ir={[Fr]:"fire-core",[ps]:"fire-core-compat",[re]:"fire-analytics",[Ko]:"fire-analytics-compat",[be]:"fire-app-check",[ue]:"fire-app-check-compat",[ye]:"fire-auth",[Te]:"fire-auth-compat",[ve]:"fire-rtdb",[ut]:"fire-rtdb-compat",[nn]:"fire-fn",[Q]:"fire-fn-compat",[q]:"fire-iid",[ge]:"fire-iid-compat",[Ae]:"fire-fcm",[Ye]:"fire-fcm-compat",[De]:"fire-perf",[Wt]:"fire-perf-compat",[At]:"fire-rc",[Rt]:"fire-rc-compat",[vt]:"fire-gcs",[Er]:"fire-gcs-compat",[qr]:"fire-fst",[hi]:"fire-fst-compat",[Gn]:"fire-vertex","fire-js":"fire-js",[Ri]:"fire-js-all"},Lr=new Map,Cr=new Map,$i=new Map;function Gi(le,X){try{le.container.addComponent(X)}catch(Ee){wi.debug(`Component ${X.name} failed to register with FirebaseApp ${le.name}`,Ee)}}function ms(le,X){le.container.addOrOverwriteComponent(X)}function ho(le){const X=le.name;if($i.has(X))return wi.debug(`There were multiple attempts to register component ${X}.`),!1;$i.set(X,le);for(const Ee of Lr.values())Gi(Ee,le);for(const Ee of Cr.values())Gi(Ee,le);return!0}function gs(le,X){const Ee=le.container.getProvider("heartbeat").getImmediate({optional:!0});return Ee&&Ee.triggerHeartbeat(),le.container.getProvider(X)}function Yo(le,X,Ee=pn){gs(le,X).clearInstance(Ee)}function _s(le){return void 0!==le.options}function Wn(le){return void 0!==le.settings}function fo(){$i.clear()}const Tr=new it.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Qi{constructor(X,Ee,je){this._isDeleted=!1,this._options=Object.assign({},X),this._config=Object.assign({},Ee),this._name=Ee.name,this._automaticDataCollectionEnabled=Ee.automaticDataCollectionEnabled,this._container=je,this.container.addComponent(new Ne.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this.checkDestroyed(),this._automaticDataCollectionEnabled=X}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(X){this._isDeleted=X}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}class Yr extends Qi{constructor(X,Ee,je,xt){const Ht=void 0!==Ee.automaticDataCollectionEnabled&&Ee.automaticDataCollectionEnabled,cn={name:je,automaticDataCollectionEnabled:Ht};super(void 0!==X.apiKey?X:X.options,cn,xt),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Ht},Ee),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,Ee.releaseOnDeref=void 0,z(Fr,qo,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(X){this.isDeleted||(this._refCount++,void 0!==X&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(X,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){ha(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Tr.create("server-app-deleted")}}const Qo="10.13.0";function Dr(le,X={}){let Ee=le;"object"!=typeof X&&(X={name:X});const je=Object.assign({name:pn,automaticDataCollectionEnabled:!1},X),xt=je.name;if("string"!=typeof xt||!xt)throw Tr.create("bad-app-name",{appName:String(xt)});if(Ee||(Ee=(0,it.T9)()),!Ee)throw Tr.create("no-options");const Ht=Lr.get(xt);if(Ht){if((0,it.bD)(Ee,Ht.options)&&(0,it.bD)(je,Ht.config))return Ht;throw Tr.create("duplicate-app",{appName:xt})}const cn=new Ne.h1(xt);for(const Bt of $i.values())cn.addComponent(Bt);const Ei=new Qi(Ee,je,cn);return Lr.set(xt,Ei),Ei}function ua(le,X){if((0,it.Bd)()&&!(0,it.p7)())throw Tr.create("invalid-server-app-environment");let Ee;void 0===X.automaticDataCollectionEnabled&&(X.automaticDataCollectionEnabled=!1),Ee=_s(le)?le.options:le;const je=Object.assign(Object.assign({},X),Ee);if(void 0!==je.releaseOnDeref&&delete je.releaseOnDeref,void 0!==X.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Tr.create("finalization-registry-not-supported",{});const Ht=""+(So=JSON.stringify(je),[...So].reduce((Nn,Oh)=>Math.imul(31,Nn)+Oh.charCodeAt(0)|0,0)),cn=Cr.get(Ht);var So;if(cn)return cn.incRefCount(X.releaseOnDeref),cn;const Ei=new Ne.h1(Ht);for(const So of $i.values())Ei.addComponent(So);const Bt=new Yr(Ee,X,Ht,Ei);return Cr.set(Ht,Bt),Bt}function da(le=pn){const X=Lr.get(le);if(!X&&le===pn&&(0,it.T9)())return Dr();if(!X)throw Tr.create("no-app",{appName:le});return X}function Qt(){return Array.from(Lr.values())}function ha(le){return ys.apply(this,arguments)}function ys(){return(ys=(0,L.A)(function*(le){let X=!1;const Ee=le.name;Lr.has(Ee)?(X=!0,Lr.delete(Ee)):Cr.has(Ee)&&le.decRefCount()<=0&&(Cr.delete(Ee),X=!0),X&&(yield Promise.all(le.container.getProviders().map(je=>je.delete())),le.isDeleted=!0)})).apply(this,arguments)}function z(le,X,Ee){var je;let xt=null!==(je=Ir[le])&&void 0!==je?je:le;Ee&&(xt+=`-${Ee}`);const Ht=xt.match(/\s|\//),cn=X.match(/\s|\//);if(Ht||cn){const Ei=[`Unable to register library "${xt}" with version "${X}":`];return Ht&&Ei.push(`library name "${xt}" contains illegal characters (whitespace or "/")`),Ht&&cn&&Ei.push("and"),cn&&Ei.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void wi.warn(Ei.join(" "))}ho(new Ne.uA(`${xt}-version`,()=>({library:xt,version:X}),"VERSION"))}function S(le,X){if(null!==le&&"function"!=typeof le)throw Tr.create("invalid-log-argument");(0,V.Ey)(le,X)}function I(le){(0,V.He)(le)}const R="firebase-heartbeat-database",O=1,de="firebase-heartbeat-store";let Se=null;function Le(){return Se||(Se=function Bi(le,X,{blocked:Ee,upgrade:je,blocking:xt,terminated:Ht}={}){const cn=indexedDB.open(le,X),Ei=Yt(cn);return je&&cn.addEventListener("upgradeneeded",Bt=>{je(Yt(cn.result),Bt.oldVersion,Bt.newVersion,Yt(cn.transaction),Bt)}),Ee&&cn.addEventListener("blocked",Bt=>Ee(Bt.oldVersion,Bt.newVersion,Bt)),Ei.then(Bt=>{Ht&&Bt.addEventListener("close",()=>Ht()),xt&&Bt.addEventListener("versionchange",So=>xt(So.oldVersion,So.newVersion,So))}).catch(()=>{}),Ei}(R,O,{upgrade:(le,X)=>{if(0===X)try{le.createObjectStore(de)}catch(Ee){console.warn(Ee)}}}).catch(le=>{throw Tr.create("idb-open",{originalErrorMessage:le.message})})),Se}function Me(){return(Me=(0,L.A)(function*(le){try{const Ee=(yield Le()).transaction(de),je=yield Ee.objectStore(de).get(Ot(le));return yield Ee.done,je}catch(X){if(X instanceof it.g)wi.warn(X.message);else{const Ee=Tr.create("idb-get",{originalErrorMessage:X?.message});wi.warn(Ee.message)}}})).apply(this,arguments)}function kn(le,X){return Et.apply(this,arguments)}function Et(){return(Et=(0,L.A)(function*(le,X){try{const je=(yield Le()).transaction(de,"readwrite");yield je.objectStore(de).put(X,Ot(le)),yield je.done}catch(Ee){if(Ee instanceof it.g)wi.warn(Ee.message);else{const je=Tr.create("idb-set",{originalErrorMessage:Ee?.message});wi.warn(je.message)}}})).apply(this,arguments)}function Ot(le){return`${le.name}!${le.options.appId}`}class Al{constructor(X){this.container=X,this._heartbeatsCache=null;const Ee=this.container.getProvider("app").getImmediate();this._storage=new qm(Ee),this._heartbeatsCachePromise=this._storage.read().then(je=>(this._heartbeatsCache=je,je))}triggerHeartbeat(){var X=this;return(0,L.A)(function*(){var Ee,je,xt;try{const cn=X.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ei=Rl();return console.log("heartbeats",null===(Ee=X._heartbeatsCache)||void 0===Ee?void 0:Ee.heartbeats),null==(null===(je=X._heartbeatsCache)||void 0===je?void 0:je.heartbeats)&&(X._heartbeatsCache=yield X._heartbeatsCachePromise,null==(null===(xt=X._heartbeatsCache)||void 0===xt?void 0:xt.heartbeats))||X._heartbeatsCache.lastSentHeartbeatDate===Ei||X._heartbeatsCache.heartbeats.some(Bt=>Bt.date===Ei)?void 0:(X._heartbeatsCache.heartbeats.push({date:Ei,agent:cn}),X._heartbeatsCache.heartbeats=X._heartbeatsCache.heartbeats.filter(Bt=>{const So=new Date(Bt.date).valueOf();return Date.now()-So<=2592e6}),X._storage.overwrite(X._heartbeatsCache))}catch(Ht){wi.warn(Ht)}})()}getHeartbeatsHeader(){var X=this;return(0,L.A)(function*(){var Ee;try{if(null===X._heartbeatsCache&&(yield X._heartbeatsCachePromise),null==(null===(Ee=X._heartbeatsCache)||void 0===Ee?void 0:Ee.heartbeats)||0===X._heartbeatsCache.heartbeats.length)return"";const je=Rl(),{heartbeatsToSend:xt,unsentEntries:Ht}=function Mh(le,X=1024){const Ee=[];let je=le.slice();for(const xt of le){const Ht=Ee.find(cn=>cn.agent===xt.agent);if(Ht){if(Ht.dates.push(xt.date),at(Ee)>X){Ht.dates.pop();break}}else if(Ee.push({agent:xt.agent,dates:[xt.date]}),at(Ee)>X){Ee.pop();break}je=je.slice(1)}return{heartbeatsToSend:Ee,unsentEntries:je}}(X._heartbeatsCache.heartbeats),cn=(0,it.Uj)(JSON.stringify({version:2,heartbeats:xt}));return X._heartbeatsCache.lastSentHeartbeatDate=je,Ht.length>0?(X._heartbeatsCache.heartbeats=Ht,yield X._storage.overwrite(X._heartbeatsCache)):(X._heartbeatsCache.heartbeats=[],X._storage.overwrite(X._heartbeatsCache)),cn}catch(je){return wi.warn(je),""}})()}}function Rl(){return(new Date).toISOString().substring(0,10)}class qm{constructor(X){this.app=X,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,L.A)(function*(){return!!(0,it.zW)()&&(0,it.eX)().then(()=>!0).catch(()=>!1)})()}read(){var X=this;return(0,L.A)(function*(){if(yield X._canUseIndexedDBPromise){const je=yield function jt(le){return Me.apply(this,arguments)}(X.app);return je?.heartbeats?je:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(X){var Ee=this;return(0,L.A)(function*(){var je;if(yield Ee._canUseIndexedDBPromise){const Ht=yield Ee.read();return kn(Ee.app,{lastSentHeartbeatDate:null!==(je=X.lastSentHeartbeatDate)&&void 0!==je?je:Ht.lastSentHeartbeatDate,heartbeats:X.heartbeats})}})()}add(X){var Ee=this;return(0,L.A)(function*(){var je;if(yield Ee._canUseIndexedDBPromise){const Ht=yield Ee.read();return kn(Ee.app,{lastSentHeartbeatDate:null!==(je=X.lastSentHeartbeatDate)&&void 0!==je?je:Ht.lastSentHeartbeatDate,heartbeats:[...Ht.heartbeats,...X.heartbeats]})}})()}}function at(le){return(0,it.Uj)(JSON.stringify({version:2,heartbeats:le})).length}!function _b(le){ho(new Ne.uA("platform-logger",X=>new On(X),"PRIVATE")),ho(new Ne.uA("heartbeat",X=>new Al(X),"PRIVATE")),z(Fr,qo,le),z(Fr,qo,"esm2017"),z("fire-js","")}("")},362:(uo,Vi,_t)=>{_t.d(Vi,{h1:()=>zn,uA:()=>V});var L=_t(467),Ne=_t(76);class V{constructor(Ce,Oe,tt){this.name=Ce,this.instanceFactory=Oe,this.type=tt,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ce){return this.instantiationMode=Ce,this}setMultipleInstances(Ce){return this.multipleInstances=Ce,this}setServiceProps(Ce){return this.serviceProps=Ce,this}setInstanceCreatedCallback(Ce){return this.onInstanceCreated=Ce,this}}const it="[DEFAULT]";class Tn{constructor(Ce,Oe){this.name=Ce,this.container=Oe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ce){const Oe=this.normalizeInstanceIdentifier(Ce);if(!this.instancesDeferred.has(Oe)){const tt=new Ne.cY;if(this.instancesDeferred.set(Oe,tt),this.isInitialized(Oe)||this.shouldAutoInitialize())try{const Nt=this.getOrInitializeService({instanceIdentifier:Oe});Nt&&tt.resolve(Nt)}catch{}}return this.instancesDeferred.get(Oe).promise}getImmediate(Ce){var Oe;const tt=this.normalizeInstanceIdentifier(Ce?.identifier),Nt=null!==(Oe=Ce?.optional)&&void 0!==Oe&&Oe;if(!this.isInitialized(tt)&&!this.shouldAutoInitialize()){if(Nt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:tt})}catch(an){if(Nt)return null;throw an}}getComponent(){return this.component}setComponent(Ce){if(Ce.name!==this.name)throw Error(`Mismatching Component ${Ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ce,this.shouldAutoInitialize()){if(function ui(Ln){return"EAGER"===Ln.instantiationMode}(Ce))try{this.getOrInitializeService({instanceIdentifier:it})}catch{}for(const[Oe,tt]of this.instancesDeferred.entries()){const Nt=this.normalizeInstanceIdentifier(Oe);try{const an=this.getOrInitializeService({instanceIdentifier:Nt});tt.resolve(an)}catch{}}}}clearInstance(Ce=it){this.instancesDeferred.delete(Ce),this.instancesOptions.delete(Ce),this.instances.delete(Ce)}delete(){var Ce=this;return(0,L.A)(function*(){const Oe=Array.from(Ce.instances.values());yield Promise.all([...Oe.filter(tt=>"INTERNAL"in tt).map(tt=>tt.INTERNAL.delete()),...Oe.filter(tt=>"_delete"in tt).map(tt=>tt._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ce=it){return this.instances.has(Ce)}getOptions(Ce=it){return this.instancesOptions.get(Ce)||{}}initialize(Ce={}){const{options:Oe={}}=Ce,tt=this.normalizeInstanceIdentifier(Ce.instanceIdentifier);if(this.isInitialized(tt))throw Error(`${this.name}(${tt}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Nt=this.getOrInitializeService({instanceIdentifier:tt,options:Oe});for(const[an,bi]of this.instancesDeferred.entries())tt===this.normalizeInstanceIdentifier(an)&&bi.resolve(Nt);return Nt}onInit(Ce,Oe){var tt;const Nt=this.normalizeInstanceIdentifier(Oe),an=null!==(tt=this.onInitCallbacks.get(Nt))&&void 0!==tt?tt:new Set;an.add(Ce),this.onInitCallbacks.set(Nt,an);const bi=this.instances.get(Nt);return bi&&Ce(bi,Nt),()=>{an.delete(Ce)}}invokeOnInitCallbacks(Ce,Oe){const tt=this.onInitCallbacks.get(Oe);if(tt)for(const Nt of tt)try{Nt(Ce,Oe)}catch{}}getOrInitializeService({instanceIdentifier:Ce,options:Oe={}}){let tt=this.instances.get(Ce);if(!tt&&this.component&&(tt=this.component.instanceFactory(this.container,{instanceIdentifier:(Ln=Ce,Ln===it?void 0:Ln),options:Oe}),this.instances.set(Ce,tt),this.instancesOptions.set(Ce,Oe),this.invokeOnInitCallbacks(tt,Ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ce,tt)}catch{}var Ln;return tt||null}normalizeInstanceIdentifier(Ce=it){return this.component?this.component.multipleInstances?Ce:it:Ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class zn{constructor(Ce){this.name=Ce,this.providers=new Map}addComponent(Ce){const Oe=this.getProvider(Ce.name);if(Oe.isComponentSet())throw new Error(`Component ${Ce.name} has already been registered with ${this.name}`);Oe.setComponent(Ce)}addOrOverwriteComponent(Ce){this.getProvider(Ce.name).isComponentSet()&&this.providers.delete(Ce.name),this.addComponent(Ce)}getProvider(Ce){if(this.providers.has(Ce))return this.providers.get(Ce);const Oe=new Tn(Ce,this);return this.providers.set(Ce,Oe),Oe}getProviders(){return Array.from(this.providers.values())}}},41:(uo,Vi,_t)=>{_t.d(Vi,{$b:()=>Ne,Ey:()=>Ln,He:()=>zn,Vy:()=>ui});const L=[];var Ne=function(Ce){return Ce[Ce.DEBUG=0]="DEBUG",Ce[Ce.VERBOSE=1]="VERBOSE",Ce[Ce.INFO=2]="INFO",Ce[Ce.WARN=3]="WARN",Ce[Ce.ERROR=4]="ERROR",Ce[Ce.SILENT=5]="SILENT",Ce}(Ne||{});const V={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},it=Ne.INFO,Tn={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},rt=(Ce,Oe,...tt)=>{if(Oe<Ce.logLevel)return;const Nt=(new Date).toISOString(),an=Tn[Oe];if(!an)throw new Error(`Attempted to log a message with an invalid logType (value: ${Oe})`);console[an](`[${Nt}]  ${Ce.name}:`,...tt)};class ui{constructor(Oe){this.name=Oe,this._logLevel=it,this._logHandler=rt,this._userLogHandler=null,L.push(this)}get logLevel(){return this._logLevel}set logLevel(Oe){if(!(Oe in Ne))throw new TypeError(`Invalid value "${Oe}" assigned to \`logLevel\``);this._logLevel=Oe}setLogLevel(Oe){this._logLevel="string"==typeof Oe?V[Oe]:Oe}get logHandler(){return this._logHandler}set logHandler(Oe){if("function"!=typeof Oe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Oe}get userLogHandler(){return this._userLogHandler}set userLogHandler(Oe){this._userLogHandler=Oe}debug(...Oe){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...Oe),this._logHandler(this,Ne.DEBUG,...Oe)}log(...Oe){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...Oe),this._logHandler(this,Ne.VERBOSE,...Oe)}info(...Oe){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...Oe),this._logHandler(this,Ne.INFO,...Oe)}warn(...Oe){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...Oe),this._logHandler(this,Ne.WARN,...Oe)}error(...Oe){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...Oe),this._logHandler(this,Ne.ERROR,...Oe)}}function zn(Ce){L.forEach(Oe=>{Oe.setLogLevel(Ce)})}function Ln(Ce,Oe){for(const tt of L){let Nt=null;Oe&&Oe.level&&(Nt=V[Oe.level]),tt.userLogHandler=null===Ce?null:(an,bi,...tn)=>{const It=tn.map(Ct=>{if(null==Ct)return null;if("string"==typeof Ct)return Ct;if("number"==typeof Ct||"boolean"==typeof Ct)return Ct.toString();if(Ct instanceof Error)return Ct.message;try{return JSON.stringify(Ct)}catch{return null}}).filter(Ct=>Ct).join(" ");bi>=(Nt??an.logLevel)&&Ce({level:Ne[bi].toLowerCase(),message:It,args:tn,type:an.name})}}}},438:(uo,Vi,_t)=>{var L=_t(467),Ne=_t(345),V=_t(257),it=_t(76),ui=(_t(852),_t(41),_t(362));function zn(){return window}function Oe(){return Oe=(0,L.A)(function*(S,I,R){var O;const{BuildInfo:de}=zn();(0,V.au)(I.sessionId,"AuthEvent did not contain a session ID");const Se=yield function Ct(S){return $n.apply(this,arguments)}(I.sessionId),Le={};return(0,V.av)()?Le.ibi=de.packageName:(0,V.aw)()?Le.apn=de.packageName:(0,V.ax)(S,"operation-not-supported-in-this-environment"),de.displayName&&(Le.appDisplayName=de.displayName),Le.sessionId=Se,(0,V.ay)(S,R,I.type,void 0,null!==(O=I.eventId)&&void 0!==O?O:void 0,Le)}),Oe.apply(this,arguments)}function Nt(){return(Nt=(0,L.A)(function*(S){const{BuildInfo:I}=zn(),R={};(0,V.av)()?R.iosBundleId=I.packageName:(0,V.aw)()?R.androidPackageName=I.packageName:(0,V.ax)(S,"operation-not-supported-in-this-environment"),yield(0,V.az)(S,R)})).apply(this,arguments)}function tn(){return(tn=(0,L.A)(function*(S,I,R){const{cordova:O}=zn();let de=()=>{};try{yield new Promise((Se,Le)=>{let jt=null;function Me(){var Ot;Se();const Zi=null===(Ot=O.plugins.browsertab)||void 0===Ot?void 0:Ot.close;"function"==typeof Zi&&Zi(),"function"==typeof R?.close&&R.close()}function kn(){jt||(jt=window.setTimeout(()=>{Le((0,V.aB)(S,"redirect-cancelled-by-user"))},2e3))}function Et(){"visible"===document?.visibilityState&&kn()}I.addPassiveListener(Me),document.addEventListener("resume",kn,!1),(0,V.aw)()&&document.addEventListener("visibilitychange",Et,!1),de=()=>{I.removePassiveListener(Me),document.removeEventListener("resume",kn,!1),document.removeEventListener("visibilitychange",Et,!1),jt&&window.clearTimeout(jt)}})}finally{de()}})).apply(this,arguments)}function $n(){return($n=(0,L.A)(function*(S){const I=function di(S){if((0,V.au)(/[0-9a-zA-Z]+/.test(S),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(S);const I=new ArrayBuffer(S.length),R=new Uint8Array(I);for(let O=0;O<S.length;O++)R[O]=S.charCodeAt(O);return R}(S),R=yield crypto.subtle.digest("SHA-256",I);return Array.from(new Uint8Array(R)).map(de=>de.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class _n extends V.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(I=>{this.resolveInitialized=I})}addPassiveListener(I){this.passiveListeners.add(I)}removePassiveListener(I){this.passiveListeners.delete(I)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(I){return this.resolveInitialized(),this.passiveListeners.forEach(R=>R(I)),super.onEvent(I)}initialized(){var I=this;return(0,L.A)(function*(){yield I.initPromise})()}}function Gt(S){return ni.apply(this,arguments)}function ni(){return(ni=(0,L.A)(function*(S){const I=yield On()._get(Ai(S));return I&&(yield On()._remove(Ai(S))),I})).apply(this,arguments)}function Mn(){const S=[];for(let R=0;R<20;R++){const O=Math.floor(62*Math.random());S.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(O))}return S.join("")}function On(){return(0,V.aE)(V.b)}function Ai(S){return(0,V.aF)("authEvent",S.config.apiKey,S.name)}function wi(S){if(!S?.includes("?"))return{};const[I,...R]=S.split("?");return(0,it.I9)(R.join("?"))}const re=class Ko{constructor(){this._redirectPersistence=V.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=V.aG,this._overrideRedirectResult=V.aH}_initialize(I){var R=this;return(0,L.A)(function*(){const O=I._key();let de=R.eventManagers.get(O);return de||(de=new _n(I),R.eventManagers.set(O,de),R.attachCallbackListeners(I,de)),de})()}_openPopup(I){(0,V.ax)(I,"operation-not-supported-in-this-environment")}_openRedirect(I,R,O,de){var Se=this;return(0,L.A)(function*(){!function It(S){var I,R,O,de,Se,Le,jt,Me,kn,Et;const Ot=zn();(0,V.aC)("function"==typeof(null===(I=Ot?.universalLinks)||void 0===I?void 0:I.subscribe),S,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,V.aC)(typeof(null===(R=Ot?.BuildInfo)||void 0===R?void 0:R.packageName)<"u",S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,V.aC)("function"==typeof(null===(Se=null===(de=null===(O=Ot?.cordova)||void 0===O?void 0:O.plugins)||void 0===de?void 0:de.browsertab)||void 0===Se?void 0:Se.openUrl),S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aC)("function"==typeof(null===(Me=null===(jt=null===(Le=Ot?.cordova)||void 0===Le?void 0:Le.plugins)||void 0===jt?void 0:jt.browsertab)||void 0===Me?void 0:Me.isAvailable),S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.aC)("function"==typeof(null===(Et=null===(kn=Ot?.cordova)||void 0===kn?void 0:kn.InAppBrowser)||void 0===Et?void 0:Et.open),S,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(I);const Le=yield Se._initialize(I);yield Le.initialized(),Le.resetRedirect(),(0,V.aI)(),yield Se._originValidation(I);const jt=function Bi(S,I,R=null){return{type:I,eventId:R,urlResponse:null,sessionId:Mn(),postBody:null,tenantId:S.tenantId,error:(0,V.aB)(S,"no-auth-event")}}(I,O,de);yield function En(S,I){return On()._set(Ai(S),I)}(I,jt);const Me=yield function Ce(S,I,R){return Oe.apply(this,arguments)}(I,jt,R),kn=yield function an(S){const{cordova:I}=zn();return new Promise(R=>{I.plugins.browsertab.isAvailable(O=>{let de=null;O?I.plugins.browsertab.openUrl(S):de=I.InAppBrowser.open(S,(0,V.aA)()?"_blank":"_system","location=yes"),R(de)})})}(Me);return function bi(S,I,R){return tn.apply(this,arguments)}(I,Le,kn)})()}_isIframeWebStorageSupported(I,R){throw new Error("Method not implemented.")}_originValidation(I){const R=I._key();return this.originValidationPromises[R]||(this.originValidationPromises[R]=function tt(S){return Nt.apply(this,arguments)}(I)),this.originValidationPromises[R]}attachCallbackListeners(I,R){const{universalLinks:O,handleOpenURL:de,BuildInfo:Se}=zn(),Le=setTimeout((0,L.A)(function*(){yield Gt(I),R.onEvent(ue())}),500),jt=function(){var Et=(0,L.A)(function*(Ot){clearTimeout(Le);const Zi=yield Gt(I);let zs=null;Zi&&Ot?.url&&(zs=function Re(S,I){var R,O;const de=function qo(S){const I=wi(S),R=I.link?decodeURIComponent(I.link):void 0,O=wi(R).link,de=I.deep_link_id?decodeURIComponent(I.deep_link_id):void 0;return wi(de).link||de||O||R||S}(I);if(de.includes("/__/auth/callback")){const Se=wi(de),Le=Se.firebaseError?function Fr(S){try{return JSON.parse(S)}catch{return null}}(decodeURIComponent(Se.firebaseError)):null,jt=null===(O=null===(R=Le?.code)||void 0===R?void 0:R.split("auth/"))||void 0===O?void 0:O[1],Me=jt?(0,V.aB)(jt):null;return Me?{type:S.type,eventId:S.eventId,tenantId:S.tenantId,error:Me,urlResponse:null,sessionId:null,postBody:null}:{type:S.type,eventId:S.eventId,tenantId:S.tenantId,sessionId:S.sessionId,urlResponse:de,postBody:null}}return null}(Zi,Ot.url)),R.onEvent(zs||ue())});return function(Zi){return Et.apply(this,arguments)}}();typeof O<"u"&&"function"==typeof O.subscribe&&O.subscribe(null,jt);const Me=de,kn=`${Se.packageName.toLowerCase()}://`;zn().handleOpenURL=function(){var Et=(0,L.A)(function*(Ot){if(Ot.toLowerCase().startsWith(kn)&&jt({url:Ot}),"function"==typeof Me)try{Me(Ot)}catch(Zi){console.error(Zi)}});return function(Ot){return Et.apply(this,arguments)}}()}};function ue(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,V.aB)("no-auth-event")}}function ut(){var S;return(null===(S=self?.location)||void 0===S?void 0:S.protocol)||null}function Q(S=(0,it.ZQ)()){return!("file:"!==ut()&&"ionic:"!==ut()&&"capacitor:"!==ut()||!S.toLowerCase().match(/iphone|ipad|ipod|android/))}function De(){try{const S=self.localStorage,I=V.aN();if(S)return S.setItem(I,"1"),S.removeItem(I),!function Ye(S=(0,it.ZQ)()){return function ge(){return(0,it.lT)()&&11===document?.documentMode}()||function Ae(S=(0,it.ZQ)()){return/Edge\/\d+/.test(S)}(S)}()||(0,it.zW)()}catch{return Wt()&&(0,it.zW)()}return!1}function Wt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function At(){return(function nn(){return"http:"===ut()||"https:"===ut()}()||(0,it.sr)()||Q())&&!function q(){return(0,it.lV)()||(0,it.Ll)()}()&&De()&&!Wt()}function Rt(){return Q()&&typeof document<"u"}function Er(){return(Er=(0,L.A)(function*(){return!!Rt()&&new Promise(S=>{const I=setTimeout(()=>{S(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(I),S(!0)})})})).apply(this,arguments)}const Gn={LOCAL:"local",NONE:"none",SESSION:"session"},hi=V.aC,Ri="persistence";function pn(S){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,L.A)(function*(S){yield S._initializationPromise;const I=Cr(),R=V.aF(Ri,S.config.apiKey,S.name);I&&I.setItem(R,S._getPersistence())})).apply(this,arguments)}function Cr(){var S;try{return(null===(S=function qr(){return typeof window<"u"?window:null}())||void 0===S?void 0:S.sessionStorage)||null}catch{return null}}const $i=V.aC;class Gi{constructor(){this.browserResolver=V.aE(V.k),this.cordovaResolver=V.aE(re),this.underlyingResolver=null,this._redirectPersistence=V.a,this._completeRedirectFn=V.aG,this._overrideRedirectResult=V.aH}_initialize(I){var R=this;return(0,L.A)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._initialize(I)})()}_openPopup(I,R,O,de){var Se=this;return(0,L.A)(function*(){return yield Se.selectUnderlyingResolver(),Se.assertedUnderlyingResolver._openPopup(I,R,O,de)})()}_openRedirect(I,R,O,de){var Se=this;return(0,L.A)(function*(){return yield Se.selectUnderlyingResolver(),Se.assertedUnderlyingResolver._openRedirect(I,R,O,de)})()}_isIframeWebStorageSupported(I,R){this.assertedUnderlyingResolver._isIframeWebStorageSupported(I,R)}_originValidation(I){return this.assertedUnderlyingResolver._originValidation(I)}get _shouldInitProactively(){return Rt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $i(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var I=this;return(0,L.A)(function*(){if(I.underlyingResolver)return;const R=yield function vt(){return Er.apply(this,arguments)}();I.underlyingResolver=R?I.cordovaResolver:I.browserResolver})()}}function ms(S){return S.unwrap()}function gs(S){return _s(S)}function _s(S){const{_tokenResponse:I}=S instanceof it.g?S.customData:S;if(!I)return null;if(!(S instanceof it.g)&&"temporaryProof"in I&&"phoneNumber"in I)return V.P.credentialFromResult(S);const R=I.providerId;if(!R||R===V.p.PASSWORD)return null;let O;switch(R){case V.p.GOOGLE:O=V.X;break;case V.p.FACEBOOK:O=V.W;break;case V.p.GITHUB:O=V.Y;break;case V.p.TWITTER:O=V.$;break;default:const{oauthIdToken:de,oauthAccessToken:Se,oauthTokenSecret:Le,pendingToken:jt,nonce:Me}=I;return Se||Le||de||jt?jt?R.startsWith("saml.")?V.aQ._create(R,jt):V.N._fromParams({providerId:R,signInMethod:R,pendingToken:jt,idToken:de,accessToken:Se}):new V.Z(R).credential({idToken:de,accessToken:Se,rawNonce:Me}):null}return S instanceof it.g?O.credentialFromError(S):O.credentialFromResult(S)}function Wn(S,I){return I.catch(R=>{throw R instanceof it.g&&function Yo(S,I){var R;const O=null===(R=I.customData)||void 0===R?void 0:R._tokenResponse;if("auth/multi-factor-auth-required"===I?.code)I.resolver=new Tr(S,V.as(S,I));else if(O){const de=_s(I),Se=I;de&&(Se.credential=de,Se.tenantId=O.tenantId||void 0,Se.email=O.email||void 0,Se.phoneNumber=O.phoneNumber||void 0)}}(S,R),R}).then(R=>{const de=R.user;return{operationType:R.operationType,credential:gs(R),additionalUserInfo:V.aq(R),user:Qi.getOrCreate(de)}})}function fo(S,I){return vs.apply(this,arguments)}function vs(){return(vs=(0,L.A)(function*(S,I){const R=yield I;return{verificationId:R.verificationId,confirm:O=>Wn(S,R.confirm(O))}})).apply(this,arguments)}class Tr{constructor(I,R){this.resolver=R,this.auth=function ho(S){return S.wrapped()}(I)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(I){return Wn(ms(this.auth),this.resolver.resolveSignIn(I))}}class Qi{constructor(I){this._delegate=I,this.multiFactor=V.at(I)}static getOrCreate(I){return Qi.USER_MAP.has(I)||Qi.USER_MAP.set(I,new Qi(I)),Qi.USER_MAP.get(I)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(I){return this._delegate.getIdTokenResult(I)}getIdToken(I){return this._delegate.getIdToken(I)}linkAndRetrieveDataWithCredential(I){return this.linkWithCredential(I)}linkWithCredential(I){var R=this;return(0,L.A)(function*(){return Wn(R.auth,V.a2(R._delegate,I))})()}linkWithPhoneNumber(I,R){var O=this;return(0,L.A)(function*(){return fo(O.auth,V.l(O._delegate,I,R))})()}linkWithPopup(I){var R=this;return(0,L.A)(function*(){return Wn(R.auth,V.d(R._delegate,I,Gi))})()}linkWithRedirect(I){var R=this;return(0,L.A)(function*(){return yield pn(V.aJ(R.auth)),V.g(R._delegate,I,Gi)})()}reauthenticateAndRetrieveDataWithCredential(I){return this.reauthenticateWithCredential(I)}reauthenticateWithCredential(I){var R=this;return(0,L.A)(function*(){return Wn(R.auth,V.a3(R._delegate,I))})()}reauthenticateWithPhoneNumber(I,R){return fo(this.auth,V.r(this._delegate,I,R))}reauthenticateWithPopup(I){return Wn(this.auth,V.e(this._delegate,I,Gi))}reauthenticateWithRedirect(I){var R=this;return(0,L.A)(function*(){return yield pn(V.aJ(R.auth)),V.h(R._delegate,I,Gi)})()}sendEmailVerification(I){return V.ag(this._delegate,I)}unlink(I){var R=this;return(0,L.A)(function*(){return yield V.ap(R._delegate,I),R})()}updateEmail(I){return V.al(this._delegate,I)}updatePassword(I){return V.am(this._delegate,I)}updatePhoneNumber(I){return V.u(this._delegate,I)}updateProfile(I){return V.ak(this._delegate,I)}verifyBeforeUpdateEmail(I,R){return V.ah(this._delegate,I,R)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Qi.USER_MAP=new WeakMap;const Yr=V.aC;let Qo=(()=>{class S{constructor(R,O){if(this.app=R,O.isInitialized())return this._delegate=O.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:de}=R.options;Yr(de,"invalid-api-key",{appName:R.name}),Yr(de,"invalid-api-key",{appName:R.name});const Se=typeof window<"u"?Gi:void 0;this._delegate=O.initialize({options:{persistence:ua(de,R.name),popupRedirectResolver:Se}}),this._delegate._updateErrorMap(V.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Qi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(R){this._delegate.languageCode=R}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(R){this._delegate.tenantId=R}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(R,O){V.K(this._delegate,R,O)}applyActionCode(R){return V.a7(this._delegate,R)}checkActionCode(R){return V.a8(this._delegate,R)}confirmPasswordReset(R,O){return V.a6(this._delegate,R,O)}createUserWithEmailAndPassword(R,O){var de=this;return(0,L.A)(function*(){return Wn(de._delegate,V.aa(de._delegate,R,O))})()}fetchProvidersForEmail(R){return this.fetchSignInMethodsForEmail(R)}fetchSignInMethodsForEmail(R){return V.af(this._delegate,R)}isSignInWithEmailLink(R){return V.ad(this._delegate,R)}getRedirectResult(){var R=this;return(0,L.A)(function*(){Yr(At(),R._delegate,"operation-not-supported-in-this-environment");const O=yield V.j(R._delegate,Gi);return O?Wn(R._delegate,Promise.resolve(O)):{credential:null,user:null}})()}addFrameworkForLogging(R){!function be(S,I){(0,V.aJ)(S)._logFramework(I)}(this._delegate,R)}onAuthStateChanged(R,O,de){const{next:Se,error:Le,complete:jt}=Dr(R,O,de);return this._delegate.onAuthStateChanged(Se,Le,jt)}onIdTokenChanged(R,O,de){const{next:Se,error:Le,complete:jt}=Dr(R,O,de);return this._delegate.onIdTokenChanged(Se,Le,jt)}sendSignInLinkToEmail(R,O){return V.ac(this._delegate,R,O)}sendPasswordResetEmail(R,O){return V.a5(this._delegate,R,O||void 0)}setPersistence(R){var O=this;return(0,L.A)(function*(){let de;switch(function Kr(S,I){hi(Object.values(Gn).includes(I),S,"invalid-persistence-type"),(0,it.lV)()?hi(I!==Gn.SESSION,S,"unsupported-persistence-type"):(0,it.Ll)()?hi(I===Gn.NONE,S,"unsupported-persistence-type"):Wt()?hi(I===Gn.NONE||I===Gn.LOCAL&&(0,it.zW)(),S,"unsupported-persistence-type"):hi(I===Gn.NONE||De(),S,"unsupported-persistence-type")}(O._delegate,R),R){case Gn.SESSION:de=V.a;break;case Gn.LOCAL:de=(yield V.aE(V.i)._isAvailable())?V.i:V.b;break;case Gn.NONE:de=V.U;break;default:return V.ax("argument-error",{appName:O._delegate.name})}return O._delegate.setPersistence(de)})()}signInAndRetrieveDataWithCredential(R){return this.signInWithCredential(R)}signInAnonymously(){return Wn(this._delegate,V.a0(this._delegate))}signInWithCredential(R){return Wn(this._delegate,V.a1(this._delegate,R))}signInWithCustomToken(R){return Wn(this._delegate,V.a4(this._delegate,R))}signInWithEmailAndPassword(R,O){return Wn(this._delegate,V.ab(this._delegate,R,O))}signInWithEmailLink(R,O){return Wn(this._delegate,V.ae(this._delegate,R,O))}signInWithPhoneNumber(R,O){return fo(this._delegate,V.s(this._delegate,R,O))}signInWithPopup(R){var O=this;return(0,L.A)(function*(){return Yr(At(),O._delegate,"operation-not-supported-in-this-environment"),Wn(O._delegate,V.c(O._delegate,R,Gi))})()}signInWithRedirect(R){var O=this;return(0,L.A)(function*(){return Yr(At(),O._delegate,"operation-not-supported-in-this-environment"),yield pn(O._delegate),V.f(O._delegate,R,Gi)})()}updateCurrentUser(R){return this._delegate.updateCurrentUser(R)}verifyPasswordResetCode(R){return V.a9(this._delegate,R)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return S.Persistence=Gn,S})();function Dr(S,I,R){let O=S;"function"!=typeof S&&({next:O,error:I,complete:R}=S);const de=O;return{next:Le=>de(Le&&Qi.getOrCreate(Le)),error:I,complete:R}}function ua(S,I){const R=function Lr(S,I){const R=Cr();if(!R)return[];const O=V.aF(Ri,S,I);switch(R.getItem(O)){case Gn.NONE:return[V.U];case Gn.LOCAL:return[V.i,V.a];case Gn.SESSION:return[V.a];default:return[]}}(S,I);if(typeof self<"u"&&!R.includes(V.i)&&R.push(V.i),typeof window<"u")for(const O of[V.b,V.a])R.includes(O)||R.push(O);return R.includes(V.U)||R.push(V.U),R}class da{constructor(){this.providerId="phone",this._delegate=new V.P(ms(Ne.A.auth()))}static credential(I,R){return V.P.credential(I,R)}verifyPhoneNumber(I,R){return this._delegate.verifyPhoneNumber(I,R)}unwrap(){return this._delegate}}da.PHONE_SIGN_IN_METHOD=V.P.PHONE_SIGN_IN_METHOD,da.PROVIDER_ID=V.P.PROVIDER_ID;const Qt=V.aC;class ha{constructor(I,R,O=Ne.A.app()){var de;Qt(null===(de=O.options)||void 0===de?void 0:de.apiKey,"invalid-api-key",{appName:O.name}),this._delegate=new V.R(O.auth(),I,R),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function z(S){S.INTERNAL.registerComponent(new ui.uA("auth-compat",I=>{const R=I.getProvider("app-compat").getImmediate(),O=I.getProvider("auth");return new Qo(R,O)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:V.A.EMAIL_SIGNIN,PASSWORD_RESET:V.A.PASSWORD_RESET,RECOVER_EMAIL:V.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:V.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:V.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:V.A.VERIFY_EMAIL}},EmailAuthProvider:V.V,FacebookAuthProvider:V.W,GithubAuthProvider:V.Y,GoogleAuthProvider:V.X,OAuthProvider:V.Z,SAMLAuthProvider:V._,PhoneAuthProvider:da,PhoneMultiFactorGenerator:V.m,RecaptchaVerifier:ha,TwitterAuthProvider:V.$,Auth:Qo,AuthCredential:V.L,Error:it.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),S.registerVersion("@firebase/auth-compat","0.5.12")}(Ne.A)},467:(uo,Vi,_t)=>{function L(V,it,Tn,rt,ui,zn,Ln){try{var Ce=V[zn](Ln),Oe=Ce.value}catch(tt){return void Tn(tt)}Ce.done?it(Oe):Promise.resolve(Oe).then(rt,ui)}function Ne(V){return function(){var it=this,Tn=arguments;return new Promise(function(rt,ui){var zn=V.apply(it,Tn);function Ln(Oe){L(zn,rt,ui,Ln,Ce,"next",Oe)}function Ce(Oe){L(zn,rt,ui,Ln,Ce,"throw",Oe)}Ln(void 0)})}}_t.d(Vi,{A:()=>Ne})},635:(uo,Vi,_t)=>{function it(re,ue){var be={};for(var ye in re)Object.prototype.hasOwnProperty.call(re,ye)&&ue.indexOf(ye)<0&&(be[ye]=re[ye]);if(null!=re&&"function"==typeof Object.getOwnPropertySymbols){var Te=0;for(ye=Object.getOwnPropertySymbols(re);Te<ye.length;Te++)ue.indexOf(ye[Te])<0&&Object.prototype.propertyIsEnumerable.call(re,ye[Te])&&(be[ye[Te]]=re[ye[Te]])}return be}function tt(re,ue,be,ye){return new(be||(be=Promise))(function(ve,ut){function nn(ge){try{q(ye.next(ge))}catch(Ae){ut(Ae)}}function Q(ge){try{q(ye.throw(ge))}catch(Ae){ut(Ae)}}function q(ge){ge.done?ve(ge.value):function Te(ve){return ve instanceof be?ve:new be(function(ut){ut(ve)})}(ge.value).then(nn,Q)}q((ye=ye.apply(re,ue||[])).next())})}function Yt(re){return this instanceof Yt?(this.v=re,this):new Yt(re)}function _n(re,ue,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,ye=be.apply(re,ue||[]),ve=[];return Te={},nn("next"),nn("throw"),nn("return",function ut(De){return function(Wt){return Promise.resolve(Wt).then(De,Ae)}}),Te[Symbol.asyncIterator]=function(){return this},Te;function nn(De,Wt){ye[De]&&(Te[De]=function(At){return new Promise(function(Rt,vt){ve.push([De,At,Rt,vt])>1||Q(De,At)})},Wt&&(Te[De]=Wt(Te[De])))}function Q(De,Wt){try{!function q(De){De.value instanceof Yt?Promise.resolve(De.value.v).then(ge,Ae):Ye(ve[0][2],De)}(ye[De](Wt))}catch(At){Ye(ve[0][3],At)}}function ge(De){Q("next",De)}function Ae(De){Q("throw",De)}function Ye(De,Wt){De(Wt),ve.shift(),ve.length&&Q(ve[0][0],ve[0][1])}}function En(re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,ue=re[Symbol.asyncIterator];return ue?ue.call(re):(re=function tn(re){var ue="function"==typeof Symbol&&Symbol.iterator,be=ue&&re[ue],ye=0;if(be)return be.call(re);if(re&&"number"==typeof re.length)return{next:function(){return re&&ye>=re.length&&(re=void 0),{value:re&&re[ye++],done:!re}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(re),be={},ye("next"),ye("throw"),ye("return"),be[Symbol.asyncIterator]=function(){return this},be);function ye(ve){be[ve]=re[ve]&&function(ut){return new Promise(function(nn,Q){!function Te(ve,ut,nn,Q){Promise.resolve(Q).then(function(q){ve({value:q,done:nn})},ut)}(nn,Q,(ut=re[ve](ut)).done,ut.value)})}}}_t.d(Vi,{AQ:()=>_n,N3:()=>Yt,Tt:()=>it,sH:()=>tt,xN:()=>En}),"function"==typeof SuppressedError&&SuppressedError}},uo=>{var Vi=L=>uo(uo.s=L);Vi(73),Vi(800)}]);